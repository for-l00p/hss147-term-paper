{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1278761292,"rating":27,"authorHandle":"slycelote","modificationTimeSeconds":1279009367,"id":530,"title":"Codeforces Beta Round #23 tutorial","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003ch3\u003eA. \u003ca href\u003d\"../../../contest/23/problem/A\"\u003eYou\u0027re given a string...\u003c/a\u003e\u003c/h3\u003e\u003cbr /\u003eIterate over all substrings, starting with the longest ones, and for each one count the number of appearances. The complexity is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eL\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e4\u003c/sup\u003e)\u003c/span\u003e with a small multiplicative constant.\u003cbr /\u003e \u003cbr /\u003e\u003ch3\u003eB. \u003ca href\u003d\"../../../contest/23/problem/B\"\u003eParty\u003c/a\u003e\u003c/h3\u003e\u003cbr /\u003eIt\u0027s clear that at least one person (the one with the least number of friends) will have to leave. We claim that at least two persons will leave. Indeed, suppose that only one person left, and he had \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e friends. Then all other people had more than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e friends before he left, and after that they had less than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e + 1\u003c/span\u003e friends, i.e. not more than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e. So, his leaving influenced the number of friends for every other person, which means that he was friends with everyone: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e \u003d \u003ci\u003eN\u003c/i\u003e - 1\u003c/span\u003e. But he has less friends than everyone — a contradiction.\u003cbr /\u003e\u003cbr /\u003eSo, the answer is not more than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 2\u003c/span\u003e. We\u0027ll prove that it\u0027s possible for \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 2\u003c/span\u003e people to stay (of course, if \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e \u0026gt; 1\u003c/span\u003e). The graph of friendship will be the following: take a complete graph on \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e vertices and delete one edge. Then the degrees of two vertices equal \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 2\u003c/span\u003e, and other degrees equal \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 1\u003c/span\u003e. After the first two vertices are removed, we have a complete graph on \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 2\u003c/span\u003e vertices, and all degrees equal \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 3\u003c/span\u003e, which means that no one else will leave.\u003cbr /\u003e\u003cbr /\u003e\u003ch3\u003eC. \u003ca href\u003d\"../../../contest/23/problem/C\"\u003e Oranges and Apples\u003c/a\u003e\u003c/h3\u003e\u003cbr /\u003eSort the boxes in increasing number of oranges. Count the total number of apples in boxes with odd and even numbers. If the boxes with odd numbers contain at least half of all apples, choose them (there are exactly \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e boxes with odd numbers). If the boxes with even numbers contain at least half of all apples, take them and the last box (which contains the largest number of oranges). It\u0027s easy to see that in both cases the conditions of the task are fulfilled.\u003cbr /\u003e\u003cbr /\u003e\u003ch3\u003eD. \u003ca href\u003d\"../../../contest/23/problem/D\"\u003eTetragon\u003c/a\u003e\u003c/h3\u003e\u003cbr /\u003eLet ABCD be the quadrangle sought for, and K, L, and M be the middle points of equal sides AB, BC and CD, correspondingly. Let M\u0027 be the point symmetric to M with respect to L. Then BM\u0027 \u003d CM \u003d CL \u003d BL \u003d BK, i. e. B is the circumcenter of the triangle KLM\u0027. \u003cbr /\u003e\u003cimg src\u003d\"http://img685.imageshack.us/img685/8097/task.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003cbr /\u003eKnowing B, we can get the whole quadrangle, using the symmetries with respect to the points K, L, and M, and then check whether it satisfies all conditions.\u003cbr /\u003eNote that we don\u0027t know which of the given points is L, so we need to check all 3 cases.\u003cbr /\u003e\u003cbr /\u003e\u003ch3\u003eE. \u003ca href\u003d\"../../../contest/23/problem/E\"\u003eTree\u003c/a\u003e\u003c/h3\u003e\u003cbr /\u003e\u003cb\u003eLemma\u003c/b\u003e. In one of optimal solutions there are no simple paths of length 3.\u003cbr /\u003e\u003cb\u003eProof\u003c/b\u003e. We can remove the middle edge from such a path. The connected component will split into two components of sizes \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003c/span\u003e, where \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e ≥ 2, \u003ci\u003eb\u003c/i\u003e ≥ 2\u003c/span\u003e, and therefore \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eab\u003c/i\u003e ≥ \u003ci\u003ea\u003c/i\u003e + \u003ci\u003eb\u003c/i\u003e\u003c/span\u003e.\u003cbr /\u003e\u003cbr /\u003eMake a rooted tree from the given tree, marking an arbitrary vertex as a root. We\u0027ll calculate recursively the numbers \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e \u003d the solution of the problem for the subtree with the root \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e, and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e \u003d the product of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003eu\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e for all children of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e. If \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e is a leaf, then \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e \u003d 1\u003c/span\u003e.\u003cbr /\u003e\u003cbr /\u003eWe show how to calculate \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, given the solution for all subtrees of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e. Consider the connected component of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e in an optimal solution. It follows from the lemma that the component has one of the following types:\u003cbr /\u003e1. The single vertex \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e.\u003cbr /\u003e2. The vertex \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e and several children of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e.\u003cbr /\u003e3. The vertex \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e, one child of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e — \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e, and several children of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e.\u003cbr /\u003e\u003cbr /\u003eIn the first case the result of the game is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e.\u003cbr /\u003e\u003cbr /\u003eIn the second case it equals \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eΠf\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e · \u003ci\u003eΠh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e · \u003ci\u003ek\u003c/i\u003e \u003d \u003ci\u003eΠ\u003c/i\u003e(\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e / \u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e) · \u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e · \u003ci\u003ek\u003c/i\u003e\u003c/span\u003e, where \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e iterates over children belonging to the connected component, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e iterates over the rest children, and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e is the size of the component. Since we want to maximize the result, we\u0027re interested in children with the largest value of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e / \u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e. Therefore, the largest possible result in this case equals the maximum value of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eΠ\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e ≤ \u003ci\u003es\u003c/i\u003e\u003c/sub\u003e  (\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e / \u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e) · \u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e · (\u003ci\u003es\u003c/i\u003e + 1)\u003c/span\u003e, where it\u0027s supposed that the children are sorted in descending order of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e / \u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e.\u003cbr /\u003e\u003cbr /\u003eIn the third case we can use a similar reasoning for every child \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e. The best result will be the maximum of the expression \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e · (\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/sub\u003e / \u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/sub\u003e) · \u003ci\u003eΠ\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e ≤ \u003ci\u003es\u003c/i\u003e\u003c/sub\u003e (\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e / \u003ci\u003eh\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e) · (\u003ci\u003es\u003c/i\u003e + 2)\u003c/span\u003e as \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e iterates over children of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e, and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003es\u003c/i\u003e\u003c/span\u003e iterates from 1 to the number of children of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e; note that the children of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e have already been sorted in the previous step.\u003cbr /\u003e\u003cbr /\u003eTherefore, the number of operations necessary to calculate \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e is proportional to the total number of children and grandchildren of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e, which is less than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e. The complexity of the algorithm, then, is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e2\u003c/sup\u003e)\u003c/span\u003e (ignoring operations with long numbers).\u003c/div\u003e","tags":["beta round #23","tutorial"]}}