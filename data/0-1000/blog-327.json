{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1271937741,"rating":0,"authorHandle":"ivan.afonichev","modificationTimeSeconds":1324413090,"id":327,"title":"Разработка ПО для проведения Saratov SFD\u002709: Как это было","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eВ 2009ом году в СГСЭУ(Саратовский Социально-Экономический Университет) произошла ротация кадров вследствие чего проведение там Saratov Software Freedom Day более не представлялось возможным.\u003c/p\u003e\u003cdiv\u003eЭстафету проведения SFD в Саратове подхватил СГУ.\u003c/div\u003e\u003cdiv\u003eОрганизаторами от СГУ были восновном люди с техническим уклоном и потому в этом году Saratov SFD получился существенно более технически продвинутым чем ранее.\u003c/div\u003e\u003cdiv\u003eДля организации SFD 2009 в СГУ было разработано несколько программных продуктов (вплоть до драйверов под Linux!)\u003c/div\u003e\u003cdiv\u003e \u003c/div\u003e\u003cdiv\u003eПри организации Saratov SFD 2009 был учтен опыт предыдущих лет.\u003c/div\u003e\u003cdiv\u003eБыл открыт специальный сайт посвещенный данному мероприятию \u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003ch2\u003e\u003ca href\u003d\"http://sfd.sgu.ru/\"\u003esfd.sgu.ru\u003c/a\u003e\u003cbr /\u003e\u003c/h2\u003e\u003cdiv\u003eСайт на самом деле является проектом в свободной системе управления проектам Redmine \u003ca href\u003d\"http://cc.sgu.ru/redmine\"\u003ehttp://cc.sgu.ru/redmine\u003c/a\u003e применяющейся в Вычислительном Центре СГУ \u003ca href\u003d\"http://cc.sgu.ru/\"\u003ehttp://cc.sgu.ru/\u003c/a\u003e . \u003c/div\u003e\u003cdiv\u003eRedmine написан на Ruby on Rails и на данный момент считается лучшим Open Source Багтрекером/Системой управления проектами.\u003c/div\u003e\u003cdiv\u003eСделать SFD проектом в ВЦшной системе управления проектами(а не например поднимать отдельный инстанс того же Redmine) было решено чтобы:\u003c/div\u003e\u003cdiv\u003e\u003cul\u003e\u003cli\u003eоблагородить ВЦшный редмайн для людей со стороны (SFD стал \u003cs\u003e\u0026quot;лучом света в темном царстве\u0026quot;\u003c/s\u003e  на данный момент единственным общедоступным/Open Source проектом  ВЦ)\u003cbr /\u003e\u003c/li\u003e\u003cli\u003eпривлечь внимание потенциальных новых кадров к ВЦ\u003cbr /\u003e\u003c/li\u003e\u003cli\u003eподчеркнуть принадлежность ВЦ к организации данного мероприятия\u003c/li\u003e\u003c/ul\u003e\u003cdiv\u003eВследствие этого организаторы столкнулись c рядом проблем:\u003c/div\u003e\u003c/div\u003e\u003cdiv\u003e\u003cul\u003e\u003cli\u003eRedmine из коробки не поддерживает различные стили для разных проектов\u003cbr /\u003e\u003c/li\u003e\u003cli\u003eв Redmine есть много полей которые не нужны рядовому докладчику при добавлении заявки на участие(статус,приоритет,назначена и т.д.)\u003cbr /\u003e\u003c/li\u003e\u003cli\u003eRedmine не поддерживает использование javascript в темах (фактически тема - это одна CSS)\u003cbr /\u003e\u003c/li\u003e\u003c/ul\u003e\u003cdiv\u003eЭти проблемы были решены разработкой плагина к redmine (никакого изменения исходников Redmine)\u003c/div\u003e\u003c/div\u003e\u003cdiv\u003eВ дальнейшем планируется его отрефакторить (разделить на отдельные плагины по функциям) и выложить в opensource. Приведу тут только некоторые куски кода:\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003ch3\u003eДобавление CSS, убирающую ненужные поля для неучасников проекта, и добавление JS:\u003cbr /\u003e\u003c/h3\u003e\u003cdiv\u003e\u003cspan style\u003d\"color: rgb(72,72,72);font-family: Verdana , sans-serif;font-size: 12.0px;\"\u003e\u003cpre style\u003d\"margin-top: 1.0em;margin-right: 1.0em;margin-bottom: 1.0em;margin-left: 1.6em;padding-top: 2.0px;padding-right: 2.0px;padding-bottom: 2.0px;padding-left: 2.0px;background-color: rgb(250,250,250);border-top-width: 1.0px;border-right-width: 1.0px;border-bottom-width: 1.0px;border-left-width: 1.0px;border-right-style: solid;border-bottom-style: solid;border-left-style: solid;border-top-color: rgb(218,218,218);border-right-color: rgb(218,218,218);border-bottom-color: rgb(218,218,218);border-left-color: rgb(218,218,218);width: 1142.0px;\"\u003e\u003ccode\u003e\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 1\u003c/span\u003e   \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003edef\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,102,187);font-weight: bold;\"\u003eview_layouts_base_html_head\u003c/span\u003e(context \u003d { })\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 2\u003c/span\u003e     ret\u003d\u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 3\u003c/span\u003e     project \u003d context[\u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:project\u003c/span\u003e]\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 4\u003c/span\u003e     baseurl \u003d url_for(\u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:controller\u003c/span\u003e \u003d\u0026gt; \u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003ewiki\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003c/span\u003e, \u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:action\u003c/span\u003e \u003d\u0026gt; \u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003eindex\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003c/span\u003e, \u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:id\u003c/span\u003e \u003d\u0026gt; project) + \u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/../../..\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0027\u003c/span\u003e\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 5\u003c/span\u003e     \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eif\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003enot\u003c/span\u003e project.nil?\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 6\u003c/span\u003e       \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eif\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003enot\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eUser\u003c/span\u003e.current.member_of?(project)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 7\u003c/span\u003e         \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eif\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eFile\u003c/span\u003e.exists?(\u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003e\u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eRAILS_ROOT\u003c/span\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/public/themes/\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003eproject.identifier\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/stylesheets/non_member.css\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 8\u003c/span\u003e           ret+\u003d stylesheet_link_tag(baseurl + \u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/themes/\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003eproject.identifier\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/stylesheets/non_member.css\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 9\u003c/span\u003e         \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e\u003cstrong\u003e10\u003c/strong\u003e\u003c/span\u003e       \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e11\u003c/span\u003e       \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eif\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eFile\u003c/span\u003e.exists?(\u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003e\u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eRAILS_ROOT\u003c/span\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/public/themes/\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003eproject.identifier\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/js/project.js\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e12\u003c/span\u003e         ret+\u003djavascript_include_tag(baseurl + \u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/themes/\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003eproject.identifier\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/js/project.js\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e13\u003c/span\u003e       \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e14\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e15\u003c/span\u003e     \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e16\u003c/span\u003e     \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003ereturn\u003c/span\u003e ret\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e17\u003c/span\u003e   \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003ch3\u003eПодмена функций самого redmine из плагина (per-project themes):\u003cbr /\u003e\u003c/h3\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003cdiv\u003e\u003cdiv\u003e\u003cspan style\u003d\"color: rgb(72,72,72);font-family: Verdana , sans-serif;font-size: 12.0px;\"\u003e\u003cpre style\u003d\"margin-top: 1.0em;margin-right: 1.0em;margin-bottom: 1.0em;margin-left: 1.6em;padding-top: 2.0px;padding-right: 2.0px;padding-bottom: 2.0px;padding-left: 2.0px;background-color: rgb(250,250,250);border-top-width: 1.0px;border-right-width: 1.0px;border-bottom-width: 1.0px;border-left-width: 1.0px;border-right-style: solid;border-bottom-style: solid;border-left-style: solid;border-top-color: rgb(218,218,218);border-right-color: rgb(218,218,218);border-bottom-color: rgb(218,218,218);border-left-color: rgb(218,218,218);width: 1142.0px;\"\u003e\u003ccode\u003e\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 1\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003emodule\u003c/span\u003e \u003cspan style\u003d\"color: rgb(187,0,102);font-weight: bold;\"\u003eCSSPatch\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 2\u003c/span\u003e   \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003edef\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,51,136);font-weight: bold;\"\u003eself\u003c/span\u003e.included(base) \u003cspan style\u003d\"color: rgb(102,102,102);\"\u003e# :nodoc:\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 3\u003c/span\u003e     base.send(\u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:include\u003c/span\u003e, \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eInstanceMethods\u003c/span\u003e)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 4\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 5\u003c/span\u003e     base.class_eval \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003edo\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 6\u003c/span\u003e       alias_method_chain \u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:path_to_stylesheet\u003c/span\u003e, \u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:perproject\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 7\u003c/span\u003e     \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 8\u003c/span\u003e   \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e 9\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e\u003cstrong\u003e10\u003c/strong\u003e\u003c/span\u003e   \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003emodule\u003c/span\u003e \u003cspan style\u003d\"color: rgb(187,0,102);font-weight: bold;\"\u003eInstanceMethods\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e11\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e12\u003c/span\u003e     \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003edef\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,102,187);font-weight: bold;\"\u003epath_to_stylesheet_with_perproject\u003c/span\u003e(source)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e13\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e14\u003c/span\u003e       th \u003d \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eString\u003c/span\u003e.new(\u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eSetting\u003c/span\u003e.ui_theme)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e15\u003c/span\u003e       \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eif\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003enot\u003c/span\u003e \u003cspan style\u003d\"color: rgb(51,51,187);\"\u003e@project\u003c/span\u003e.nil?\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e16\u003c/span\u003e         projecttheme \u003d \u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003e\u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eRAILS_ROOT\u003c/span\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/public/themes/\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003e\u003cspan style\u003d\"color: rgb(51,51,187);\"\u003e@project\u003c/span\u003e.identifier\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e17\u003c/span\u003e         \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eif\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eFile\u003c/span\u003e.exists?(projecttheme)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e18\u003c/span\u003e           th \u003d \u003cspan style\u003d\"color: rgb(51,51,187);\"\u003e@project\u003c/span\u003e.identifier\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e19\u003c/span\u003e         \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e\u003cstrong\u003e20\u003c/strong\u003e\u003c/span\u003e       \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e21\u003c/span\u003e       \u003cspan style\u003d\"color: rgb(51,51,187);\"\u003e@current_theme\u003c/span\u003e ||\u003d \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eRedmine\u003c/span\u003e::\u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eThemes\u003c/span\u003e.theme(th)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e22\u003c/span\u003e       stylesheet_path((\u003cspan style\u003d\"color: rgb(51,51,187);\"\u003e@current_theme\u003c/span\u003e \u0026amp;\u0026amp; \u003cspan style\u003d\"color: rgb(51,51,187);\"\u003e@current_theme\u003c/span\u003e.stylesheets.include?(source)) ?\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e23\u003c/span\u003e         \u003cspan style\u003d\"background-color: rgb(255,240,240);\"\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/themes/\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003e\u003cspan style\u003d\"color: rgb(51,51,187);\"\u003e@current_theme\u003c/span\u003e.dir\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(221,34,0);\"\u003e/stylesheets/\u003c/span\u003e\u003cspan style\u003d\"background-color: rgb(238,238,238);\"\u003e\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e#{\u003c/span\u003esource\u003cspan style\u003d\"font-weight: bold;color: rgb(136,136,136);\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan style\u003d\"color: rgb(119,17,0);\"\u003e\u0026quot;\u003c/span\u003e\u003c/span\u003e : source)\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e24\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e25\u003c/span\u003e     \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e26\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e27\u003c/span\u003e   \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e28\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,136,0);font-weight: bold;\"\u003eend\u003c/span\u003e\n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e29\u003c/span\u003e \n\u003cspan style\u003d\"padding-top: 0.0px;padding-right: 4.0px;padding-bottom: 0.0px;padding-left: 4.0px;\"\u003e\u003cstrong\u003e30\u003c/strong\u003e\u003c/span\u003e \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eApplicationHelper\u003c/span\u003e.send(\u003cspan style\u003d\"color: rgb(170,102,0);\"\u003e:include\u003c/span\u003e, \u003cspan style\u003d\"color: rgb(0,51,102);font-weight: bold;\"\u003eCSSPatch\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\u003cdiv\u003e\u003ccode\u003e\u003cbr /\u003e\u003c/code\u003e\u003c/div\u003e\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003ch2\u003eДрайвера для сенсорного экрана Электронного киоска\u003cbr /\u003e\u003c/h2\u003e\u003cdiv\u003eДля популяризации открытого ПО, осуществления возможности прямого взаимодействия посетителей с этим ПО а так же для наглядной рекламы мероприятия в СГУ было решено использовать электронный киоск оставшийся у ВЦ после реализации проекта информатизации муниципальных учреждений Саратова.\u003c/div\u003e\u003cdiv\u003e\u003cimg src\u003d\"/predownloaded/3e/87/3e8739bf737e84fc8e087c03dbf9ad4a1dce6ab6.jpg\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003cbr /\u003e\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003cdiv\u003eИ конечно на киоске должно было стоять свободное ПО.\u003c/div\u003e\u003cdiv\u003eНо как оказалось железная начинка киоска была не очень то свободна...\u003c/div\u003e\u003cdiv\u003eпод сенсорный экран GeneralTouch были очень старые проприетарные драйвера под графику Xfree86 не совместимые с современными Xorg  и был еще дикий велосипед от какого то энтузиаста \u003ca href\u003d\"http://linuxportal.ru/forums/index.php/m/81607/#msg_81607\"\u003ehttp://linuxportal.ru/forums/index.php/m/81607/#msg_81607\u003c/a\u003e (там какая то служба как то там маскировала этот сенсорный под какой то другой к которому тоже дрова старые и сторонние), который к тому же так и не заработал...\u003c/div\u003e\u003cdiv\u003eМы решили а почему бы не попробовать самим написать нормальные дрова? Тем более что в состав Xorg входят драйвера для сенсорных экранов Elotouch тоже к COM порту подключаемых как наш GeneralTouch и кроме того от того \u0026quot;велосипедиста\u0026quot; нам достался протокол по которому работает GeneralTouch.\u003c/div\u003e\u003cdiv\u003eОткрыли исходники \u003ca href\u003d\"http://cgit.freedesktop.org/xorg/driver/xf86-input-elographics/tree/src/xf86Elo.c?id\u003dxf86-input-elographics-1.2.3\"\u003exorg-x11-drv-elographics\u003c/a\u003e смотрим а формат то основного Touch пакета в точности совпадает!(формата других пакетов GeneralTouch у нас нет)... \u003c/div\u003e\u003cdiv\u003eУбрали инициализацию и другие не нужные куски, скомпили... Заработало!\u003c/div\u003e\u003cdiv\u003eВ последствии \u003ca href\u003d\"http://cgit.freedesktop.org/xorg/driver/xf86-input-elographics/commit/?id\u003dac5366d6e1f26e6ceef3d062ab7df301d623cf54\"\u003eнаш патч был принят в апcтрим\u003c/a\u003e\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003cdiv\u003eВывод... не бойтесь программировать... беритесь за практически полезные и интересные задачи...\u003c/div\u003e\u003cdiv\u003eПеред написанием дров посмотрев на исходники \u003ca href\u003d\"http://cgit.freedesktop.org/xorg/driver/xf86-input-elographics/tree/src/xf86Elo.c?id\u003dxf86-input-elographics-1.2.3\"\u003exorg-x11-drv-elographics\u003c/a\u003e даже некоторые бывшие олимпиадники из ЦОПа \u003ca href\u003d\"http://cc.sgu.ru/redmine/issues/161#note-5\"\u003eговорили\u003c/a\u003e: \u003c/div\u003e\u003cdiv\u003e\u0026quot;\u003cspan style\u003d\"color: rgb(72,72,72);font-family: Verdana , sans-serif;font-size: 12.0px;\"\u003eПочитал код драйвера и мне стало страшно :(\u003c/span\u003e\u003c/div\u003e\u003cdiv\u003e\u003cspan style\u003d\"color: rgb(72,72,72);font-family: Verdana , sans-serif;font-size: 12.0px;\"\u003eДумаю будет разумнее попытаться найти готовые дрова - низкоуровневое программирование это слишком тяжко на мой взгляд.\u003c/span\u003e\u0026quot;\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003cdiv\u003e\u003cbr /\u003e\u003c/div\u003e\u003cdiv\u003eP.S. вопрос к разработчикам codeforces...\u003c/div\u003e\u003cdiv\u003eА тут встроенная подсветка синтаксиса планируется? А то код пришлось копипастить в тот же редмайн там делать предварительный просмотр и копипастить сюда уже подсвеченный...\u003c/div\u003e\u003c/div\u003e","tags":["c++","linux","rails","redmine","ruby","sfd","саратов","свобода","сгу"]}}