{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1268609003,"rating":12,"authorHandle":"at1","modificationTimeSeconds":1268671733,"id":178,"title":"Beta Round #4 - Tutorial","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003ch2\u003eA. Watermelon\u003c/h2\u003eOnly if \u003ci\u003ew\u003c/i\u003e can be presented as 2\u003ci\u003em\u003c/i\u003e + 2\u003ci\u003ek\u003c/i\u003e watermelon can be divided to two even parts.\u003cbr /\u003eSo \u003ci\u003ew\u003c/i\u003e \u003d 2(\u003ci\u003em\u003c/i\u003e+\u003ci\u003ek\u003c/i\u003e), where \u003ci\u003em\u003c/i\u003e, \u003ci\u003ek\u003c/i\u003e ≥ \u003cb\u003e1\u003c/b\u003e, that is\u003cbr /\u003e(\u003ci\u003ew \u003c/i\u003e≥ \u003cb\u003e4\u003c/b\u003e и \u003ci\u003ew\u003c/i\u003e - even) - necessary and sufficient condition for watermelon dividing.\u003cbr /\u003e \u003cbr /\u003e\u003ch2\u003eB. Before an Exam\u003c/h2\u003eProblem restrictions allow one to use algo complicated as much as he wants. In my opinion the most simple way is written below.\u003cbr /\u003e\u003col\u003e\u003cli\u003eFill studying time for each day \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003esсhedule\u003c/i\u003e\u003c/span\u003e\u003ci\u003e\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e with \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eminTime\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003cspan class\u003d\"lower-index\"\u003e - Peter wants to study as less as he can\u003c/span\u003e\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eCompute rest: \u003ci\u003eneed\u003c/i\u003e \u003d \u003ci\u003esumTime \u003c/i\u003e- Σ\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003esсhedule\u003c/i\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003ci\u003e\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e. if \u003ci\u003eneed\u003c/i\u003e \u0026lt; 0 than Peter can\u0027t satisfy lower bound of parents restrictions in schedule making: even if schedule is as small as possible he will go over the quota.\u003cbr /\u003e\u003c/span\u003e\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eIn each day Peter has free studying hours\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e: Δ \u003d min(\u003ci\u003eneed\u003c/i\u003e, \u003ci\u003emaxTime\u003csub\u003ei\u003c/sub\u003e \u003c/i\u003e\u003c/span\u003e\u003c/span\u003e- \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003esсhedule\u003c/i\u003e\u003c/span\u003e\u003ci\u003e\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e) - each day \u003ci\u003ei\u003c/i\u003e Peter can additionally study. (\u003cspan style\u003d\"font-style: italic;\"\u003e\u003c/span\u003eWith each day \u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003esсhedule\u003c/i\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003ci\u003e\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e increase\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e on \u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eΔ\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e and \u003ci\u003eneed\u003c/i\u003e decrease on \u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eΔ\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e).\u003c/span\u003e\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eif \u003ci\u003eneed\u003c/i\u003e \u0026gt; 0\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e than Peter can\u0027t  satisfy lower bound\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e: \u003c/span\u003e\u003c/span\u003estudying \u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003ewith max power he has no time.\u003c/span\u003e\u003c/span\u003e\u003c/li\u003e\u003c/ol\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003esсhedule\u003c/i\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003ci\u003e\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e - is correct Peter\u0027s  schedule \u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eif 2 and 4 not fulfilled.\u003cbr /\u003e\u003c/span\u003e\u003c/span\u003e\u003ch2\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eC. \u003c/span\u003e\u003c/span\u003eRegistration system\u003c/h2\u003eFirst, one can see the restrictions ≤ 10\u003csup\u003e5\u003c/sup\u003e, that is he can expect n*log(n) solution.\u003cbr /\u003eNext, each string consist of \u0026quot;all lowercase Latin letters\u0026quot;, that is it doesn\u0027t contains digits.\u003cbr /\u003eBecause of it for each string we can compute what time we see it in the input. One needs to write \u0026quot;OK\u0026quot; for first request of current string, otherwise \u0026lt;\u003ci\u003estring\u003c/i\u003e\u0026gt;\u0026lt;\u003ci\u003ecomputed number\u003c/i\u003e\u0026gt;.\u003cbr /\u003eThis numbers can be computed by associate array (map in C++) or simple by sorting array of:\u003cbr /\u003e(\u003ci\u003estring\u003c/i\u003e, \u003ci\u003enumber in input file\u003c/i\u003e),\u003cbr /\u003esorted array would be splitted to blocks with equal strings. In each block one can set numbers from 1 to \u003ci\u003eblock_size\u003c/i\u003e.\u003cbr /\u003e\u003ch2\u003eD. Mysterious Present\u003c/h2\u003eProblem can be solved by dynamic programming approach for O(n\u003csup\u003e2\u003c/sup\u003e) by time and O(n) by memory.\u003cbr /\u003e\u003col\u003e\u003cli\u003eSort all envelopes by pairs (\u003ci\u003ew\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e, \u003ci\u003eh\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e) or by product \u003ci\u003ew\u003csub\u003ei\u003c/sub\u003e\u003c/i\u003e*\u003ci\u003eh\u003csub\u003ei \u003c/sub\u003e\u003c/i\u003ein nondecreasing order. Because of it envelope \u003ci\u003ei\u003c/i\u003e can be put in envelope \u003ci\u003ej\u003c/i\u003e only if \u003ci\u003ei\u003c/i\u003e \u0026lt; \u003ci\u003ej\u003c/i\u003e. That is for any chain \u003cspan class\u003d\"tex-span\"\u003e{\u003ci\u003ea\u003c/i\u003e\u003csub\u003e\u003cspan class\u003d\"lower-index\"\u003e1\u003c/span\u003e\u003c/sub\u003e, \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e, ..., \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e} is true that \u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub\u003e\u003cspan class\u003d\"lower-index\"\u003e1 \u0026lt; \u003c/span\u003e\u003c/sub\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2 \u0026lt; ... \u0026lt; \u003c/sub\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003cspan class\u003d\"lower-index\"\u003e.\u003c/span\u003e\u003c/span\u003e\u003c/li\u003e\u003cli\u003eJust delete all envelopes in which card can\u0027t be put in.\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003c/span\u003e\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003cspan class\u003d\"lower-index\"\u003eAdd to sorted envelopes array \u003c/span\u003e\u003c/span\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e\u003csub\u003e\u003cspan class\u003d\"lower-index\"\u003e0\u003c/span\u003e\u003c/sub\u003e\u003cspan class\u003d\"lower-index\"\u003e - Peter\u0027s card.\u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003c/span\u003e\u003c/li\u003e\u003cli\u003e\u003cspan class\u003d\"lower-index\"\u003eIntroduce DP function: \u003ci\u003edp\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e] maximum chain length which ends in \u003ci\u003ei\u003c/i\u003e-th envelope.\u003c/span\u003e\u003csub\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003c/span\u003e\u003c/sub\u003e\u003c/li\u003e\u003cli\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003ci\u003edp\u003c/i\u003e[0] \u003d 0, \u003ci\u003edp\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e] \u003d max(\u003ci\u003edp\u003c/i\u003e[\u003ci\u003ej\u003c/i\u003e]) + 1, where\u003c/span\u003e \u003ci\u003ei\u003c/i\u003e ≥ 1, 0 ≤ \u003ci\u003ej\u003c/i\u003e \u0026lt; \u003ci\u003ei\u003c/i\u003e and \u003ci\u003ej\u003c/i\u003e \u003ci\u003ecan be put in\u003c/i\u003e \u003ci\u003ei\u003c/i\u003e. This function can be easily got by previously computed values of it.\u003cbr /\u003e\u003c/li\u003e\u003c/ol\u003eProblem answer is \u003cspan class\u003d\"lower-index\"\u003emax(\u003ci\u003edp\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e])\u003c/span\u003e, where 0 ≤ \u003ci\u003ei\u003c/i\u003e ≤ \u003ci\u003en\u003c/i\u003e.\u003cbr /\u003eFor each \u003cspan class\u003d\"lower-index\"\u003e\u003ci\u003edp\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e] one can remember \u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003eindex \u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003ci\u003ep\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e] \u003d \u003ci\u003ej\u003c/i\u003e with which maximum reached in \u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003eformula p5\u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003e. If one knows \u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003ci\u003es\u003c/i\u003e - envelope index in which maximal chain ends he can restore all answer sequence\u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003e \u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003e(\u003ci\u003ei\u003c/i\u003e\u003csub\u003e0\u003c/sub\u003e \u003d \u003ci\u003es\u003c/i\u003e, \u003ci\u003ei\u003c/i\u003e\u003csub\u003e\u003ci\u003ek+1\u003c/i\u003e \u003c/sub\u003e\u003d \u003ci\u003ep\u003c/i\u003e[\u003ci\u003ei\u003csub\u003ek\u003c/sub\u003e\u003c/i\u003e]).\u003c/span\u003e\u003cspan class\u003d\"lower-index\"\u003e\u003cbr /\u003e\u003c/span\u003e\u003c/div\u003e","tags":["codeforces beta round #4","online","tutorial"]}}