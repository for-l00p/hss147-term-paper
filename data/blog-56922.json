{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1515171768,"rating":0,"authorHandle":"Iwaskid","modificationTimeSeconds":1515171768,"id":56922,"title":"\u003cp\u003eHelp with priority_queue custom comparator C++\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI am having problem writing a custom comparator for priority queue in C++. The elements\u0027 type in the queue is \u003ccode\u003epair\u0026lt;long long,pair\u0026lt;long long, long long\u0026gt;\u0026gt;\u003c/code\u003e I want the queue to rank the elements with the smallest\u003ccode\u003efirst\u003c/code\u003e element first, and if there is a tie, rank the elements with the smallest \u003ccode\u003esecond.first\u003c/code\u003e element first. If there\u0027s a tie again, rank the element with the smallest \u003ccode\u003esecond.second\u003c/code\u003e element first. So I have the following comparator and declaration:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003eclass cmp {\npublic:\n\tbool operator()(pair\u0026lt;long long, pair\u0026lt;long long, long long\u0026gt;\u0026gt; A, pair\u0026lt;long long, pair\u0026lt;long long, long long\u0026gt;\u0026gt; B) {\n\t\tif (A.first \u0026gt; B.first) {\n\t\t\treturn true;\n\t\t}\n\t\tif (A.first \u0026lt; B.first) {\n\t\t\treturn false;\n\t\t}\n\t\tif (A.first \u003d\u003d B.first) {\n\t\t\tif (A.second.first \u0026gt; B.second.first) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (A.second.first \u0026lt; B.second.first) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (A.second.second \u0026gt; B.second.second) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n};\n\nint main()\n{\n\tpriority_queue\u0026lt;pair\u0026lt;long long, pair\u0026lt;long long, long long\u0026gt;\u0026gt;,vector\u0026lt;pair\u0026lt;long long,pair\u0026lt;long long,long long\u0026gt;\u0026gt;\u0026gt;,cmp\u0026gt; q;\n\tq.push(make_pair(0, make_pair(1, 1)));//first element\n\tq.push(make_pair(9, make_pair(1, 1)));//second element\n\tq.push(make_pair(0, make_pair(1, 2)));//third element\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eHowever, when I push the three elements shown in the code, the queue does not give me the correct ranking of first, third, and second. I am sure I made some mistake but I couldn\u0027t find it. Please help me. Thank you!\u003c/p\u003e\u003c/div\u003e","tags":["c++ 14","priority queue","comparators"]}}