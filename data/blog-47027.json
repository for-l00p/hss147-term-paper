{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1473437400,"rating":-8,"authorHandle":"lyyllyyl","modificationTimeSeconds":1473439713,"id":47027,"title":"\u003cp\u003eYet another GCC bug? [CLOSED]\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI was learning some builtin functions in STL. And I wrote these code.\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\n\nint main() {\n  std::deque\u0026lt;int\u0026gt; tmp{1, 2, 3};\n  std::transform(tmp.begin(), tmp.end(), std::back_insert_iterator\u0026lt;std::deque\u0026lt;int\u0026gt;\u0026gt;(tmp), std::negate\u0026lt;\u0026gt;());\n  std::copy(tmp.begin(), tmp.end(), std::ostream_iterator\u0026lt;int\u0026gt; (std::cout, \u0026quot;\\n\u0026quot;));\n\n  std::vector\u0026lt;int\u0026gt; now{1, 2, 3};\n  std::transform(now.begin(), now.end(), std::back_insert_iterator\u0026lt;std::vector\u0026lt;int\u0026gt;\u0026gt;(now), std::negate\u0026lt;\u0026gt;());\n  std::copy(now.begin(), now.end(), std::ostream_iterator\u0026lt;int\u0026gt; (std::cout, \u0026quot;\\n\u0026quot;));\n  return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd I compile this code, with GCC 6.1.1, option -Wall -std\u003dc++14. The the output of the code was: \u003c/p\u003e\u003cp\u003e\u003ccode\u003e1 2 3 -1 -2 -3 1 2 3 -1 0 -3\u003c/code\u003e\u003c/p\u003e\u003cp\u003eIn my opinion, the 0 in the output should be -2. Am I wrong? If I use the back_insert_iterator wrong, please point it out. Thank you. If not, is this a bug for GCC 6.1.1? Feel free to compile this code on your own computer with different compiler and share your result. Thank you for the help. :)\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eUPD\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eI use the iterator wrong, push_back may cause relocation. \u003cstrong\u003eCLOSED\u003c/strong\u003e. Thank you again for the help.\u003c/p\u003e\u003c/div\u003e","tags":["gcc","bug","compiler","stl"]}}