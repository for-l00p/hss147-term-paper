{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1467860364,"rating":2,"authorHandle":"AIdancer","modificationTimeSeconds":1467860364,"id":45915,"title":"\u003cp\u003eUbuntu security note\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI lost a lot of money(90000RMB) within only 40 minutes. I don\u0027t know the reason. The futures company is investigating the accident. Maybe my remote linux server has some loophole. But I don\u0027t know how to investigate this question. Now, I realize I have few linux server\u0027s security awareness and experience. But, \u0026quot;亡羊补牢，为时未晚\u0026quot;.\u003c/p\u003e\u003cp\u003eI will note every experience from today. Now, let me begin.\u003c/p\u003e \u003col\u003e   \u003cli\u003ehistory command  History command only record the command string but nothing else in default. If we want to see everything the system has down very clearly. We need add the time stamp for every command string. Following is the method to do that.\u003c/li\u003e \u003c/ol\u003e \u003cpre\u003e\u003ccode\u003evim /etc/bashrc\nexport HISTTIMEFORMAT\u003d\u0027(%Y-%m-%d)(%H:%M:%S) command \u003d \u0027\nsource /etc/bashrc\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow, when you use \u0026quot;history 10\u0026quot;, you will see the latest 10 linux command and their correspond execution time.\u003c/p\u003e \u003col\u003e   \u003cli\u003e/var/log/auth.log  This file record every remote ssh login case (Accepted \u0026amp; Failed)\u003c/li\u003e \u003c/ol\u003e\u003c/div\u003e","tags":[]}}