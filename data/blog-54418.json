{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1504889740,"rating":16,"authorHandle":"bhishma","modificationTimeSeconds":1512216181,"id":54418,"title":"\u003cp\u003eHelp needed in ICPC Amritapuri 2010 problems \u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eRecently we were solving problems from past Indian ICPC regional . We weren\u0027t able to solve these 2 problems , and I couldn\u0027t find any editorial either . It would be really helpful if you guys can give me some hints to these problems.\u003c/p\u003e\u003ch3\u003e\u003ca href\u003d\"https://icpcarchive.ecs.baylor.edu/index.php?option\u003dcom_onlinejudge\u0026amp;Itemid\u003d8\u0026amp;category\u003d380\u0026amp;page\u003dshow_problem\u0026amp;problem\u003d3118\"\u003eChemicals\u003c/a\u003e [Solved]\u003c/h3\u003e\u003ch4\u003eDescription\u003c/h4\u003e\u003cp\u003eThere are \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e bottles each having a different chemical. For each chemical \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e, you have determined \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eC\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e]\u003c/span\u003e, which means that mixing chemicals \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eC\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e]\u003c/span\u003e causes an explosion. You have \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/span\u003e distinct boxes. In how many ways can you divide the \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e chemicals into those boxes such that no two chemicals in the same box can cause an explosion together?\u003c/p\u003e\u003ch4\u003eConstraints\u003c/h4\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eT\u003c/i\u003e ≤ 50\u003c/span\u003e\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e2 ≤ \u003ci\u003eN\u003c/i\u003e ≤ 100\u003c/span\u003e\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e2 ≤ \u003ci\u003eK\u003c/i\u003e ≤ 1000\u003c/span\u003e\u003c/li\u003e \u003c/ul\u003e\u003ch4\u003eMy Ideas\u003c/h4\u003e\u003cp\u003eI thought of modelling the given dependencies as a graph and we are asked to find the number of ways to partition the graph into independent sets . But I realised that counting independent sets is intractable , so there must be a much more efficient or different way to solve this problem . \u003c/p\u003e\u003ch4\u003eSolution\u003c/h4\u003e\u003cp\u003eThanks to ideas from \u003ca class\u003d\"rated-user user-orange\" href\u003d\"/profile/fram\" title\u003d\"Master fram\"\u003efram\u003c/a\u003e and \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/AleksanderBalobanov\" title\u003d\"Candidate Master AleksanderBalobanov\"\u003eAleksanderBalobanov\u003c/a\u003e Since it\u0027s a functional graph we will have exactly one cycle per connected component . We need to color the graph using atmost \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/span\u003e colors such that no 2 adjacent vertices have the same color . For any node which is not a cycle we have \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e - 1\u003c/span\u003e options . For the nodes in a cycle we need to take care of them separately . We can construct a recurrence to find the number of ways to color a cycle in the following way.\u003c/p\u003e\u003cp\u003eLet \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eDP\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e]\u003c/span\u003e denote the number of ways to color a chain of length \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e such that it starts and ends with different colors. \u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eDP\u003c/i\u003e[1] \u003d 0, \u003ci\u003eDP\u003c/i\u003e[2] \u003d \u003ci\u003eK\u003c/i\u003e * (\u003ci\u003eK\u003c/i\u003e - 1)\u003c/span\u003e\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eDP\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e] \u003d (\u003ci\u003eK\u003c/i\u003e - 2) * \u003ci\u003eDP\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e - 1] + (\u003ci\u003eK\u003c/i\u003e - 1) * \u003ci\u003eDP\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e - 2]\u003c/span\u003e\u003c/p\u003e\u003cp\u003eThis is basically saying that we have \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003eK\u003c/i\u003e - 2)\u003c/span\u003e options for a chain starting and ending with different colors and \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003eK\u003c/i\u003e - 1)\u003c/span\u003e options for a chain starting and ending with the same color. Another observation is that the number of chains of length \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e - 1\u003c/span\u003e which starts and ends with same color is same as number of chains of length \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e - 2\u003c/span\u003e which starts and ends with different colors.\u003c/p\u003e\u003cp\u003eMy \u003ca href\u003d\"https://gist.github.com/bhi5hmaraj/e9f00505bde8adb3b91e3ca611d8763b\"\u003esolution\u003c/a\u003e\u003c/p\u003e\u003ch3\u003e\u003ca href\u003d\"https://icpcarchive.ecs.baylor.edu/index.php?option\u003dcom_onlinejudge\u0026amp;Itemid\u003d8\u0026amp;category\u003d380\u0026amp;page\u003dshow_problem\u0026amp;problem\u003d3117\"\u003eDividing Stones\u003c/a\u003e [Solved]\u003c/h3\u003e\u003ch4\u003eDescription\u003c/h4\u003e\u003cp\u003eThere are \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e stones, which can be divided into some piles arbitrarily. Let the value of each division be equal to the product of the number of stones in all the piles modulo \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eP\u003c/i\u003e\u003c/span\u003e. How many possible distinct values are possible for a given \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eP\u003c/i\u003e\u003c/span\u003e?\u003c/p\u003e\u003ch4\u003eConstraints\u003c/h4\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eT\u003c/i\u003e ≤ 20\u003c/span\u003e\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e2 ≤ \u003ci\u003eN\u003c/i\u003e ≤ 70\u003c/span\u003e\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e2 ≤ \u003ci\u003eP\u003c/i\u003e ≤ 10\u003csup class\u003d\"upper-index\"\u003e9\u003c/sup\u003e\u003c/span\u003e\u003c/li\u003e \u003c/ul\u003e\u003ch4\u003eIdea (thanks to \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/AleksanderBalobanov\" title\u003d\"Candidate Master AleksanderBalobanov\"\u003eAleksanderBalobanov\u003c/a\u003e)\u003c/h4\u003e\u003cp\u003eWe represent every partition as \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e\u003c/sup\u003e * \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e\u003c/sup\u003e * ... * \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e\u003c/sup\u003e\u003c/span\u003e, where \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e, \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e, ..., \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e are primes up to \u003cspan class\u003d\"tex-span\"\u003e70\u003c/span\u003e. We can achieve this value for a given n iff \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e * \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e * \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e + ... + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e * \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e ≤ \u003ci\u003en\u003c/i\u003e\u003c/span\u003e . So the partition looks like \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e + \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e...\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e \u003ci\u003etimes\u003c/i\u003e + ... + \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e...\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sub\u003e \u003ci\u003etimes\u003c/i\u003e\u003c/span\u003e , if the value is less than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e we can add extra \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e . \u003c/p\u003e\u003cp\u003eMy \u003ca href\u003d\"https://gist.github.com/bhi5hmaraj/214cd2bf4e08f1deae3dd007d8e3156d\"\u003esolution\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e","tags":["acm-icpc amritapuri","graph","math"]}}