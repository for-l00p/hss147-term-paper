{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1521683430,"rating":0,"authorHandle":"leaomatheus","modificationTimeSeconds":1521734155,"id":58501,"title":"\u003cp\u003eMashup #2\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003ePD sob caminhos em grafos / Número de ciclos em um grafo (problema D do Mashup #2): \u003ca href\u003d\"//codeforces.com/blog/entry/337\"\u003ehttp://codeforces.com/blog/entry/337\u003c/a\u003e\u003c/p\u003e\u003cp\u003eImplementação de Aho-Corasick\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eAho-Corasick\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003eint trie[N][26], fim[N], link[N];\n\nint cnt \u003d 1;\n\nvoid add(const char* s) {\n    int tam \u003d strlen(s);\n    int no \u003d 0;\n    for(int i \u003d 0; i \u0026lt; tam; ++i) {\n        int c \u003d s[i]-\u0027a\u0027;\n        if(!trie[no][c])\n            trie[no][c] \u003d cnt++;\n        no \u003d trie[no][c];\n    }\n    fim[no]++;\n}\n \nvoid aho() {\n    queue\u0026lt;int\u0026gt; q;\n    q.push(0);\n    while(!q.empty()) {\n        int x \u003d q.front(); q.pop();\n        fim[x] +\u003d fim[link[x]];\n        for(int i \u003d 0; i \u0026lt; 26; ++i) {\n            if(trie[x][i]) {\n                int y \u003d trie[x][i];\n                q.push(y);\n                link[y] \u003d x ? trie[link[x]][i] : 0;\n            } else {\n                trie[x][i] \u003d trie[link[x]][i];\n            }\n        }\n    }\n}\n\nint query(char *str) {\n    int tam \u003d strlen(s);\n    int no \u003d 0, ans \u003d 0;\n    for(int i \u003d 0; i \u0026lt; tam; ++i) {\n        int c \u003d s[i]-\u0027a\u0027;\n        no \u003d trie[no][c];\n        ans +\u003d fim[no];\n    }\n    return ans;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eProblema de Aho-Corasick com multiplicação de matriz (problema F do Mashup #2): \u003ca href\u003d\"//codeforces.com/contest/696/submission/34972184\"\u003ehttp://codeforces.com/contest/696/submission/34972184\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e","tags":[]}}