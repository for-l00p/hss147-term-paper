{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1508862525,"rating":-5,"authorHandle":"A_V_A_L_O_N","modificationTimeSeconds":1508864720,"id":55384,"title":"\u003cp\u003eСистема непересекающихся множеств (Disjoint set, Union find data structure)\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e#define N 111111\n\nint p[N];\nint h[N];\nint razmer[N];\nint findset(int x){   // x ning otasini qaytaradi\n    if (x \u003d\u003d p[x]) return x;\n    return p[x] \u003d findset(p[x]);\n}\nvoid unionset(int x, int y){   // x va y sonlari qatnashgan to`plamlarni birlashtiradi\n    int a \u003d findset(x);\n    int b \u003d findset(y);\n    if (a !\u003d b){\n        if (h[a] \u0026gt; h[b]){\n            p[b] \u003d a;\n            razmer[a] +\u003d razmer[b];\n        } else {\n            p[a] \u003d b;\n            razmer[b] +\u003d razmer[a];\n            if (h[a] \u003d\u003d h[b]) h[b]++;\n        }\n    }\n}\nbool same(int a,int b){   // x va y ning otasi bir xilligini tekshiradi\n    return (findset(a) \u003d\u003d findset(b));\n}\nvoid initialize(){\n    for (int i \u003d 0; i \u0026lt; N; i++){\n        p[i] \u003d i;\n        razmer[i] \u003d 1;\n    }\n}\nvoid solve(){\n    initialize();\n    int m, x, y;\n    cin \u0026gt;\u0026gt; m;\n    for (int i \u003d 0; i \u0026lt; m; i ++){\n        string s;\n        cin \u0026gt;\u0026gt; s;\n        if (s \u003d\u003d \u0026quot;find\u0026quot;){\n            cin \u0026gt;\u0026gt; x;\n            cout \u0026lt;\u0026lt; findset(x) \u0026lt;\u0026lt; endl;\n        } else\n        if (s\u003d\u003d\u0026quot;same\u0026quot;){\n            cin \u0026gt;\u0026gt; x \u0026gt;\u0026gt; y;\n            if (same(x, y)) cout \u0026lt;\u0026lt; \u0026quot;YES\u0026quot; \u0026lt;\u0026lt; endl; else cout \u0026lt;\u0026lt; \u0026quot;NO\u0026quot; \u0026lt;\u0026lt; endl;\n        } else\n        if (s \u003d\u003d \u0026quot;union\u0026quot;){\n            cin \u0026gt;\u0026gt; x \u0026gt;\u0026gt; y;\n            unionset(x, y);\n        }\n    }\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}