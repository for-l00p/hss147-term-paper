{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1504055692,"rating":0,"authorHandle":"quinamatics","modificationTimeSeconds":1504055692,"id":54162,"title":"\u003cp\u003eDuff in Beach (Div 1 Round 326 B)\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHello, I am getting WA on test case 4. I followed the editorial quite closely, so I think the issue might lie in not properly taking the modulus. Here is my WA code: import java.util.Arrays; import java.util.HashMap; import java.util.Scanner;\u003c/p\u003e\u003cp\u003epublic class DuffInBeach {\u003c/p\u003e \u003cpre\u003e\u003ccode\u003epublic static void main(String[] args) {\n\n    Scanner s \u003d new Scanner(System.in);\n    String str \u003d s.nextLine();\n    String[] strarr \u003d str.split(\u0026quot; \u0026quot;);\n    int N \u003d Integer.parseInt(strarr[0]);\n    double L \u003d Double.parseDouble(strarr[1]);\n    int K \u003d Integer.parseInt(strarr[2]);\n\n    long[][] dp \u003d new long[N][K+1];\n    long[] a \u003d new long[N];\n    str \u003d s.nextLine();\n    strarr \u003d str.split(\u0026quot; \u0026quot;);\n    HashMap hmap \u003d new HashMap();\n    long[] b \u003d new long[N];\n    //Index of sortings, a[p[i]]\u0026lt;\u003d a[p[i+1]];\n    for(int i \u003d 0; i \u0026lt; N; i++){\n       a[i] \u003d Long.parseLong(strarr[i]);\n       b[i] \u003d a[i];\n       hmap.put(a[i], i);\n    }\n    Arrays.sort(b);\n    int[] p \u003d new int[N];\n    for(int i \u003d 0; i \u0026lt; N; i++)\n       p[i] \u003d (int) hmap.get(b[i]);\n    //# of permutations from Block 1 to Block J, for each pos I. \n    for(int i \u003d 0; i \u0026lt; dp.length; i++)\n       dp[i][1] \u003d 1;\n\n    for(int j \u003d 2; j \u0026lt;\u003d K; j++){\n       for(int i \u003d 0; i \u0026lt; N; i++){\n         int ptr \u003d 0;\n         while(ptr \u0026lt; N \u0026amp;\u0026amp; a[p[ptr]]\u0026lt;\u003d a[i])\n          dp[i][j] \u003d (int) ((dp[i][j]+dp[p[ptr++]][j-1])%(1e9+7));\n       }\n    }\n    Integer denom \u003d new Integer(N);\n    long c \u003d (long) Math.ceil(L/denom.doubleValue());\n    long min \u003d Math.min(c, K);\n    int x \u003d (int) ((L-1)%(N));\n\n    long ans \u003d 0;\n    for(int i \u003d 0; i \u0026lt;\u003d x; i++){\n       for(int j \u003d 1; j \u0026lt;\u003d min; j++){\n         long sum \u003d (long) ((dp[i][j]*(c-j+1))%(1e9+7));\n         ans \u003d (long) ((ans+sum)%(1e9+7));\n       }\n    }\n    for(int i \u003d x+1; i \u0026lt; N; i++){\n       for(int j \u003d 1; j \u0026lt;\u003d Math.min(c-1,K); j++){\n         long sum \u003d (long)((dp[i][j]*(c-j)%(1e9+7)));\n         ans \u003d (long)((ans+sum)%(1e9+7));\n       }\n    }\n    System.out.println(ans);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e}\u003c/p\u003e\u003c/div\u003e","tags":[]}}