{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1494685810,"rating":0,"authorHandle":"TonySnark","modificationTimeSeconds":1495178076,"id":51966,"title":"\u003cp\u003eРазбор задач 13.05.2017\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e[problem:213562A]\u003c/p\u003e\u003cp\u003eВ данной задаче нужно было найти разницу между наибольшим и наименьшим из трех чисел.\u003c/p\u003e\u003cp\u003e[problem:213562B]\u003c/p\u003e\u003cp\u003eПервый способ решения — симуляция действий Оли: сохраняем в строку изначальный ответ \u003cspan class\u003d\"tex-span\"\u003e\u0026quot;\u003ci\u003eGCV\u003c/i\u003e\u0026quot;\u003c/span\u003e, далее в цикле \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e раз меняем местами сначала второй и третий символы строки, потом первый и второй символы строки.\u003c/p\u003e\u003cp\u003eВторой способ решения — заметить, что позиции цветков повторяются через каждые три дня, а значит, ответ в зависимости от остатка от деления \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e на 3 может быть равен \u003cspan class\u003d\"tex-span\"\u003e\u0026quot;\u003ci\u003eGCV\u003c/i\u003e\u0026quot;\u003c/span\u003e, \u003cspan class\u003d\"tex-span\"\u003e\u0026quot;\u003ci\u003eVGC\u003c/i\u003e\u0026quot;\u003c/span\u003e или \u003cspan class\u003d\"tex-span\"\u003e\u0026quot;\u003ci\u003eCVG\u003c/i\u003e\u0026quot;\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e[problem:213562C]\u003c/p\u003e\u003cp\u003eЗадача решается жадно. Пете выгодно налить самый дорогой сок в самую большую емкость, следующий по цене сок — в следующую по объему емкость, и так далее.\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eПочему?\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cp\u003eПусть цены сока упорядочены по невозрастанию: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e ≥ \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e ≥ ... ≥ \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, и объемы емкостей также упорядочены по невозрастанию: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e ≥ \u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e ≥ ... ≥ \u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e. Докажем, что для любых двух различных \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e и \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e (\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e ≤ \u003ci\u003ej\u003c/i\u003e\u003c/span\u003e) верно неравенство \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e·\u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e·\u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e ≥ \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e·\u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e·\u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e. Перенесем все члены неравенства в левую часть и приведем подобные слагаемые. Получится неравенство \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e - \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e)·(\u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e - \u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e) ≥ 0\u003c/span\u003e, которое верно, поскольку \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e ≥ \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e и \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e ≥ \u003ci\u003eV\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e. Отсюда следует, что какую бы пару видов сока и какую бы пару емкостей мы не взяли, более дорогой сок выгодно наливать в большую емкость, поэтому Петя должен наливать самый дорогой сок в самую большую емкость и так далее.\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eТаким образом, для решения задачи нужно отсортировать массив цен на сок и массив размеров емкостей по убыванию (или по возрастанию), перемножить соответствующие члены массивов и сложить все произведения.\u003c/p\u003e\u003cp\u003e[problem:213562D]\u003c/p\u003e\u003cp\u003eСамое простое решение — перебрать длину одной из сторон прямоугольника \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e от \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e до \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e и посчитать вторую сторону по формуле \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/b1/82/b1822a0bef5f4e5c259efa793d2edb0f93f8f219.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e (такие скобки означают округление числа вниз), после чего считается красота прямоугольника. Если она меньше, чем у текущего прямоугольника из ответа, то нужно обновить ответ. Для заданных ограничений это решение будет работать слишком долго.\u003c/p\u003e\u003cp\u003eЕго можно оптимизировать, если перебирать длину \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e не от \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e до \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e, а от \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e до \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/4e/5c/4e5c9f371024ad4e1f5b0f2dfeb967ffe7cb5f4e.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e, так как если \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e·\u003ci\u003eb\u003c/i\u003e ≤ \u003ci\u003en\u003c/i\u003e\u003c/span\u003e, то хотя бы одно из чисел \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003c/span\u003e не больше \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/4e/5c/4e5c9f371024ad4e1f5b0f2dfeb967ffe7cb5f4e.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e. Этой оптимизации достаточно, чтобы решение прошло по времени.\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eРешение, которое делает одну из сторон равной sqrt(n), не работает\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cp\u003eНапример, для теста \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e \u003d 40\u003c/span\u003e такое решение дает прямоугольник \u003cspan class\u003d\"tex-span\"\u003e6 × 6\u003c/span\u003e с красотой \u003cspan class\u003d\"tex-span\"\u003e4\u003c/span\u003e, а оптимальный ответ — прямоугольник \u003cspan class\u003d\"tex-span\"\u003e5 × 8\u003c/span\u003e с красотой \u003cspan class\u003d\"tex-span\"\u003e3\u003c/span\u003e.\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:213562E]\u003c/p\u003e\u003cp\u003eВо-первых, порядок действий Коли неважен, так как итоговое состояние каждого светодиода зависит только от его начального состояния и того, сколько раз его переключали. Так что мы можем считать, что Коля несколько раз переключает светодиоды на отрезке \u003cspan class\u003d\"tex-span\"\u003e[1; \u003ci\u003ek\u003c/i\u003e]\u003c/span\u003e, потом несколько раз переключает светодиоды на отрезке \u003cspan class\u003d\"tex-span\"\u003e[2; \u003ci\u003ek\u003c/i\u003e + 1]\u003c/span\u003e, и так далее вплоть до отрезка \u003cspan class\u003d\"tex-span\"\u003e[\u003ci\u003en\u003c/i\u003e - \u003ci\u003ek\u003c/i\u003e + 1; \u003ci\u003en\u003c/i\u003e]\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eВо-вторых, каждый из этих отрезков Коля может переключать не более одного раза, поскольку два переключения одного и того же отрезка не меняют состояния гирлянды, поэтому эти два переключения можно выбросить.\u003c/p\u003e\u003cp\u003eПоэтому решение выглядит следующим образом: смотрим на первый светодиод, если он включен, то ничего не делаем, иначе переключаем светодиоды на отрезке \u003cspan class\u003d\"tex-span\"\u003e[1; \u003ci\u003ek\u003c/i\u003e]\u003c/span\u003e (это единственный способ включить первый светодиод). Переходим ко второму светодиоду, и если он выключен, то переключаем светодиоды на отрезке \u003cspan class\u003d\"tex-span\"\u003e[2; \u003ci\u003ek\u003c/i\u003e + 1]\u003c/span\u003e (есть два способа включить второй светодиод, один из них был рассмотрен на прошлом шаге и теперь не используется). Так мы рассматриваем первые \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e - \u003ci\u003ek\u003c/i\u003e + 1\u003c/span\u003e светодиодов. Если после этого все светодиоды включены, то ответ \u003cspan class\u003d\"tex-span\"\u003e\u0026quot;\u003ci\u003eYes\u003c/i\u003e\u0026quot;\u003c/span\u003e, иначе \u003cspan class\u003d\"tex-span\"\u003e\u0026quot;\u003ci\u003eNo\u003c/i\u003e\u0026quot;\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e[problem:213562F]\u003c/p\u003e\u003cp\u003eМатематическое ожидание количества отмеченных клеток, попавших внутрь выбранного прямоугольника, равно сумме по всем возможным прямоугольникам количества попавших внутрь отмеченных клеток, умноженного на вероятность выбора данного прямоугольника. Так как вероятности выбора всех прямоугольников равны, эта сумма равна сумме по всем возможным прямоугольникам количества попавших внутрь отмеченных клеток, деленной на общее количество прямоугольников. Соответственно, если мы хотим повысить это мат. ожидание, мы должны увеличивать сумму количества попавших внутрь прямоугольника отмеченных клеток.\u003c/p\u003e\u003cp\u003eЧтобы сделать эту сумму максимальной, мы должны выбрать клетки, которые попадают внутрь большего числа прямоугольников. Клетка с координатами \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003ei\u003c/i\u003e; \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e попадает внутрь \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e·(\u003ci\u003en\u003c/i\u003e + 1 - \u003ci\u003ei\u003c/i\u003e)·\u003ci\u003ej\u003c/i\u003e·(\u003ci\u003em\u003c/i\u003e + 1 - \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e прямоугольников.\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eСильное заявление. Проверять его я, конечно, не буду\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cp\u003eКоордината верхней строчки такого прямоугольника может изменяться в пределах от \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e до \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e — всего \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e способов, координата нижней строчки может изменяться от \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e до \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e — всего \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e + 1 - \u003ci\u003ei\u003c/i\u003e\u003c/span\u003e способов, координата левого столбца может изменяться от \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e до \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e — всего \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e способов, и координата правого столбца может изменяться от \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e до \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e — всего \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e + 1 - \u003ci\u003ej\u003c/i\u003e\u003c/span\u003e способов. Поэтому общее количество прямоугольников с клеткой \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003ei\u003c/i\u003e; \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e внутри равно \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e·(\u003ci\u003en\u003c/i\u003e + 1 - \u003ci\u003ei\u003c/i\u003e)·\u003ci\u003ej\u003c/i\u003e·(\u003ci\u003em\u003c/i\u003e + 1 - \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e.\u003c/p\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eТаким образом, мы сортируем клетки таблицы по убыванию количества прямоугольников, внутрь которых попадает клетка, и выбираем первые \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e клеток из списка.\u003c/p\u003e\u003c/div\u003e","tags":["разбор задач"]}}