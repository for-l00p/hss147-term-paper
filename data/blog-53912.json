{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1502951819,"rating":0,"authorHandle":"mr.omti","modificationTimeSeconds":1502951819,"id":53912,"title":"\u003cp\u003eЗадача №113213. Заправки-2\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eЗдравствуйте!!! В очередной раз прошу вас о помощи. Пожалуйста, помогите решить данную задачу. Ссылка \u003ca href\u003d\"http://informatics.mccme.ru/mod/statements/view3.php?id\u003d257\u0026amp;chapterid\u003d113213\"\u003eздесь.\u003c/a\u003e Попробовал решить её, но десятый тест не проходит. Может в коде есть ошибка? Вот код:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\nconst int INF\u003d1000000;\nint main(){\n    freopen(\u0026quot;input.txt\u0026quot;,\u0026quot;r\u0026quot;,stdin);\n    freopen(\u0026quot;output.txt\u0026quot;,\u0026quot;w\u0026quot;,stdout);  \n    int n,m,i,j,x,a,b;\n    cin \u0026gt;\u0026gt; n;\n    vector\u0026lt;int\u0026gt; w[n],d;\n    vector\u0026lt;bool\u0026gt; u;\n    for(i\u003d0;i\u0026lt;n;i++){\n        cin \u0026gt;\u0026gt; x;\n        for(j\u003d0;j\u0026lt;n;j++) w[i].push_back(x);\n        u.push_back(false);\n        d.push_back(INF);\n    }\n    cin \u0026gt;\u0026gt; m;\n    vector\u0026lt;int\u0026gt; g[n];\n    for(i\u003d0;i\u0026lt;m;i++){\n        cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b;\n        g[a-1].push_back(b-1);\n        g[b-1].push_back(a-1);\n    }\n    int bak\u003dINF,s\u003d0,e\u003dn-1;\n    d[s]\u003d0;\n    for(i\u003d0;i\u0026lt;n;i++){\n        int v\u003d-1;\n        for(j\u003d0;j\u0026lt;n;j++)\n            if(!u[j] \u0026amp;\u0026amp; (v\u003d\u003d-1 || d[j]\u0026lt;d[v])) v\u003dj;\n        if(d[v]\u003d\u003dINF) break;\n        u[v]\u003dtrue;\n        int ln\u003dg[v].size();\n        for(size_t j\u003d0;j\u0026lt;ln;j++){\n            int to\u003dg[v][j],min1\u003dd[v]+w[v][0],min2\u003dd[v]+bak;\n            if(min1\u0026lt;\u003dmin2 \u0026amp;\u0026amp; min1\u0026lt;d[to]){\n                d[to] \u003d min1;\n                bak \u003d min(bak,w[v][0]);\n            }\n            else if(min2\u0026lt;min1 \u0026amp;\u0026amp; min2\u0026lt;d[to]){\n                d[to] \u003d min2;\n                bak \u003d w[v][0];\n            }\n            else{\n                bak \u003d min(bak,w[v][0]);\n            }\n        }\n    }\n    if(d[e]\u003d\u003dINF) cout \u0026lt;\u0026lt; -1;\n    else cout \u0026lt;\u0026lt; d[e];\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["алгоритм","дейкстры","графы"]}}