{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1479543706,"rating":3,"authorHandle":"I_love_Hoang_Yen","modificationTimeSeconds":1479551986,"id":48464,"title":"\u003cp\u003eTH Training 7 — Solutions\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003cstrong\u003eUPDATE: Vì hình bị lỗi nên đọc sol ở \u003ca href\u003d\"https://docs.google.com/document/d/1hWfMihzCs3TWDuTMzpqKubLUyWJLezwFW4tO9oZCooc/edit?usp\u003dsharing\"\u003elink này\u003c/a\u003e.\u003c/strong\u003e\u003c/p\u003e\u003ch1\u003e\u003ca href\u003d\"/group/ThSS9mn0dy/contest/210122/problem/A\" title\u003d\"TH Training 7\"\u003e210122A - Nhảy nhảy\u003c/a\u003e\u003c/h1\u003e\u003cp\u003eNhận xét: 2 mèo không thể đổi chỗ cho nhau.\u003c/p\u003e\u003cp\u003eDo đó, với 1 dãy trạng thái, ta chỉ cần quan tâm các vị trí L, R. Cần kiểm tra 1 số điều kiện:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eSố lượng \u003ccode\u003eL\u003c/code\u003e như nhau\u003c/li\u003e   \u003cli\u003eSố lượng \u003ccode\u003eR\u003c/code\u003e như nhau\u003c/li\u003e   \u003cli\u003eThứ tự tương đối của các \u003ccode\u003eL\u003c/code\u003e và \u003ccode\u003eR\u003c/code\u003e như nhau\u003c/li\u003e   \u003cli\u003eCác \u003ccode\u003eL\u003c/code\u003e từ dãy ban đầu chuyển được thành \u003ccode\u003eL\u003c/code\u003e ở trạng thái kết thúc. Tương tự cho \u003ccode\u003eR\u003c/code\u003e.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003e\u003ca href\u003d\"http://ideone.com/2SkBAd\"\u003eCode\u003c/a\u003e\u003c/p\u003e\u003ch1\u003e\u003ca href\u003d\"/group/ThSS9mn0dy/contest/210122/problem/B\" title\u003d\"TH Training 7\"\u003e210122B - Dãy chữ số kỳ diệu\u003c/a\u003e\u003c/h1\u003e\u003ch2\u003eTư tưởng\u003c/h2\u003e \u003cul\u003e   \u003cli\u003eTính chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e của \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eK\u003c/i\u003e1)\u003c/span\u003e, gọi là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e1(\u003ci\u003eN\u003c/i\u003e)\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eTính chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e của \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eK\u003c/i\u003e2)\u003c/span\u003e, gọi là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e2(\u003ci\u003eN\u003c/i\u003e)\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eKết quả là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e1(\u003ci\u003eN\u003c/i\u003e) + \u003ci\u003eX\u003c/i\u003e2(\u003ci\u003eN\u003c/i\u003e) + \u003ci\u003ereminder\u003c/i\u003e\u003c/span\u003e (nhớ).\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eĐể tính reminder:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eTính chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 1\u003c/span\u003e của \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eK\u003c/i\u003e1)\u003c/span\u003e, gọi là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e1(\u003ci\u003eN\u003c/i\u003e - 1)\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eTính chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - 1\u003c/span\u003e của \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eK\u003c/i\u003e2)\u003c/span\u003e, gọi là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e2(\u003ci\u003eN\u003c/i\u003e - 1)\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ereminder\u003c/i\u003e \u003d (\u003ci\u003eX\u003c/i\u003e1(\u003ci\u003eN\u003c/i\u003e - 1) + \u003ci\u003eX\u003c/i\u003e2(\u003ci\u003eN\u003c/i\u003e - 1) + \u003ci\u003ereminder\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e - 1)) / 10\u003c/span\u003e.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eNếu \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e1(\u003ci\u003eN\u003c/i\u003e - 1) + \u003ci\u003eX\u003c/i\u003e2(\u003ci\u003eN\u003c/i\u003e - 1) \u0026lt;  \u003d 8\u003c/span\u003e, thì reminder luôn \u003d 0. Nếu \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e1(\u003ci\u003eN\u003c/i\u003e - 1) + \u003ci\u003eX\u003c/i\u003e2(\u003ci\u003eN\u003c/i\u003e - 1) \u0026gt;  \u003d 10\u003c/span\u003e, thì reminder luôn \u003d 1. Do đó chỉ có trường hợp tổng \u003d 9 thì ta không biết reminder, và tiếp tục lặp lại quá trình trên. Vì các chữ số khá ngẫu nhiên nên số lần ta cần tính reminder rất ít.\u003c/p\u003e\u003cp\u003eNhư vậy bài toán trở thành tính chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003ch2\u003eTính chữ số thứ N\u003c/h2\u003e\u003cp\u003eĐể tính chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e, ta làm như sau:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eXác định các số \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e có 1 chữ số. Số chữ số các số này là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e1\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eXác định các số \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e có 2 chữ số. Số chữ số các số này là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e2\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003e...\u003c/li\u003e   \u003cli\u003eXác định các số \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e có \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eL\u003c/i\u003e\u003c/span\u003e chữ số. --\u0026gt; \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e(\u003ci\u003eL\u003c/i\u003e)\u003c/span\u003e.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eTa cần tìm \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eL\u003c/i\u003e\u003c/span\u003e là số nhỏ nhất mà \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e1 + ... + \u003ci\u003eS\u003c/i\u003e(\u003ci\u003eL\u003c/i\u003e) ≥ \u003ci\u003eN\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eTừ đó ta biết được chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e là của số thứ mấy trong các số \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e có \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eL\u003c/i\u003e\u003c/span\u003e chữ số, từ đó tính được chính xác chữ số thứ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eĐể xác định các số \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e có đúng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eL\u003c/i\u003e\u003c/span\u003e chữ số, ta dùng chặt nhị phân để tìm số đầu tiên và cuối cùng.\u003c/p\u003e\u003ch1\u003e\u003ca href\u003d\"/group/ThSS9mn0dy/contest/210122/problem/C\" title\u003d\"TH Training 7\"\u003e210122C - Đường gấp khúc kỳ diệu\u003c/a\u003e\u003c/h1\u003e\u003ch2\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e)\u003c/span\u003e\u003c/h2\u003e\u003cp\u003eTrước tiên ta bắt đầu với thuật toán \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e)\u003c/span\u003e. Do đề bài yêu cầu đếm, nên rõ ràng ta cần Quy hoạch động.\u003c/p\u003e\u003cp\u003eTư tưởng quy hoạch động của bài này như sau:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eTa cắt đường gấp khúc ra ở sau cột i:\u003c/li\u003e \u003c/ul\u003e\u003cp\u003e\u003cimg alt\u003d\" \" src\u003d\"https://lh3.googleusercontent.com/g1TxS562JEP-A-2PuOKeqPLROWV4lFGTxXHgAbmrJnPqDD7C7riODMduQOAAADyXHsOsnVTn7i_emqZPkF8iRvjwWac0C-ywkCi281aiz64wD9AkP2NOnToBzzMjrsHa6giICWd82cXZ-KmvoIZ7_oASNKY4loq4ZFuKqTsboUqBkdh676VHkDVhTXRPzwLpIeXUToCkQ_WGjU6eWdwK57RZ7YSdDSao10Mx72kHsrLTwJnvm2eTBZoDhQXmlflZYKRI4dPv0MOoZQsqCaAoUal72Kjae4FQupQ3p030oBM6o3tTOUWVM_1QCxFXom2Hiw74NnPrq9LBgVGvEZO3mQSpyKNWbinUiXl0kvIPMo7cDW8GvKIR-NLXel_e01rPHHOH_12-0W9HSyXDiLcxk35p3VWv7qMo1KwbGbHcDMg8GsXVg-8yStX8UCsK5lLZlBwy0sr8EpwGMoYuFVCqzqLq4zzXUwwOFOtyT1xC3HJacWRPCrxo8o6jkMnuPYHJcNdNwNsjJ9FJSnxcpkwkfaIQVpBJ0f9mviKmBqzbEZF3ogbG_ICapXbFgtI8sOn2A3pMx_SqAmwlMDKJQ2Z1VTSEpAZJc-B8_zm1xxF9SWeq99tM\u003dw378-h430-no\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003eTa nhận thấy ở cột i, ta chỉ cần quan tâm đến những vị trí đang có đường đi thò ra. Từ đó có trạng thái quy hoạchd động gồm:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eCột \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e\u003c/li\u003e   \u003cli\u003eNhững hàng nào có đường gấp khúc đang thò ra.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003e\u003cimg alt\u003d\" \" src\u003d\"https://lh3.googleusercontent.com/rqDSZZyK64azYOEwp8gSJTltqXur8eAOJyrly12SbdlWGF3FrCxoyandC3qkDtuPYlr7ReSKSjiKkxSMNNKu-Go8kzcxoQRv8Nm8ePU4UYsaF3xPN2u2D46eSDIQ1YOTA8ck3fY_zaUi_s2AYPHAn5wRlE3pHYM_1Jv-VQLG6lewdZHjQFfrmXfq5oSYe5CQbpmtp7dE25xp7qDq9iCRuKuLzTuxOox6GBfX8uTYzJi74yxqQpC6CJgB0vGSmtAyEBQ1xVm-r1HdrtYrc3xPPj-6Z9OjVQXmHafsgefrSPsC5UJZIhF_-mDu4whLxUfQw1lnPOQC4EOI3WBLEWpDJv89w8rK-6hdBVRQ3W_W9ExMx0qd8jL61jJH2GviUCGo6wTk-YqW4Dj1WyuJZMeQSZ9ykJN6z54szsrGjh0ME__5izwsZ_L2HbefCcPZ6xikEbp9rHLRWxceKZBEJLoFhITAslZrxdMARu2hoisiwlbu9DCSQveDHUR7uEpZoJBQJU_o50Hu_4j_CBEiEpnnKIDAJtU1jvs8OP6KQrkBzSdV47vc7DF23N_eWT9hAt9WeIN-LKyYgyWj2mPXeFC_GKTubL0nJ70LbuYuevZ6iS0sX7bw\u003dw574-h388-no\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003eĐể chuyển trạng thái quy hoạch động, ta cần vẽ hình để xác định từ trạng thái nào có thể chuyển đến trạng thái nào.\u003c/p\u003e\u003cp\u003e1 cách đảm bảo chính xác là thử đặt tất cả các cặp \u003cspan class\u003d\"tex-span\"\u003e6 * 6\u003c/span\u003e cạnh nhau và thử nối.\u003c/p\u003e\u003cp\u003e\u003cimg alt\u003d\" \" src\u003d\"https://lh3.googleusercontent.com/b-b3eDAHHz_cJiuItIlMqVyM5DnCBYyIjfHrC5eAKJ9bXt8n-ODaI_cvrzOmF0rfqZvoqToI-S2XwGN7XhUqpev-ctewmtW5orURfTYl-5NQfjRz5nSi7M3-FOCwejdnz9vNQliJQFG5Le2rky_hPdRcXiISU7d0AoXZXec_lRw0b7OlvQdyzHyvbmrl2krUZ_mFZA3bPJendVhc9ygcNzuS9xT2RS3PSQ3v1FBbNVIH2N8ZMaL4r5uP838n9pSZtjkHEyqcY1ekhuWBdXIRtcHf1o_j9rKOUqisWTe2FYBZ-Og617NZsTKKKIRj7yJfiAogRs4do7jvOD4EPfvymAuh408H4Q2IPIpeHjHDoNz9GTloCXK7BpaZd6f_OvwiRkUo-nzG2F70dUiPi-AcTIbKLcwgH5Z9afLsF1S6F2MMBtG9E1AS3hE4lGtEhj4k01nYz_Bbf3iR-KzXeJ_eU_eILN9Jh9o0fJwys4UKeBX9CpOjW4dq3t-eaLbSmsemBzCn8G5VLzfZyyx8T8Qx8kOnffilYmE0pBXRV4U0IBJDwGPEVNpJ_j5unTu0z0_BFDduQOXLaVHI4hyYbUQ2hh2F_5Ibuhpev39H3TwCYcyhUJq6\u003dw254-h224-no\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003eNếu khéo léo hơn có thể nhận thấy các trạng thái đối xưng nhau (2 và 3), (4 và 5) có thể tính giống nhau, từ đó giảm số trường hợp cần xét.\u003c/p\u003e\u003ch2\u003eO(logN)\u003c/h2\u003e\u003cp\u003eĐể cải tiến độ phức tạp, ta áp dụng \u003ca href\u003d\"http://vnoi.info/wiki/algo/trick/matrix-multiplication\"\u003eNhân ma trận\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eTừ 1 lớp gồm \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e, ta tính lớp tiếp theo \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e + 1, \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e bằng nhân ma trận. Bước khó nhất là vẽ hình đầy đủ để tìm ma trận.\u003c/p\u003e\u003c/div\u003e","tags":[]}}