{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1526882707,"rating":0,"authorHandle":"Lakh","modificationTimeSeconds":1526882981,"id":59602,"title":"\u003cp\u003eNeed help in a hashing+query problem\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI am solving this problem \u003ca href\u003d\"//codeforces.com/gym/101804/problem/J\"\u003ehttp://codeforces.com/gym/101804/problem/J\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eHere we are given the alphabet size N (N\u0026lt;\u003d26). So if N\u003d4 ,then the alphabet set is\u003d[A,B,C,D] . Now we are given a permutation of the above alphabet. The permutation represents the encoded value of an alphabet . For e.g. if permutation is [D,C,A,B] then A changes to D, B changes to C , C changes to A and so on. Now Q (Q\u0026lt;\u003d10^5) queries are there of three types:\u003c/p\u003e \u003col\u003e   \u003cli\u003e1 s: Add string s to the list. (|s|\u0026lt;5*10^5)\u003c/li\u003e   \u003cli\u003e2: For all the strings currently in list , encode them according to given permutation.\u003c/li\u003e   \u003cli\u003e3 s: Check if s is prefix of some string in the current list. (|s|\u0026lt;5*10^5)\u003c/li\u003e \u003c/ol\u003e\u003cp\u003eSum of length of strings over all queries is\u0026lt;5*10^5.\u003c/p\u003e\u003cp\u003eMy approach : Here whenever a string is added , I computed all the N encodings of the string as maximum cycle length can be N after which strings will be repeated and stored them in N maps. I stored the hash of prefixes of the string in a map. For type 2 since all strings are encoded so i just took a counter and increment it to (counter+1)%N. For type 3 query i just checked if hash of s is present in map of current counter. however i am getting TLE. Please suggest some optimization to the approach or some other method to solve this. I also implemented this problem with trie but got MLE.\u003c/p\u003e\u003c/div\u003e","tags":[]}}