{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1517489234,"rating":0,"authorHandle":"strawberrry","modificationTimeSeconds":1517489234,"id":57476,"title":"\u003cp\u003e381 solution\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003ch1\u003eRound #223 solution\u003c/h1\u003e \u003cblockquote\u003e\u003cp\u003eall problems solved at 2.1\u003c/p\u003e \u003c/blockquote\u003e\u003ch3\u003eA. \u003ca href\u003d\"//codeforces.com/group/oQtXiLyxgw/contest/381/problem/A\"\u003eSereja and Dima\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e分类：\u003c/strong\u003e \u003ccode\u003eimplementation\u003c/code\u003e\u003c/p\u003e\u003cp\u003e一开始看错了题，维护 L 和 R 两个指针，每次拿更大的加进来就好。\u003c/p\u003e\u003ch3\u003eB. \u003ca href\u003d\"//codeforces.com/group/oQtXiLyxgw/contest/381/problem/B\"\u003eSereja and Stairs\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e分类：\u003c/strong\u003e \u003ccode\u003ebrute force\u003c/code\u003e\u003c/p\u003e\u003cp\u003e观察到 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e 才 \u003cspan class\u003d\"tex-span\"\u003e5000\u003c/span\u003e 直接用类似桶排一样丢进去，先从小到大扫一遍维护递增序列，再倒着扫一遍维护递减序列即可。\u003c/p\u003e\u003ch3\u003eC. \u003ca href\u003d\"//codeforces.com/group/oQtXiLyxgw/contest/381/problem/C\"\u003eSereja and Prefixes\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e分类：\u003c/strong\u003e \u003ccode\u003egreedy\u003c/code\u003e \u003ccode\u003ebinary search\u003c/code\u003e\u003c/p\u003e\u003cp\u003e显然不可能真地去复制 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ec\u003c/i\u003e\u003c/span\u003e 遍，这样做肯定是\u003ccode\u003eTLE\u003c/code\u003e。对于增加操作 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(1)\u003c/span\u003e 模拟，但是对于复制操作，我们只存一下这一次复制到的前缀位置和复制前后的数组长度，而且对于复制点去标记一下。那么我们在查询的时候，可以直接按照数组长度去二分位置就好了，如果二分到的被标记的位置，说明这个长度被压缩了，我们可以拿剩余的长度继续递归地二分下去！\u003c/p\u003e\u003ch3\u003eD. \u003ca href\u003d\"//codeforces.com/group/oQtXiLyxgw/contest/381/problem/D\"\u003eSereja and Tree\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e分类：\u003c/strong\u003e \u003ccode\u003ebrute force\u003c/code\u003e\u003c/p\u003e\u003cp\u003e考虑到树的深度很浅（不超过 \u003cspan class\u003d\"tex-span\"\u003e7000\u003c/span\u003e 层），可以预处理出每个节点所管辖的子树的区间，考虑用\u003ccode\u003estd::vector\u003c/code\u003e维护每层深度的所有 \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e, \u003ci\u003ev\u003c/i\u003e)\u003c/span\u003e 集合，对于查询直接暴力从根开始往下查询，顺便用\u003ccode\u003estd::set\u003c/code\u003e维护答案集合大小。\u003c/p\u003e\u003ch3\u003eE. \u003ca href\u003d\"//codeforces.com/group/oQtXiLyxgw/contest/381/problem/E\"\u003eSereja and Brackets\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003e分类：\u003c/strong\u003e \u003ccode\u003edata structures\u003c/code\u003e\u003c/p\u003e\u003cp\u003e考虑维护每段连续区间的三个性质 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e、\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e、\u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e， 其中 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e 表示已经配对好的括号对（子序列）， \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e 表示还没配对好的左括号长度，$c_i$ 表示还没配对好的右括号长度，那么它具有合并的性质，对于合并操作，假设 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003et\u003c/i\u003e\u003c/span\u003e 是产生的新的配对括号子序列贡献，那么显然 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003et\u003c/i\u003e \u003d \u003ci\u003emin\u003c/i\u003e(\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/sub\u003e, \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/sub\u003e)\u003c/span\u003e ，不难推出：\u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003eroot\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003et\u003c/i\u003e\u003c/span\u003e\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003eroot\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/sub\u003e - \u003ci\u003et\u003c/i\u003e\u003c/span\u003e\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003eroot\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/sub\u003e - \u003ci\u003et\u003c/i\u003e\u003c/span\u003e\u003c/li\u003e \u003c/ul\u003e\u003cp\u003e我们就可以通过线段树维护一段区间的内容，但是它在查询的时候，不仅仅是查询 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003eroot\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e 对于分裂的区间，答案还包含了 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emin\u003c/i\u003e(\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/sub\u003e, \u003ci\u003ec\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/sub\u003e)\u003c/span\u003e 的贡献！算是一道线段树好题了！\u003c/p\u003e\u003c/div\u003e","tags":[]}}