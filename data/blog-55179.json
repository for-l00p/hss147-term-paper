{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1507976089,"rating":0,"authorHandle":"Coder_404","modificationTimeSeconds":1507976089,"id":55179,"title":"\u003cp\u003eSegment tree â€” sum\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e#define N 1111111\n\nint t[N * 4];\nint a[N * 4];\n\nvoid build(int v, int tl, int tr) {\n\t//hozir v-indexda protsess ketvotti\n\tif (tl \u003d\u003d tr){\n\t\tt[v] \u003d a[tl];\n\t}\n\telse {\n\t\tint tm \u003d (tl + tr) / 2;\n\t\tbuild(v + v, tl, tm);\n\t\tbuild(v + v + 1, tm + 1, tr);\n\t\tt[v] \u003d t[v + v] + t[v + v + 1];\n\t}\n}\nint n;\nint sum(int l, int r, int v \u003d 1, int tl \u003d 1, int tr \u003d n) {\n\tif (l \u0026lt;\u003d tl\u0026amp;\u0026amp;tr \u0026lt;\u003d r) return t[v]; // agar node - l va r oralig\u0027ida bo\u0027lsa nodeni qiymatini qaytaradi\n\tif (l \u0026gt; tr || r \u0026lt; tl) return 0;\n\tint tm \u003d (tl + tr) / 2;\n\tint s1 \u003d sum(l, r, v + v, tl, tm);\n\tint s2 \u003d sum(l, r, v + v + 1, tm + 1, tr);\n\treturn (s1 + s2);\n}\nvoid solve()\n{\n\tcin \u0026gt;\u0026gt; n;\n\tfor (int i \u003d 1; i \u0026lt;\u003d n; i++) cin \u0026gt;\u0026gt; a[i];\n\tbuild(1, 1, n);\n\tfor (int i \u003d 1; i \u0026lt;\u003d 2 * n - 1; i++) {\n\t\tcout \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0027\\t\u0027 \u0026lt;\u0026lt; t[i] \u0026lt;\u0026lt; endl;\n\t}\n\n\n\tint l, r;\n\twhile (cin \u0026gt;\u0026gt; l \u0026gt;\u0026gt; r)\n\t{\n\t\tcout \u0026lt;\u0026lt; sum(l, r) \u0026lt;\u0026lt; endl;\n\t}\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}