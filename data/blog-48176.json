{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1478153429,"rating":-3,"authorHandle":"NuriK_KhinA","modificationTimeSeconds":1478173739,"id":48176,"title":"\u003cp\u003ePerm\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSeq_to_N\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;cstring\u0026gt;\n#include \u0026lt;vector\u0026gt;\n\nusing namespace std;\n\n#define fname \u0026quot;perm\u0026quot;\nint a[100001], used[1000001], n;\nint sum;\nvoid seq_to_n(int v){\n    if (v \u0026gt; n)\n        return;\n    int c \u003d a[v];\n    int k \u003d 0;\n    for (int j \u003d 1; j \u0026lt; c; ++j){\n        if (used[j] \u003d\u003d 0)\n            k++;\n    }\n    int cube \u003d 1;\n    for (int j \u003d 1; j \u0026lt;\u003d n - v; ++j)\n        cube *\u003d j;\n    sum +\u003d k * cube;\n    used[c] \u003d 1;\n    seq_to_n(v + 1);\n}\n            \nint main() {\n    #ifndef ONLINE_JUDGE\n        freopen(fname\u0026quot;.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n        freopen(fname\u0026quot;.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n    #endif\n    cin \u0026gt;\u0026gt; n;\n    for (int i \u003d 1; i \u0026lt;\u003d n; ++i)\n        cin \u0026gt;\u0026gt; a[i];\n    seq_to_n(1);\n    cout \u0026lt;\u0026lt; sum + 1;\nreturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eN_to_ Seq\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;cstring\u0026gt;\n#include \u0026lt;vector\u0026gt;\n\nusing namespace std;\n\n#define fname \u0026quot;bynumber\u0026quot;\nint a[100001], used[1000001], n;\nvoid print(){\n    for (int i \u003d 1; i \u0026lt;\u003d n; ++i)\n            cout \u0026lt;\u0026lt; a[i] \u0026lt;\u0026lt; \u0026quot; \u0026quot;;\n    exit(0);\n}\nvoid n_to_seq(int v, int s){\n    if (v \u0026gt; n)\n        print();\n    int cube \u003d 1;\n    for (int t \u003d 1; t \u0026lt;\u003d n - v; ++t)\n        cube *\u003d t;\n    int k \u003d s / cube;\n    int i \u003d 0, j \u003d 0;\n    while (i \u0026lt;\u003d k){\n        if (used[j] \u003d\u003d 0)\n            i++;\n        j++;\n    }\n    j--;\n    int c \u003d j;\n    a[v] \u003d c;\n    used[j] \u003d 1; \n    n_to_seq(v + 1, s - k * cube);\n}\nint main() {\n    #ifndef ONLINE_JUDGE\n        freopen(fname\u0026quot;.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n        freopen(fname\u0026quot;.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n    #endif\n    int num;\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; num;\n    n_to_seq(0, num - 1);   \nreturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eNext_Perm\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;cstring\u0026gt;\n#include \u0026lt;vector\u0026gt;\n\nusing namespace std;\n\n#define fname \u0026quot;nextperm\u0026quot;\nint a[100002];\nint main() {\n    #ifndef ONLINE_JUDGE\n        freopen(fname\u0026quot;.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n        freopen(fname\u0026quot;.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n    #endif\n    int n;\n    cin \u0026gt;\u0026gt; n;\n    for (int i \u003d 1; i \u0026lt;\u003d n; ++i)\n        scanf(\u0026quot;%d\u0026quot;, \u0026amp;a[i]);\n    bool ok \u003d false;\n    for (int i \u003d 1; i \u0026lt;\u003d n; ++i)\n        if (a[i] \u0026lt; a[i + 1])\n            ok \u003d true;\n    if (!ok){\n        for (int i \u003d n; i \u0026gt;\u003d 1; --i){\n            cout \u0026lt;\u0026lt; a[i] \u0026lt;\u0026lt; \u0026quot; \u0026quot;;     \n        }    \n        exit(0);\n    }\n              \n    int pos \u003d 0, p \u003d 0;            \n    for (int i \u003d n; i \u0026gt;\u003d 1; --i)\n        if (a[i] \u0026lt; a[i + 1]){\n            pos \u003d i;\n            p \u003d i;\n            break;\n        }\n    int mn \u003d 100001;\n    for (int i \u003d pos + 1; i \u0026lt;\u003d n; ++i)\n        if (a[i] \u0026gt; a[pos] \u0026amp;\u0026amp; a[i] \u0026lt; mn){\n            mn \u003d a[i];    \n            p \u003d i;\n        }\n    if (p !\u003d pos){\n        swap(a[p], a[pos]);\n        sort(pos + 1, n + 1);\n    }\n    else\n        swap(a[pos], a[pos + 1]);\n    for (int i \u003d 1; i \u0026lt;\u003d n; ++i)\n        printf (\u0026quot;%d \u0026quot;, a[i]);\nreturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e","tags":[]}}