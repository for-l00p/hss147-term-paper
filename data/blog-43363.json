{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1456396795,"rating":-27,"authorHandle":"qzqzgfy","modificationTimeSeconds":1456398231,"id":43363,"title":"\u003cp\u003eP. Area of a Star (630P)\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003eP. Area of a Star\n                          time limit per test0.5 seconds\n                        memory limit per test64 megabytes\n                              inputstandard input\n                             outputstandard output\u003c/pre\u003e\u003cp\u003eIt was decided in IT City to distinguish successes of local IT companies by awards in the form of stars covered with gold from one side. To order the stars it is necessary to estimate order cost that depends on the area of gold-plating. Write a program that can calculate the area of a star.\u003c/p\u003e\u003cp\u003eA \u0026quot;star\u0026quot; figure having n ≥ 5 corners where n is a prime number is constructed the following way. On the circle of radius r n points are selected so that the distances between the adjacent ones are equal. Then every point is connected by a segment with two maximally distant points. All areas bounded by the segments parts are the figure parts. \u003cimg alt\u003d\" \" src\u003d\"/predownloaded/c0/78/c07839b54fec98c652facd2ff766fa704698cf07.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003eInput The only line of the input contains two integers n (5 ≤ n \u0026lt; 109, n is prime) and r (1 ≤ r ≤ 109) — the number of the star corners and the radius of the circumcircle correspondingly.\u003c/p\u003e\u003cp\u003eOutput Output one number — the star area. The relative error of your answer should not be greater than 10 - 7.\u003c/p\u003e\u003cp\u003eExamples input 7 10 output 108.395919545675\u003c/p\u003e\u003cp\u003e这题简直坑爹，要求求中间星星的面积，一开始我用圆形面积减去n个空白处的扇形面积发现精度简直坑爹，直接过不了样例： （过不了样例的程序\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstdio\u0026gt;\n#include\u0026lt;cstring\u0026gt;\n#include\u0026lt;cmath\u0026gt;\n#include\u0026lt;string\u0026gt;\n#include\u0026lt;algorithm\u0026gt;\nstruct Point{\n\tdouble x,y;\n\tPoint(){}\n\tPoint(double x0,double y0):x(x0),y(y0){}\n}p[5],key,pp;\nint n;\ndouble pi,r,rr,s,L,ang;\ndouble dis(Point p1,Point p2){\n\treturn sqrt((p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y));\n}\nPoint inter(Point p1,Point p2,Point p3,Point p4){\n\t    double a1\u003dp1.y-p2.y;\n    \tdouble b1\u003dp2.x-p1.x;\n    \tdouble c1\u003dp1.x*p2.y-p1.y*p2.x;\n    \tdouble a2\u003dp3.y-p4.y;\n    \tdouble b2\u003dp4.x-p3.x;\n    \tdouble c2\u003dp3.x*p4.y-p3.y*p4.x;\n    \tdouble x\u003d(b1*c2-b2*c1)/(a1*b2-a2*b1);\n    \tdouble y\u003d(a2*c1-a1*c2)/(a1*b2-a2*b1);\n    \treturn Point(x,y);\n}\nint main(){\n\tfreopen(\u0026quot;tx.in\u0026quot;,\u0026quot;r\u0026quot;,stdin);\n\tscanf(\u0026quot;%d%lf\u0026quot;,\u0026amp;n,\u0026amp;r);\n\tpi\u003dacos(-1);\n\tang\u003d(2*acos(-1))/n;\n\tp[0].x\u003dr;p[0].y\u003d0.0;\n\tp[1].x\u003dcos(ang*1)*r;\n\tp[1].y\u003dsin(ang*1)*r;\n    p[2].x\u003dcos(ang*(n/2))*r;\n    p[2].y\u003dsin(ang*(n/2))*r;\n\tp[3].x\u003dcos(ang*(n/2+2))*r;\n    p[3].y\u003dsin(ang*(n/2+2))*r;\n    pp\u003dinter(p[0],p[2],p[1],p[3]);\n    L\u003dang*r;\n    rr\u003dr-sqrt(pp.x*pp.x+pp.y*pp.y);\n    s\u003dpi*r*r-(double)(n*rr*L/2.0);\n    printf(\u0026quot;%lf\u0026quot;,s);\n }\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003e\u003cimg alt\u003d\" \" src\u003d\"/predownloaded/be/25/be252a84a36a89c8171692325c64279e2af66a22.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e 之后我们换种想法，我们可以考虑三角形ABO，我们可以轻松获知角COE为2π/n（因为每个都相等，加起来为圆周）， 由圆上角＝圆心角的一半可得，∠BAE\u003dπ/n，∠BAO\u003dπ/2n，且∠BOA为(1/2n)*2π即π/n，已知AO\u003dr，由正弦定理： a/sinA\u003db/sinB\u003dc/sinC可知BO、AB长度，最终用面积公式S\u003d1/2*a*b*SinC可得答案。 AC代码：\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include\u0026lt;iostream\u0026gt;\n#include\u0026lt;cstdio\u0026gt;\n#include\u0026lt;cstring\u0026gt;\n#include\u0026lt;cmath\u0026gt;\n#include\u0026lt;string\u0026gt;\n#include\u0026lt;algorithm\u0026gt;\nint n;\ndouble r;\nint main(){\n\tscanf(\u0026quot;%d%lf\u0026quot;,\u0026amp;n,\u0026amp;r);\n\tdouble A,B,C,a,b,c,s\u003d0;\n\ta\u003dr;B\u003dacos(-1)/(2*n);C\u003dacos(-1)/n;\n\tA\u003dacos(-1)-B-C;\n\tb\u003da*sin(B)/sin(A);\n\ts\u003d0.5*a*b*sin(C);\n\ts\u003d2*n*s;\n\tprintf(\u0026quot;%.12f\u0026quot;,s);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["计算几何","水题"]}}