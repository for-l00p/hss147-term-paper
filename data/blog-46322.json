{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1469793453,"rating":0,"authorHandle":"ayushexel","modificationTimeSeconds":1469793453,"id":46322,"title":"\u003cp\u003eQuery regrading SPOJ BACKPACK \u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eProblem link \u003d\u0026gt; \u003ca href\u003d\"http://www.spoj.com/problems/BACKPACK/\"\u003ehttp://www.spoj.com/problems/BACKPACK/\u003c/a\u003e\u003c/p\u003e\u003cp\u003eMy solution :\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;map\u0026gt;\n#include \u0026lt;tuple\u0026gt;\nusing namespace std;\nmultimap\u0026lt;int,pair\u0026lt;int,int\u0026gt;\u0026gt;data; //to store attachments\n\nint wt[61],val[61];//to store main goods\n\nint solve(int n,int vol){\nif(n\u0026lt;1||vol\u0026lt;0||wt[n]\u0026gt;vol)\n  return 0;\nif(wt[n]\u003d\u003d-1)\n  return solve(n-1,vol);\nint w \u003d wt[n], v \u003d val[n];\nint ret \u003d solve(n-1,vol-w)+w*v;\nauto range \u003d data.equal_range(n); //check if there are any attachments\nint coun \u003d v*w,cw \u003d w;\nfor(auto i\u003drange.first;i!\u003drange.second;i++){\n\nint w1 \u003d i-\u0026gt;second.first,v1\u003d i-\u0026gt;second.second;\n  coun+\u003dw1*v1;\n  cw +\u003d w1;\n ret \u003d max(ret,solve(n-1,vol-w-w1)+w*v+w1*v1); //take only this attachment\n\nret \u003d max(ret,solve(n-1,vol-cw)+coun); //take this attachment along with previous one *there can be only 2 attachments at max*\n\n\n}\nreturn ret;\n}\n\nint main ()\n{\nint t;\ncin\u0026gt;\u0026gt;t;\nwhile(t--){\n  int vmax,n;\n  cin\u0026gt;\u0026gt;vmax\u0026gt;\u0026gt;n;\n  int a,b,c;\n  int sz \u003d 1;\n  for(int i\u003d1;i\u0026lt;\u003dn;i++){\n    cin\u0026gt;\u0026gt;a\u0026gt;\u0026gt;b\u0026gt;\u0026gt;c;\n    if(c\u003d\u003d0){ //treat this as a main good\n      wt[i] \u003d a;\n      val[i]\u003db;\n\n    }else{ //treat this as an attachment\n      data.insert(make_pair(c,make_pair(a,b)));\n      wt[i] \u003d -1; //this indicates that this index is an attachment\n    }\n  }\n \n  cout \u0026lt;\u0026lt; solve(n,vmax) \u0026lt;\u0026lt; endl;\n}\n\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo this is just a backtrack solution and I\u0027ve not memoized it yet. But the problem is I\u0027m getting \u0026quot;Wrong Answer\u0026quot; error on submitting this code. I have checked this code on various test cases and its working fine . So, waht\u0027s the error and how can I fix it ?\u003c/p\u003e\u003c/div\u003e","tags":["#algorithms","dynamic programming","recursion","recurrence","spoj"]}}