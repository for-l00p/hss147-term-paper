{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1479719696,"rating":-18,"authorHandle":"theLifter","modificationTimeSeconds":1479719696,"id":48513,"title":"\u003cp\u003eHow to Optimize following the code?\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003cstrong\u003eProblem Statement :\u003c/strong\u003e \u003ca href\u003d\"https://www.hackerrank.com/contests/indeed-prime-challenge-june-2015/challenges/course-dilemma/\"\u003eHackerrank Problem; basic Idea- topoSort\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eDifficulty:\u003c/strong\u003e The following solution gives time limit exceeded error for two test cases. How can the following be more optimized?\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eSolution:\u003c/strong\u003e \u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include\u0026lt;bits/stdc++.h\u0026gt;\n#define pp(d) for(int i\u003d0;i\u0026lt;d.size();i++){cout\u0026lt;\u0026lt;d[i]\u0026lt;\u0026lt;\u0026quot; \u0026quot;;}cout\u0026lt;\u0026lt;\u0026quot;\\n\u0026quot;;\nusing namespace std;\nint main(){\n    int t;\n    cin\u0026gt;\u0026gt;t;\n    for(int tt\u003d1;tt\u0026lt;\u003dt;tt++){\n        printf(\u0026quot;Case %d: \u0026quot;,tt);\n        int n,r;\n        scanf(\u0026quot;%d%d\u0026quot;,\u0026amp;n,\u0026amp;r);\n        map\u0026lt;int,vector\u0026lt;int\u0026gt;\u0026gt; a;\n        vector\u0026lt;int\u0026gt; d(n,0),f(n,0);\n        for(int i\u003d0;i\u0026lt;r;i++){\n            int b,c;\n            scanf(\u0026quot;%d%d\u0026quot;,\u0026amp;b,\u0026amp;c);\n            d[b]++;\n            vector\u0026lt;int\u0026gt; e;\n            if(a.find(c)!\u003da.end()){\n                e\u003da[c];\n                e.push_back(b);\n                a[c]\u003de;\n            }\n            else{\n                e.push_back(b);\n                a[c]\u003de;\n            }\n        }\n        int cnt\u003d0;\n        vector\u0026lt;int\u0026gt; q;\n        for(int i\u003d0;i\u0026lt;d.size();i++){\n                if(d[i]\u003d\u003d0\u0026amp;\u0026amp;!f[i]){q.push_back(i);f[i]\u003d1;}                \n            }\n       // pp(a[0]);pp(a[1]);pp(a[2])\n        while(1){\n            int dd\u003dcount(d.begin(),d.end(),0);\n            if(dd\u003d\u003dd.size()){break;}\n            if(dd\u003d\u003d0){printf(\u0026quot;Never Ends\\n\u0026quot;);break;}\n            vector\u0026lt;int\u0026gt; p;\n            p\u003dq;\n            q.clear();            \n            //pp(d);pp(p);\n            for(int i\u003d0;i\u0026lt;p.size();i++){\n                for(int j\u003d0;j\u0026lt;a[p[i]].size();j++){\n                    d[a[p[i]][j]]--; \n                    if(d[a[p[i]][j]]\u003d\u003d0)q.push_back(a[p[i]][j]);\n                }\n            }\n            cnt++;\n        }\n        if(count(d.begin(),d.end(),0)\u003d\u003dd.size()){\n            if(count(f.begin(),f.end(),1)!\u003df.size())cnt++;\n            printf(\u0026quot;%d semester(s)\\n\u0026quot;,cnt);\n        }        \n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}