{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1480341309,"rating":6,"authorHandle":"truongnam1996","modificationTimeSeconds":1480342373,"id":48677,"title":"\u003cp\u003e[Problem] Number of LIS\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eThe other day in COCI Round #3 I didn\u0027t solve the problem Zoltan. Turns out the problem involved counting the # of LIS (longest increasing subsequence) in an array. I never coded this before and wanted to ask Codeforces community to verify that what I do is correct.\u003c/p\u003e\u003cp\u003eMy idea is the following:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003eFindNumberOfLIS(nums):\n    len is an array where len[i] is the length of LIS that ends at nums[i]\n    cnt is an array where cnt[i] is the number of such LIS that end at nums[i]\n    for i in [1..n]:\n        let maxlen be the maximum len[j] for j in [1..i-1] and nums[j] \u0026lt; nums[i]\n        let sumcnt be the sum of cnt[j] for j in [1..i-1] and nums[j] \u0026lt; nums[i] and len[j] \u003d\u003d maxlen\n        then len[i] is clearly maxlen+1 and cnt[i] \u003d sumcnt\n    return cnt[j] associated with maximum len[j]\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe algorithm above is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e2\u003c/sup\u003e)\u003c/span\u003e. If not for the constraint \u003ccode\u003enums[j] \u0026lt; nums[i]\u003c/code\u003e we could have used segment tree. Therefore what I do is sort the initial \u003ccode\u003enums\u003c/code\u003e into \u003ccode\u003esortednums\u003c/code\u003e and create a segment tree relative to \u003ccode\u003esortednums\u003c/code\u003e. Now on each step I would find \u003ccode\u003emaxlen\u003c/code\u003e and \u003ccode\u003esumcnt\u003c/code\u003e in my segment tree from 1 to position of \u003ccode\u003enums[i]\u003c/code\u003e in \u003ccode\u003esortednums\u003c/code\u003e. In the end I return the \u003ccode\u003esumcnt\u003c/code\u003e on the entire segment tree.\u003c/p\u003e\u003cp\u003eCan anyone tell me if it\u0027s correct? And if possible, tell me how you deal with duplicates since they are pretty annoying.\u003c/p\u003e\u003c/div\u003e","tags":["segment tree","lis","coci"]}}