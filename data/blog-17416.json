{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1429098266,"rating":0,"authorHandle":"PERNEKHAN","modificationTimeSeconds":1429098266,"id":17416,"title":"\u003cp\u003eСтроки-Хэш\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eСтроки-Хэш. \u003c/p\u003e \u003cpre\u003e\u003ccode\u003e\u003cbr /\u003eint h[1010];\nint deg[1010];\nint base \u003d 311; // база желательно чтобы была простым цислом.\n\nint getHash(int l, int r){\n\treturn h[r] - h[l-1]*deg[r-l+1];\n}\n\nint main () {\n\tstring s;\n\tcin \u0026gt;\u0026gt;s;\n\ts \u003d \u0026quot; \u0026quot; + s; // переводим в индексацию 1\n\tdeg[0] \u003d 1; // deg[i] \u003d (base)^i\n\tfor (int i\u003d1;i\u0026lt;s.length();i++){\n\t\th[i] \u003d h[i-1]*base + s[i];\n\t\tdeg[i] \u003d deg[i-1]*base;\n\t}\n\tset \u0026lt; int \u0026gt; S;\n\tfor (int i\u003d1;i\u0026lt;s.length();i++){\n\t\tfor (int j\u003di;j\u0026lt;s.length();j++){\n\t\t\tS.insert(getHash(i,j));\n\t\t}\n\t}\n\tcout \u0026lt;\u0026lt;S.size()\u0026lt;\u0026lt;endl;\n\n\treturn 0;\n}\n\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["hashmap"]}}