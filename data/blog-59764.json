{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1527714330,"rating":-28,"authorHandle":"kunalkumar050894","modificationTimeSeconds":1527714330,"id":59764,"title":"\u003cp\u003eCounting number of inversions using fenwick tree.\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eFollowing is the code for counting number of inversions in a permutation(1...n) using fenwick tree. I can\u0027t get \u0026quot;inv +\u003d query(n) — query(a[i]); update(a[i], 1);\u0026quot; these two steps. Can anyone help?\u003c/p\u003e\u003ch1\u003einclude \u0026lt;bits/stdc++.h\u0026gt;\u003c/h1\u003e\u003cp\u003eusing namespace std; long long bit[1000005],a[1000005],n;\u003c/p\u003e\u003cp\u003evoid update(int x,int del) {  for(;x\u0026lt;\u003dn;x+\u003dx\u0026amp;-x)  {  bit[x]+\u003ddel;  } } int query(int x) {  int sum\u003d0;  for(;x\u0026gt;0;x-\u003dx\u0026amp;-x)  {  sum+\u003dbit[x];  }  return sum; } int main() {  cin\u0026gt;\u0026gt;n;\u003c/p\u003e \u003cpre\u003efor(int i\u003d1;i\u0026lt;\u003dn;i++)\n{\n\n    cin\u0026gt;\u0026gt;a[i];\n\n}\u003c/pre\u003e\u003cp\u003elong long inv \u003d 0;  for (int i\u003d1; i\u0026lt;\u003dn; i++) {  inv +\u003d query(n) — query(a[i]);  update(a[i], 1);  }  cout\u0026lt;\u0026lt;inv\u0026lt;\u0026lt;endl;  return 0;  }\u003c/p\u003e\u003c/div\u003e","tags":["bit/fenwick tree","inversions"]}}