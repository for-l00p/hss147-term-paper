{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1411673331,"rating":3,"authorHandle":"HolkinPV","modificationTimeSeconds":1411673331,"id":13967,"title":"\u003cp\u003eРазбор задач Тренировки №2\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201349/problem/A\"\u003eA. Не смешите мои подковы\u003c/a\u003e\u003c/p\u003e\u003cp\u003eВ этой задаче нужно посчитать количество различных чисел из входных данных \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecnt\u003c/i\u003e\u003c/span\u003e и вывести \u003cspan class\u003d\"tex-span\"\u003e4–\u003ci\u003ecnt\u003c/i\u003e\u003c/span\u003e. Это можно было сделать как угодно. Например, сложить все числа в стандартную коллекцию set и посчитать его размер.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201349/problem/B\"\u003eB. Напитки\u003c/a\u003e\u003c/p\u003e\u003cp\u003eВ ней необходимо было найти среднее арифметическое заданных чисел. Другими словами нужно было посчитать сумму всех элементов, разделить на их количество и вывести как вещественное число.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201349/problem/C\"\u003eC. Ночная работа\u003c/a\u003e\u003c/p\u003e\u003cp\u003eЭта задача решается бинарным поиском по ответу. Очевидно, что если число \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e являться ответом на задачу, то и любое число \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e  \u0026gt;  \u003c/span\u003ev будет являться ответом, поскольку число написанных строк кода могло только увеличиться. Поэтому, чтобы найти минимальный ответ, воспользуемся бинарным поиском. Чтобы проверить, подходит ли конкретное число V, воспользуемся формулой, указанной в условии. В этой формуле будет \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003elogN\u003c/i\u003e)\u003c/span\u003e ненулевых членов. В итоге получаем решение за \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003elog\u003c/i\u003e2(\u003ci\u003eN\u003c/i\u003e))\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201349/problem/D\"\u003eD. Еще одна строковая задача\u003c/a\u003e\u003c/p\u003e\u003cp\u003eДля начала скажем, что вместо бинарной строки у нас есть массив чисел \u003cspan class\u003d\"tex-span\"\u003e0\u003c/span\u003e и \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e. Тогда нужно посчитать количество отрезков \u003cspan class\u003d\"tex-span\"\u003e[\u003ci\u003elf\u003c/i\u003e;\u003ci\u003erg\u003c/i\u003e]\u003c/span\u003e таких, что сумма чисел на них равна \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e. Посчитаем для этого массива частичные суммы, а именно массив \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003esum\u003c/i\u003e\u003c/span\u003e, где \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003esum\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e]\u003c/span\u003e – сумма чисел в отрезке \u003cspan class\u003d\"tex-span\"\u003e[0;\u003ci\u003ei\u003c/i\u003e]\u003c/span\u003e. Ответ на задачу будем считать следующим образом. Будем двигаться по массиву слева направо. Пусть мы находимся в позиции \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epos\u003c/i\u003e\u003c/span\u003e. Прибавим к ответу количество отрезков, сумма на которых равна \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e и которые заканчиваются в позиции \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epos\u003c/i\u003e\u003c/span\u003e. Для этого для каждой частичной суммы будем поддерживать массив \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecnt\u003c/i\u003e\u003c/span\u003e, где \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecnt\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e]\u003c/span\u003e – количество раз, которое встретилась частичная сумма, равная \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e. Тогда в данный момент к ответу нужно прибавить величину \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecnt\u003c/i\u003e[\u003ci\u003esum\u003c/i\u003e[\u003ci\u003epos\u003c/i\u003e]–\u003ci\u003ek\u003c/i\u003e]\u003c/span\u003e. Решение можно реализовать за время \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e)\u003c/span\u003e, где \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e – длина исходной бинарной строки.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201349/problem/E\"\u003eE. Арифметическая прогрессия\u003c/a\u003e\u003c/p\u003e\u003cp\u003eВ этой задаче нужно было разобрать несколько несложных случаев:\u003c/p\u003e\u003cp\u003e1) если \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e \u003d 1\u003c/span\u003e, то ответ: -1, потому что любые два числа будут являться арифметической прогрессией;\u003cbr /\u003e2) если массив состоит целиком из одного числа, то ответ: эта единственная константа;\u003cbr /\u003e3) если вам уже дана арифметическая прогрессия, то ответ это \u003cspan class\u003d\"tex-span\"\u003e2\u003c/span\u003e числа: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eminVal\u003c/i\u003e - \u003ci\u003ed\u003c/i\u003e\u003c/span\u003e, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emaxVal\u003c/i\u003e + \u003ci\u003ed\u003c/i\u003e\u003c/span\u003e, где \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eminVal\u003c/i\u003e\u003c/span\u003e — минимум, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emaxVal\u003c/i\u003e\u003c/span\u003e — максимум, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e — разность прогрессии.\u003cbr /\u003eОднако, если \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e \u003d 2\u003c/span\u003e, то в этом случае ответ бывает \u003cspan class\u003d\"tex-span\"\u003e3\u003c/span\u003e числа (как, например, в последнем тестовом примере, когда разность \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003ea\u003c/i\u003e[1] - \u003ci\u003ea\u003c/i\u003e[0])\u003c/span\u003e четна); \u003c/p\u003e\u003cp\u003e4) иначе, возможно, в прогрессии пропущено ровно одно число и его можно аккуратно найти двигаясь по исходному массиву (предварительно его удобнее отcортировать). Разность прогрессии можно вычислить, как \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e \u003d \u003ci\u003emin\u003c/i\u003e(\u003ci\u003ea\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e + 1] - \u003ci\u003ea\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e])\u003c/span\u003e (если \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e \u0026gt; 2\u003c/span\u003e);\u003cbr /\u003e5) во всех иных случаях ответ \u003cspan class\u003d\"tex-span\"\u003e0\u003c/span\u003e;\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201349/problem/F\"\u003eF. Спор\u003c/a\u003e\u003c/p\u003e\u003cp\u003eОбозначим через \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e текущее число на счетчике номер \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e. Решать задачу будем следующим образом: возьмем любой счетчик \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e, такой, что \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e  \u003d  \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, и нажмем на соответствующую кнопку. Алгоритм прекратим тогда, когда такого \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e не найдется. Поймем, что этот алгоритм на самом деле решает задачу. Нам необходимо объяснить несколько условий:\u003c/p\u003e\u003cp\u003e1) Почему после конца алгоритма состояние будет выигрышным? Потому что не будет существовать такого \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e, в котором \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e  \u003d  \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, а иначе мы бы нажали на кнопку.\u003c/p\u003e\u003cp\u003e2) Почему алгоритм не будет нажимать одну и ту же кнопку дважды? Потому что мы нажимаем кнопку \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e, только если \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e  \u003d  \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, и сразу же, как мы нажмем, число \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e увеличится, и равенство больше никогда не выполнится.\u003c/p\u003e\u003cp\u003e3) Почему этот алгоритм можно реализовать за приемлемое время? Потому что из условия 2 следует, что алгоритм сделает не более \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e нажатий, которые суммарно приведут не более чем к \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e  +  2·\u003ci\u003em\u003c/i\u003e\u003c/span\u003e прибавлениям к числам. Для того, чтобы быстро находить те числа, в которых \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e  \u003d  \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, можно воспользоваться очередью: каждый раз, когда мы изменили число \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, и оно стало равным \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, то закидывать в очередь \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e. Несложно понять, что одно и то же число не может быть закинуто в очередь дважды.\u003c/p\u003e\u003cp\u003eИз алгоритма следует, что ответ всегда существует, а значить выводить  - 1 никогда не нужно было. Время – \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e  +  \u003ci\u003em\u003c/i\u003e)\u003c/span\u003e.\u003c/p\u003e\u003c/div\u003e","tags":["phtl","training2","edirorial"]}}