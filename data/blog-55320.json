{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1508575873,"rating":0,"authorHandle":"krauch","modificationTimeSeconds":1508575936,"id":55320,"title":"\u003cp\u003eРешения\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eЗадача А (Подзадача 1)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\n\nint main () {\n\n    int n;\n    cin \u0026gt;\u0026gt; n;\n    long long a, b, c, d;\n    cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b;\n    if (n \u003d\u003d 1) {\n        cout \u0026lt;\u0026lt; a * b \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n        return 0;\n    }\n    cin \u0026gt;\u0026gt; c \u0026gt;\u0026gt; d;\n    cout \u0026lt;\u0026lt; a * b + c * d - min(a, c) * min(b, d) \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\n    return 0;    \n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eЗадача А (Полное решение)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include\u0026lt;bits/stdc++.h\u0026gt;\n\nusing namespace std;\nconst int N6 \u003d 1e6 + 6, N3 \u003d 1e3 + 6, oo \u003d 1e9 + 9, base \u003d 1e9 + 7;\nconst long long ool \u003d 1e18 + 9;\n\ntypedef unsigned long long ull;\ntypedef long long ll;\ntypedef double ld;\ntypedef pair \u0026lt;int, int\u0026gt; PII;\ntypedef pair \u0026lt;ll, ll\u0026gt; PLL;\n\n#define F first\n#define S second\n#define pb push_back\n#define right(x) x \u0026lt;\u0026lt; 1 | 1\n#define left(x) x \u0026lt;\u0026lt; 1\n#define forn(x, a, b) for (int x \u003d a; x \u0026lt;\u003d b; ++x)\n#define for1(x, a, b) for (int x \u003d a; x \u0026gt;\u003d b; --x)\n#define mkp make_pair\n\nint n;\nPLL a[N6];\nll ans, mx;\n\nbool cmp(PLL a, PLL b) {\n\tif (a.F \u003d\u003d b.F)\n\t\treturn a.S \u0026gt; b.S;\n\treturn a.F \u0026gt; b.F;\n}\n\nint main() {\n    ios_base :: sync_with_stdio(0);\n    cin.tie(0);\n\n    cin \u0026gt;\u0026gt; n;\n    forn(i, 1, n) {\n    \tcin \u0026gt;\u0026gt; a[i].F \u0026gt;\u0026gt; a[i].S;\n    }\n\n\tsort(a + 1, a + n + 1, cmp);\n\n\tforn(i, 1, n) {\n\t\tans +\u003d max(0ll, a[i].S - mx) * a[i].F;\n\t\tmx \u003d max(mx, a[i].S);\n\t}\n\n\tcout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eЗадача B (Полное решение)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\n\nusing namespace std;\n\nvoid solve() {\n\tlong long n, m;\n\tlong long a, b;\n\tcin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m;\n\tcin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b;\n\t\n\tm -\u003d n;\n\tlong long ans \u003d 1LL \u0026lt;\u0026lt; 61;\n\tans \u003d min(ans, m * a);\n\tans \u003d min(ans, (m / 4 + 1) * b);\n\tans \u003d min(ans, (m / 4) * b + (m % 4) * a);\n\tif (m \u0026lt;\u003d 0)\n\t\tans \u003d 0;\n\tcout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; endl;\n}\n\nint main() {\n\tsolve();\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eЗадача C (Полное решение)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;map\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;cstring\u0026gt;\n\nusing namespace std;\n\ntypedef long long llint;\ntypedef pair \u0026lt;int, int\u0026gt; pii;\n\nconst int MAXN \u003d 1 \u0026lt;\u0026lt; 20;\n\nint n, q;\n\nvector \u0026lt;pii\u0026gt; T[MAXN];\nint a[MAXN];\nint ls[MAXN], rs[MAXN];\nint left[MAXN];\nint right[MAXN];\nint ans[MAXN];\n\nvoid update (int x, int l, int r, int L, int v) {\n  if (L \u0026gt; r || L \u0026lt; l) return;\n  T[x].push_back({rs[v], v});\n  int mid \u003d (l + r) / 2;\n  if (l \u003d\u003d r) return;\n  update(x * 2, l, mid, L, v);\n  update(x * 2 + 1, mid+1, r, L, v);\n}\n\nvoid query_update (int x, int l, int r, int L, int R, int p1, int p2) {\n  if (L \u0026gt; r || R \u0026lt; l) return;\n  if (l \u0026gt;\u003d L \u0026amp;\u0026amp; r \u0026lt;\u003d R) {\n    T[x].push_back({p1, -1});\n    T[x].push_back({p2, -2});\n    return;\n  }\n  int mid \u003d (l + r) / 2;\n  query_update(x * 2, l, mid, L, R, p1, p2);\n  query_update(x * 2 + 1, mid+1, r, L, R, p1, p2);\n}\n\nvoid solve (int x, int l, int r) {\n  sort(T[x].begin(), T[x].end());\n  int cnt \u003d 0;\n  for (auto v: T[x]) {\n    if (v.second \u003d\u003d -1) ++cnt;\n    else\n    if (v.second \u003d\u003d -2) --cnt;\n    else ans[v.second] +\u003d cnt;\n  }\n  if (l \u003d\u003d r) return;\n  int mid \u003d (l+r) / 2;\n  solve(x*2, l, mid);\n  solve(x*2+1, mid+1, r);\n}\n\nint main (void){\n  scanf(\u0026quot;%d%d\u0026quot;, \u0026amp;n, \u0026amp;q);\n  for (int i \u003d 0; i \u0026lt; n; ++i) scanf(\u0026quot;%d\u0026quot;, \u0026amp;a[i]);\n  for (int i \u003d 0; i \u0026lt; q; ++i) {\n    scanf(\u0026quot;%d%d\u0026quot;, \u0026amp;ls[i], \u0026amp;rs[i]);\n    --ls[i]; --rs[i];\n    update(1, 0, n-1, ls[i], i);\n  }\n  map \u0026lt;int, int\u0026gt; M;\n  for (int i \u003d 0; i \u0026lt; n; ++i) {\n    int pos \u003d -1;\n    if (M.count(a[i])) pos \u003d M[a[i]];\n    left[i] \u003d pos;\n    M[a[i]] \u003d i;\n  }\n  M.clear();\n  for (int i \u003d n-1; i \u0026gt;\u003d 0; --i) {\n    int pos \u003d n;\n    if (M.count(a[i])) pos \u003d M[a[i]];\n    right[i] \u003d pos;\n    M[a[i]] \u003d i;\n  }\n  right[n] \u003d n;\n\n  for (int i \u003d 0; i \u0026lt; n; ++i) {\n    int rpos \u003d right[i];\n    if (rpos \u003d\u003d n) continue;\n    query_update(1, 0, n-1, left[i] + 1, i, rpos, right[rpos]);\n  }\n\n  solve(1, 0, n-1);\n  for (int i \u003d 0; i \u0026lt; q; ++i)\n    printf(\u0026quot;%d\\n\u0026quot;, ans[i]);\n\n  return 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eПриносим свои извинения за неполадки с тестами в первой задаче. :(\u003c/p\u003e\u003cp\u003eРезультаты будут опубликованы в ближайшее время.\u003c/p\u003e\u003c/div\u003e","tags":[]}}