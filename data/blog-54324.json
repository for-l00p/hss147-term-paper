{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1504570659,"rating":-9,"authorHandle":"quinamatics","modificationTimeSeconds":1504570715,"id":54324,"title":"\u003cp\u003eDP Problem!\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHello, I am working on the problem Duff In Beach for Codeforces Div 1 Round 326 getting WA on test case 4. I followed the editorial quite closely, so I think the issue might lie in not properly taking the modulus. I really need help on this problem have been stuck for Weeks!\u003c/p\u003e\u003cp\u003eHere is my WA code: \u003c/p\u003e\u003cp\u003eimport java.util.Arrays; import java.util.HashMap; import java.util.Scanner;\u003c/p\u003e\u003cp\u003epublic class DuffInBeach { public static void main(String[] args) {\u003c/p\u003e \u003cpre\u003eScanner s \u003d new Scanner(System.in);\nString str \u003d s.nextLine();\nString[] strarr \u003d str.split(\u0026quot; \u0026quot;);\nint N \u003d Integer.parseInt(strarr[0]);\ndouble L \u003d Double.parseDouble(strarr[1]);\nint K \u003d Integer.parseInt(strarr[2]);\n\nlong[][] dp \u003d new long[N][K+1];\nlong[] a \u003d new long[N];\nstr \u003d s.nextLine();\nstrarr \u003d str.split(\u0026quot; \u0026quot;);\nHashMap hmap \u003d new HashMap();\nlong[] b \u003d new long[N];\n//Index of sortings, a[p[i]]\u0026lt;\u003d a[p[i+1]];\nfor(int i \u003d 0; i \u0026lt; N; i++){\n   a[i] \u003d Long.parseLong(strarr[i]);\n   b[i] \u003d a[i];\n   hmap.put(a[i], i);\n}\nArrays.sort(b);\nint[] p \u003d new int[N];\nfor(int i \u003d 0; i \u0026lt; N; i++)\n   p[i] \u003d (int) hmap.get(b[i]);\n//# of permutations from Block 1 to Block J, for each pos I. \nfor(int i \u003d 0; i \u0026lt; dp.length; i++)\n   dp[i][1] \u003d 1;\n\nfor(int j \u003d 2; j \u0026lt;\u003d K; j++){\n   for(int i \u003d 0; i \u0026lt; N; i++){\n     int ptr \u003d 0;\n     while(ptr \u0026lt; N \u0026amp;\u0026amp; a[p[ptr]]\u0026lt;\u003d a[i])\n      dp[i][j] \u003d (int) ((dp[i][j]+dp[p[ptr++]][j-1])%(1e9+7));\n   }\n}\nInteger denom \u003d new Integer(N);\nlong c \u003d (long) Math.ceil(L/denom.doubleValue());\nlong min \u003d Math.min(c, K);\nint x \u003d (int) ((L-1)%(N));\n\nlong ans \u003d 0;\nfor(int i \u003d 0; i \u0026lt;\u003d x; i++){\n   for(int j \u003d 1; j \u0026lt;\u003d min; j++){\n     long sum \u003d (long) ((dp[i][j]*(c-j+1))%(1e9+7));\n     ans \u003d (long) ((ans+sum)%(1e9+7));\n   }\n}\nfor(int i \u003d x+1; i \u0026lt; N; i++){\n   for(int j \u003d 1; j \u0026lt;\u003d Math.min(c-1,K); j++){\n     long sum \u003d (long)((dp[i][j]*(c-j)%(1e9+7)));\n     ans \u003d (long)((ans+sum)%(1e9+7));\n   }\n}\nSystem.out.println(ans);\u003c/pre\u003e\u003cp\u003e} }\u003c/p\u003e\u003c/div\u003e","tags":[]}}