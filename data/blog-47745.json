{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1476442788,"rating":0,"authorHandle":"BigBag","modificationTimeSeconds":1476442788,"id":47745,"title":"\u003cp\u003eХитрые идеи решения задач\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003cstrong\u003e1)\u003c/strong\u003e Если есть массив чисел \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e и нужно узнать какие числа можно представить в виде сумм элементов его подмассива (задача о рюкзаке), то иногда можно уменьшить размер массива \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eЗаведем массив пар \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003c/span\u003e, где \u003ccode\u003eb[i].first\u003c/code\u003e — элемент из массива \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e, а \u003ccode\u003eb[i].second\u003c/code\u003e — его количество.\u003c/p\u003e\u003cp\u003eРаспишем \u003ccode\u003eb[i].second\u003c/code\u003e в таком виде : \u003ccode\u003eb[i].second\u003c/code\u003e\u003cspan class\u003d\"tex-span\"\u003e \u003d 1 + 2 + 4 + ... + 2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sup\u003e + (\u003c/span\u003e\u003ccode\u003eb[i].second\u003c/code\u003e\u003cspan class\u003d\"tex-span\"\u003e - 2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ek\u003c/i\u003e + 1\u003c/sup\u003e + 1)\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eТогда \u003ccode\u003eb[i].second\u003c/code\u003e элементов можно заменить на \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/db/78/db789b144fc67b9f76183dd346fc7059238236f6.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e элементов :\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e].\u003ci\u003efirst\u003c/i\u003e × 1\u003c/span\u003e \u003cbr /\u003e \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e].\u003ci\u003efirst\u003c/i\u003e × 2\u003c/span\u003e \u003cbr /\u003e \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e].\u003ci\u003efirst\u003c/i\u003e × 4\u003c/span\u003e \u003cbr /\u003e \u003cspan class\u003d\"tex-span\"\u003e...\u003c/span\u003e \u003cbr /\u003e \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e].\u003ci\u003efirst\u003c/i\u003e × 2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e \u003cbr /\u003e \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e].\u003ci\u003efirst\u003c/i\u003e × (\u003ci\u003eb\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e].\u003ci\u003esecond\u003c/i\u003e - 2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ek\u003c/i\u003e + 1\u003c/sup\u003e + 1)\u003c/span\u003e\u003c/p\u003e\u003cp\u003eТем самым массив \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e неплохо сжимается.\u003c/p\u003e\u003cp\u003eЗадачи : \u003ca href\u003d\"//codeforces.com/contest/95/problem/E\"\u003eСчастливая страна\u003c/a\u003e.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e2)\u003c/strong\u003e Рассмотри следующую задачу :\u003c/p\u003e\u003cp\u003eДан неориентированный граф из \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e вершин и \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e ребер. Каждое ребро покрашено в какой-то цвет. Необходимо ответить на \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e запросов такого типа : существует ли путь из вершины \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eu\u003c/i\u003e\u003c/span\u003e в вершину \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e только по ребрам цвета \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ec\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eОграничения : \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e, \u003ci\u003ek\u003c/i\u003e, \u003ci\u003em\u003c/i\u003e, \u003ci\u003ec\u003c/i\u003e ≤ 10\u003csup class\u003d\"upper-index\"\u003e5\u003c/sup\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e1) Очевидное решение за \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eО\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e·\u003ci\u003ec\u003c/i\u003e + \u003ci\u003ek\u003c/i\u003e)\u003c/span\u003e : для каждого цвета создадим СНМ из \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e вершин. Для того, чтобы ответить на запрос просто посмотрим, соединены ли в СНМ цвета \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eс\u003c/i\u003e\u003c/span\u003e вершины \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eu\u003c/i\u003e\u003c/span\u003e, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e2) Решение за \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e + \u003ci\u003ek\u003c/i\u003e)\u003c/span\u003e : модернизируем решение №1, а именно установим взаимно-однозначное соответствие между парой чисел (вершина, цвет) и числом \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/span\u003e. Очевидно, что \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/sub\u003e \u0026lt;  \u003d \u003ci\u003em\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eЗаведем один СНМ размера \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eТогда вместо того, чтобы объединять вершины \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eu\u003c/i\u003e\u003c/span\u003e, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e в СНМ цвета \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eс\u003c/i\u003e\u003c/span\u003e, объединим числа \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e(\u003ci\u003eu\u003c/i\u003e, \u003ci\u003ec\u003c/i\u003e)\u003c/span\u003e и \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e(\u003ci\u003ev\u003c/i\u003e, \u003ci\u003ec\u003c/i\u003e)\u003c/span\u003e. Аналогично, чтобы ответить на запрос, посмотрим, соединены ли в вершины \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e(\u003ci\u003eu\u003c/i\u003e, \u003ci\u003ec\u003c/i\u003e)\u003c/span\u003e, и \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e(\u003ci\u003ev\u003c/i\u003e, \u003ci\u003ec\u003c/i\u003e)\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eЗадачи : \u003ca href\u003d\"//codeforces.com/contest/506/problem/D\"\u003eЦветной граф мистера Китаюта\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e3)\u003c/strong\u003e Алгоритмом Куна можно находить не только максимальное паросочетание (то есть чтобы каждая вершина принадлежала максимум одному ребру), а и такое : чтобы каждая вершина принадлежала максимум двум ребрам(если граф топологически отсортирован). \u003c/p\u003e\u003cp\u003eЗадачи : \u003ca href\u003d\"http://acmp.ru/index.asp?main\u003dtask\u0026amp;id_task\u003d573\"\u003eНЛО\u003c/a\u003e.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e4)\u003c/strong\u003e В задачах на динамическое программирование можно поменять местами параметр и результат. Например :\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003ex\u003c/i\u003e\u003c/span\u003e, \u003cspan class\u003d\"tex-span\"\u003e(1 ≤ \u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e ≤ 10000, 1 ≤ \u003ci\u003ex\u003c/i\u003e ≤ 100\u003c/span\u003e). Кол-во операций \u003cspan class\u003d\"tex-span\"\u003e  — \u003c/span\u003e \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(10\u003csup class\u003d\"upper-index\"\u003e8\u003c/sup\u003e)\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ex\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003ej\u003c/i\u003e\u003c/span\u003e. Кол-во операций \u003cspan class\u003d\"tex-span\"\u003e  — \u003c/span\u003e \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(10\u003csup class\u003d\"upper-index\"\u003e6\u003c/sup\u003e)\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eПример : \u003ca href\u003d\"//codeforces.com/contest/425/problem/C\"\u003eСережа и две последовательности\u003c/a\u003e.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e5)\u003c/strong\u003e Если сумма чисел в каком-то массиве не превышает \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emaxX\u003c/i\u003e\u003c/span\u003e, то максимальное кол-во различных чисел в этом массиве \u003cspan class\u003d\"tex-span\"\u003e  — \u003c/span\u003e \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/ff/1e/ff1e3c240f99ef2b22ae04f933e5cb89f91e932a.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e. \u003c/p\u003e\u003cp\u003eЭто также может использоваться при решении задач на строки. Если задано много строк, то кол-во различных длин всех этих строк \u003cspan class\u003d\"tex-span\"\u003e  — \u003c/span\u003e \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/80/4a/804af1cd8c712319770e6629b4e412731844df61.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e.\u003c/p\u003e\u003cp\u003eЗадачи : .\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e6)\u003c/strong\u003e \u003ccode\u003ebitset\u0026lt;max_n\u0026gt;\u003c/code\u003e занимает в 16 раз меньше памяти, чем \u003ccode\u003ebool a[max_n]\u003c/code\u003e. Используя это, можно, например, написать решето Эратосфена при \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e ≤ 2·10\u003csup class\u003d\"upper-index\"\u003e8\u003c/sup\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eЗадачи : \u003ca href\u003d\"//codeforces.com/contest/113/problem/C\"\u003eСчастье на двоих\u003c/a\u003e.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e7)\u003c/strong\u003e \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/8a/15/8a159caeaa73fbf7cfa1d9123323cef99998f527.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e.\u003c/p\u003e\u003cp\u003eЗадачи : \u003ca href\u003d\"https://www.hackerrank.com/contests/101hack31/challenges/subsets-counting\"\u003eSubsets Counting\u003c/a\u003e.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003e8)\u003c/strong\u003e Иногда вместо бинарного поиска можно воспользоватся методом двух указателей, и тем самым избавиться от лишнего \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/14/93/14938a51bbfb79c3029b31a1a3c654df79991c49.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e. Также вместо бинарного поиска и запросу к дереву отрезков можно воспользоваться спуском по дереву. Такое же ускорение в \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/14/93/14938a51bbfb79c3029b31a1a3c654df79991c49.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e.\u003c/p\u003e\u003cp\u003eЗадачи : .\u003c/p\u003e\u003c/div\u003e","tags":[]}}