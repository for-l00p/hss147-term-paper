{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1518621781,"rating":66,"authorHandle":"Tommyr7","modificationTimeSeconds":1518678763,"id":57763,"title":"\u003cp\u003eCodeforces Round #462 Editorial\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHi, all!\u003c/p\u003e\u003cp\u003eThis is not \u003ca class\u003d\"rated-user user-orange\" href\u003d\"/profile/Tommyr7\" title\u003d\"Master Tommyr7\"\u003eTommyr7\u003c/a\u003e, but the \u003cstrong\u003eimpostor\u003c/strong\u003e behind the round again (guess who I am? :P). The statements are written by me. Thank you, everyone, and hope you\u0027ve all enjoyed the round!\u003c/p\u003e\u003cp\u003eAny feedback on problems and tutorials are welcome â€” we look forward to doing even better in the future!\u003c/p\u003e\u003cp\u003eHere are some of the detailed tutorials!\u003c/p\u003e\u003ch3\u003eTutorials\u003c/h3\u003e\u003ch3\u003e\u003ca href\u003d\"/contest/934/problem/A\" title\u003d\"Codeforces Round 462 (Div. 2)\"\u003e934A - A Compatible Pair\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eAuthor\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/quailty\" title\u003d\"Grandmaster quailty\"\u003equailty\u003c/a\u003e / \u003cstrong\u003ePreparation\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/quailty\" title\u003d\"Grandmaster quailty\"\u003equailty\u003c/a\u003e / \u003cstrong\u003eTutorial\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/quailty\" title\u003d\"Grandmaster quailty\"\u003equailty\u003c/a\u003e\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eTutorial\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cdiv class\u003d\"problemTutorial\" problemcode\u003d\"934A\"\u003eTutorial is loading...\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (quailty)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include\u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\ntypedef long long ll;\nconst ll INF\u003d(1LL\u0026lt;\u0026lt;60)-1;\nll a[55],b[55];\nint main()\n{\n    int n,m;\n    scanf(\u0026quot;%d%d\u0026quot;,\u0026amp;n,\u0026amp;m);\n    for(int i\u003d1;i\u0026lt;\u003dn;i++)\n        scanf(\u0026quot;%lld\u0026quot;,\u0026amp;a[i]);\n    for(int i\u003d1;i\u0026lt;\u003dm;i++)\n        scanf(\u0026quot;%lld\u0026quot;,\u0026amp;b[i]);\n    ll res\u003dINF;\n    for(int i\u003d1;i\u0026lt;\u003dn;i++)\n    {\n        ll now\u003d-INF;\n        for(int j\u003d1;j\u0026lt;\u003dn;j++)if(j!\u003di)\n            for(int k\u003d1;k\u0026lt;\u003dm;k++)\n                now\u003dmax(now,a[j]*b[k]);\n        res\u003dmin(res,now);\n    }\n    printf(\u0026quot;%lld\\n\u0026quot;,res);\n    return 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003ch3\u003e\u003ca href\u003d\"/contest/934/problem/B\" title\u003d\"Codeforces Round 462 (Div. 2)\"\u003e934B - A Prosperous Lot\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eAuthor\u003c/strong\u003e \u003ca class\u003d\"rated-user user-orange\" href\u003d\"/profile/Tommyr7\" title\u003d\"Master Tommyr7\"\u003eTommyr7\u003c/a\u003e / \u003cstrong\u003ePreparation\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/cyand1317\" title\u003d\"Grandmaster cyand1317\"\u003ecyand1317\u003c/a\u003e / \u003cstrong\u003eTutorial\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/cyand1317\" title\u003d\"Grandmaster cyand1317\"\u003ecyand1317\u003c/a\u003e\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eTutorial\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cdiv class\u003d\"problemTutorial\" problemcode\u003d\"934B\"\u003eTutorial is loading...\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (Tommyr7)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\nint n,k;\nint main()\n{\n\tscanf(\u0026quot;%d\u0026quot;,\u0026amp;k);\n\tif (k\u0026gt;36) printf(\u0026quot;%d\\n\u0026quot;,-1);\n\telse\n\t{\n\t\twhile (k\u0026gt;0)\n\t\t{\n\t\t\tif (k\u0026gt;\u003d2)\n\t\t\t{\n\t\t\t\tprintf(\u0026quot;%d\u0026quot;,8);\n\t\t\t\tk-\u003d2;\n\t\t\t} else\n\t\t\t{\n\t\t\t\tprintf(\u0026quot;%d\u0026quot;,9);\n\t\t\t\tk-\u003d1;\n\t\t\t}\n\t\t}\n\t\tprintf(\u0026quot;\\n\u0026quot;);\n\t}\n\treturn 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003ch3\u003e\u003ca href\u003d\"/contest/933/problem/A\" title\u003d\"Codeforces Round 462 (Div. 1)\"\u003e933A - A Twisty Movement\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eAuthor\u003c/strong\u003e \u003ca class\u003d\"rated-user user-blue\" href\u003d\"/profile/visitWorld\" title\u003d\"Expert visitWorld\"\u003evisitWorld\u003c/a\u003e / \u003cstrong\u003ePreparation\u003c/strong\u003e \u003ca class\u003d\"rated-user user-blue\" href\u003d\"/profile/visitWorld\" title\u003d\"Expert visitWorld\"\u003evisitWorld\u003c/a\u003e / \u003cstrong\u003eTutorial\u003c/strong\u003e \u003ca class\u003d\"rated-user user-blue\" href\u003d\"/profile/visitWorld\" title\u003d\"Expert visitWorld\"\u003evisitWorld\u003c/a\u003e\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eTutorial\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cdiv class\u003d\"problemTutorial\" problemcode\u003d\"933A\"\u003eTutorial is loading...\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (visitWorld)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\n\n#define rep(i, x, y) for (int i \u003d (x), _ \u003d (y); i \u0026lt; _; ++i)\n#define down(i, x, y) for (int i \u003d (x) - 1, _ \u003d (y); i \u0026gt;\u003d _; --i)\n#define fi first\n#define se second\n#define mp(x, y) make_pair(x, y)\n#define pb(x) push_back(x)\n#define bin(x) (1 \u0026lt;\u0026lt; (x))\n#define SZ(x) int((x).size())\n\nusing namespace std;\ntypedef pair\u0026lt;int, int\u0026gt; pii;\ntypedef vector\u0026lt;int\u0026gt; Vi;\ntypedef long long ll;\n\ntemplate\u0026lt;typename T\u0026gt; inline bool upmax(T \u0026amp;x, T y) { return x \u0026lt; y ? (x \u003d y, 1) : 0; }\ntemplate\u0026lt;typename T\u0026gt; inline bool upmin(T \u0026amp;x, T y) { return x \u0026gt; y ? (x \u003d y, 1) : 0; }\n\nconst int MAX_N \u003d 2005;\n\nint pre[MAX_N][2], suf[MAX_N][2];\nint g[MAX_N][MAX_N][2][2];\nint w[MAX_N], N;\n\nint main() {\n\tscanf(\u0026quot;%d\u0026quot;, \u0026amp;N);\n\trep (i, 0, N) { scanf(\u0026quot;%d\u0026quot;, \u0026amp;w[i]); w[i]--; }\n\trep (i, 0, N) {\n\t\tif (i) memcpy(pre[i], pre[i - 1], sizeof pre[i]);\n\t\tdown (j, 2, w[i]) upmax(pre[i][j], pre[i][w[i]] + 1);\n\t}\n\tdown (i, N, 0) {\n\t\tif (i \u0026lt; N - 1) memcpy(suf[i], suf[i + 1], sizeof suf[i]);\n\t\trep (j, 0, w[i] + 1) upmax(suf[i][j], suf[i][w[i]] + 1);\n\t}\n\tint ans \u003d pre[N - 1][1];\n\trep (i, 0, N) {\n\t\trep (a, 0, w[i] + 1) rep (b, w[i], 2) {\n\t\t\tg[i][i][a][b] \u003d 1;\n\t\t}\n\t}\n\trep (l, 1, N) rep (i, 0, N - l) {\n\t\tint j \u003d i + l;\n\t\trep (l, 0, 2) rep (a, 0, 2 - l) {\n\t\t\tint b \u003d a + l;\n\t\t\tg[i][j][a][b] \u003d max((a \u0026lt; 1 ? g[i][j][a + 1][b] : 0), (b ? g[i][j][a][b - 1] : 0));\n\t\t\tupmax(g[i][j][a][b], g[i + 1][j][a][b] + (b \u003d\u003d w[i]));\n\t\t\tupmax(g[i][j][a][b], g[i][j - 1][a][b] + (a \u003d\u003d w[j]));\n\t\t\tupmax(ans, (i ? pre[i - 1][a] : 0) + g[i][j][a][b] + (j \u0026lt; N - 1 ? suf[j + 1][b] : 0));\n\t\t}\n\t}\n\tprintf(\u0026quot;%d\\n\u0026quot;, ans);\n\treturn 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003ch3\u003e\u003ca href\u003d\"/contest/933/problem/B\" title\u003d\"Codeforces Round 462 (Div. 1)\"\u003e933B - A Determined Cleanup\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eAuthor\u003c/strong\u003e \u003ca class\u003d\"rated-user user-orange\" href\u003d\"/profile/Tommyr7\" title\u003d\"Master Tommyr7\"\u003eTommyr7\u003c/a\u003e / \u003cstrong\u003ePreparation\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/cyand1317\" title\u003d\"Grandmaster cyand1317\"\u003ecyand1317\u003c/a\u003e / \u003cstrong\u003eTutorial\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/cyand1317\" title\u003d\"Grandmaster cyand1317\"\u003ecyand1317\u003c/a\u003e\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eTutorial\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cdiv class\u003d\"problemTutorial\" problemcode\u003d\"933B\"\u003eTutorial is loading...\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (Tommyr7)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\nlong long p;\nint k;\nint cnt\u003d0;\nint ans[107];\nint get()\n{\n\tint x\u003dp%k;\n\tif (x\u0026lt;0) x+\u003dk;\n\treturn x%k;\n}\nint main()\n{\n\tscanf(\u0026quot;%lld%d\u0026quot;,\u0026amp;p,\u0026amp;k);\n\twhile (p!\u003d0)\n\t{\n\t\t++cnt;\n\t\tans[cnt]\u003dget();\n\t\tp-\u003dget();\n\t\tp/\u003d(-k);\n\t}\n\tprintf(\u0026quot;%d\\n\u0026quot;,cnt);\n\tfor (int i\u003d1;i\u0026lt;\u003dcnt;i++)\n\t\tprintf(\u0026quot;%d \u0026quot;,ans[i]);\n\tprintf(\u0026quot;\\n\u0026quot;);\n\treturn 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003ch3\u003e\u003ca href\u003d\"/contest/933/problem/C\" title\u003d\"Codeforces Round 462 (Div. 1)\"\u003e933C - A Colourful Prospect\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eAuthor\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/quailty\" title\u003d\"Grandmaster quailty\"\u003equailty\u003c/a\u003e / \u003cstrong\u003ePreparation\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/quailty\" title\u003d\"Grandmaster quailty\"\u003equailty\u003c/a\u003e / \u003cstrong\u003eTutorial\u003c/strong\u003e \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/quailty\" title\u003d\"Grandmaster quailty\"\u003equailty\u003c/a\u003e\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eTutorial\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cdiv class\u003d\"problemTutorial\" problemcode\u003d\"933C\"\u003eTutorial is loading...\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (quailty)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include\u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\n\ntypedef long double db;\nconst db eps\u003d1e-12;\n\nstruct Point\n{\n    db x,y;\n    Point(){}\n    Point(db _x,db _y):x(_x),y(_y){}\n    Point operator + (const Point \u0026amp;t)const\n    {\n        return Point(x+t.x,y+t.y);\n    }\n    Point operator - (const Point \u0026amp;t)const\n    {\n        return Point(x-t.x,y-t.y);\n    }\n    Point operator * (const db \u0026amp;t)const\n    {\n        return Point(x*t,y*t);\n    }\n    Point operator / (const db \u0026amp;t)const\n    {\n        return Point(x/t,y/t);\n    }\n    bool operator \u0026lt; (const Point \u0026amp;t)const\n    {\n        return fabs(x-t.x)\u0026lt;eps ? y\u0026lt;t.y : x\u0026lt;t.x;\n    }\n    bool operator \u003d\u003d (const Point \u0026amp;t)const\n    {\n        return fabs(x-t.x)\u0026lt;eps \u0026amp;\u0026amp; fabs(y-t.y)\u0026lt;eps;\n    }\n    db len()const\n    {\n        return sqrt(x*x+y*y);\n    }\n    Point rot90()const\n    {\n        return Point(-y,x);\n    }\n};\n\nstruct Circle\n{\n    Point o;\n    db r;\n    Circle(){}\n    Circle(Point _o,db _r):o(_o),r(_r){}\n    friend vector\u0026lt;Point\u0026gt; operator \u0026amp; (const Circle \u0026amp;c1,const Circle \u0026amp;c2)\n    {\n        db d\u003d(c1.o-c2.o).len();\n        if(d\u0026gt;c1.r+c2.r+eps || d\u0026lt;fabs(c1.r-c2.r)-eps)\n            return vector\u0026lt;Point\u0026gt;();\n        db dt\u003d(c1.r*c1.r-c2.r*c2.r)/d,d1\u003d(d+dt)/2;\n        Point dir\u003d(c2.o-c1.o)/d,pcrs\u003dc1.o+dir*d1;\n        dt\u003dsqrt(max(0.0L,c1.r*c1.r-d1*d1)),dir\u003ddir.rot90();\n        return vector\u0026lt;Point\u0026gt;{pcrs+dir*dt,pcrs-dir*dt};\n    }\n}p[5];\n\nstruct DSU\n{\n    int fa[5];\n    void init(int n)\n    {\n        for(int i\u003d1;i\u0026lt;\u003dn;i++)\n            fa[i]\u003di;\n    }\n    int find(int x)\n    {\n        return fa[x]\u003d\u003dx ? x : fa[x]\u003dfind(fa[x]);\n    }\n    void merge(int x,int y)\n    {\n        x\u003dfind(x),y\u003dfind(y);\n        if(x!\u003dy)fa[x]\u003dy;\n    }\n}dsu;\n\nint main()\n{\n    int n;\n    scanf(\u0026quot;%d\u0026quot;,\u0026amp;n);\n    for(int i\u003d1;i\u0026lt;\u003dn;i++)\n        cin\u0026gt;\u0026gt;p[i].o.x\u0026gt;\u0026gt;p[i].o.y\u0026gt;\u0026gt;p[i].r;\n    vector\u0026lt;Point\u0026gt; all;\n    dsu.init(n);\n    int e\u003d0;\n    for(int i\u003d1;i\u0026lt;\u003dn;i++)\n    {\n        vector\u0026lt;Point\u0026gt; pat;\n        for(int j\u003d1;j\u0026lt;\u003dn;j++)if(i!\u003dj)\n        {\n            vector\u0026lt;Point\u0026gt; tmp\u003dp[i]\u0026amp;p[j];\n            if(!tmp.empty())dsu.merge(i,j);\n            for(int k\u003d0;k\u0026lt;(int)tmp.size();k++)\n                all.push_back(tmp[k]),pat.push_back(tmp[k]);\n        }\n        sort(pat.begin(),pat.end());\n        e+\u003dunique(pat.begin(),pat.end())-pat.begin();\n    }\n    sort(all.begin(),all.end());\n    int v\u003dunique(all.begin(),all.end())-all.begin(),c\u003d0;\n    for(int i\u003d1;i\u0026lt;\u003dn;i++)\n        c+\u003d(dsu.find(i)\u003d\u003di);\n    cout\u0026lt;\u0026lt;e-v+c+1\u0026lt;\u0026lt;endl;\n    return 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (cyand1317)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n\nstatic const int MAXN \u003d 3;\nstatic const double EPS \u003d 1e-9;\n\nstatic int n;\nstatic int x[MAXN], y[MAXN], r[MAXN];\n\n// -2: internally separate\n// -1: internally tangent\n//  0: intersecting\n// +1: externally tangent\n// +2: externally separate\nstatic int g[MAXN][MAXN];\n// Number of points passed by all three circles\nstatic int conc;\n\ninline int rel(int a, int b)\n{\n    int dssq \u003d (x[a] - x[b]) * (x[a] - x[b]) + (y[a] - y[b]) * (y[a] - y[b]),\n        dfsq \u003d (r[a] - r[b]) * (r[a] - r[b]),\n        smsq \u003d (r[a] + r[b]) * (r[a] + r[b]);\n\n    if (dssq \u0026lt; dfsq) return -2;\n    else if (dssq \u003d\u003d dfsq) return -1;\n    else if (dssq \u0026lt; smsq) return 0;\n    else if (dssq \u003d\u003d smsq) return +1;\n    else return +2;\n}\n\ninline void get_intersections(int a, int b, double ix[2], double iy[2])\n{\n    double angle \u003d atan2(y[b] - y[a], x[b] - x[a]);\n    double ds \u003d sqrt((x[a] - x[b]) * (x[a] - x[b]) + (y[a] - y[b]) * (y[a] - y[b]));\n    double delta \u003d acos((ds * ds + r[a] * r[a] - r[b] * r[b]) / (2.0 * r[a] * ds));\n    ix[0] \u003d x[a] + r[a] * cos(angle + delta);\n    iy[0] \u003d y[a] + r[a] * sin(angle + delta);\n    ix[1] \u003d x[a] + r[a] * cos(angle - delta);\n    iy[1] \u003d y[a] + r[a] * sin(angle - delta);\n}\n\ninline bool on_circle(int a, double x0, double y0)\n{\n    return fabs((x[a] - x0) * (x[a] - x0) + (y[a] - y0) * (y[a] - y0) - r[a] * r[a]) \u0026lt;\u003d EPS;\n}\n\nint main()\n{\n    scanf(\u0026quot;%d\u0026quot;, \u0026amp;n);\n    for (int i \u003d 0; i \u0026lt; n; ++i) scanf(\u0026quot;%d%d%d\u0026quot;, \u0026amp;x[i], \u0026amp;y[i], \u0026amp;r[i]);\n\n    for (int i \u003d 0; i \u0026lt; n - 1; ++i)\n        for (int j \u003d i + 1; j \u0026lt; n; ++j)\n            g[i][j] \u003d g[j][i] \u003d rel(i, j);\n\n    conc \u003d 0;\n    if (n \u003d\u003d 3) {\n        for (int i \u003d 0; i \u0026lt; 2; ++i) {\n            for (int j \u003d i + 1; j \u0026lt; 3; ++j) if (g[i][j] \u0026gt;\u003d -1 \u0026amp;\u0026amp; g[i][j] \u0026lt;\u003d +1) {\n                int k \u003d 3 - i - j;\n                double ix[2], iy[2];\n                get_intersections(i, j, ix, iy);\n                if (on_circle(k, ix[0], iy[0])) ++conc;\n                if (on_circle(k, ix[1], iy[1]) \u0026amp;\u0026amp; g[i][j] \u003d\u003d 0) ++conc;\n                break;\n            }\n            if (conc !\u003d 0) break;\n        }\n    }\n\n    if (n \u003d\u003d 1) {\n        puts(\u0026quot;2\u0026quot;);\n    } else if (n \u003d\u003d 2) {\n        puts(g[0][1] \u003d\u003d 0 ? \u0026quot;4\u0026quot; : \u0026quot;3\u0026quot;);\n    } else if (n \u003d\u003d 3) {\n        int x[3] \u003d { g[0][1], g[0][2], g[1][2] };\n        std::sort(x, x + 3);\n        if (x[0] \u003d\u003d -2) {\n            printf(\u0026quot;%d\\n\u0026quot;, 4 + (x[1] \u003d\u003d 0) + (x[2] \u003d\u003d 0));\n        } else if (x[0] \u003d\u003d -1) {\n            if (x[1] \u003d\u003d -1) {\n                printf(\u0026quot;%d\\n\u0026quot;, x[2] \u003d\u003d -1 ? 4 : (6 - x[2]));\n            } else {\n                switch (x[1] * 10 + x[2]) {\n                    case 00: printf(\u0026quot;%d\\n\u0026quot;, 7 - conc); break;\n                    case 01: puts(\u0026quot;6\u0026quot;); break;\n                    case 02: puts(\u0026quot;5\u0026quot;); break;\n                    case 11: case 12: case 22: puts(\u0026quot;4\u0026quot;); break;\n                    default: puts(\u0026quot;\u0026gt; \u0026lt;\u0026quot;);\n                }\n            }\n        } else if (x[0] \u0026gt;\u003d +1) {\n            puts(x[0] \u003d\u003d +1 \u0026amp;\u0026amp; x[2] \u003d\u003d +1 ? \u0026quot;5\u0026quot; : \u0026quot;4\u0026quot;);\n        } else {    // x[0] \u003d\u003d 0\n            switch (x[1] * 10 + x[2]) {\n                case 00: printf(\u0026quot;%d\\n\u0026quot;, 8 - conc); break;\n                case 01: printf(\u0026quot;%d\\n\u0026quot;, 7 - conc); break;\n                case 02: puts(\u0026quot;6\u0026quot;); break;\n                case 11: puts(\u0026quot;6\u0026quot;); break;\n                case 12: puts(\u0026quot;5\u0026quot;); break;\n                case 22: puts(\u0026quot;5\u0026quot;); break;\n                default: puts(\u0026quot;\u0026gt; \u0026lt;\u0026quot;);\n            }\n        }\n    } else puts(\u0026quot;\u0026gt; \u0026lt;\u0026quot;);\n\n    return 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003ch3\u003e\u003ca href\u003d\"/contest/933/problem/D\" title\u003d\"Codeforces Round 462 (Div. 1)\"\u003e933D - A Creative Cutout\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eAuthor\u003c/strong\u003e \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/skywalkert\" title\u003d\"Candidate Master skywalkert\"\u003eskywalkert\u003c/a\u003e / \u003cstrong\u003ePreparation\u003c/strong\u003e \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/skywalkert\" title\u003d\"Candidate Master skywalkert\"\u003eskywalkert\u003c/a\u003e / \u003cstrong\u003eTutorial\u003c/strong\u003e \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/skywalkert\" title\u003d\"Candidate Master skywalkert\"\u003eskywalkert\u003c/a\u003e\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eTutorial\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cdiv class\u003d\"problemTutorial\" problemcode\u003d\"933D\"\u003eTutorial is loading...\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (skywalkert)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\ntypedef long long LL;\nconst int mod \u003d (int)1e9 + 7, inv2 \u003d (mod + 1) / 2, inv3 \u003d (mod + 1) / 3, inv5 \u003d (mod * 2 + 1) / 5, inv7 \u003d (mod + 1) / 7;\nconst int inv6 \u003d (LL)inv2 * inv3 % mod, inv30 \u003d (LL)inv5 * inv6 % mod, inv42 \u003d (LL)inv6 * inv7 % mod;\nconst int coeff[4][8] \u003d {\n{0, 1}, // sum(b^0) \u003d n\n{0, inv6, inv2, inv3}, // sum(b^2) \u003d 1/6 n + 1/2 n^2 + 1/3 n^3\n{0, mod - inv30, 0, inv3, inv2, inv5}, // sum(b^4) \u003d -1/30 n + 1/3 n^3 + 1/2 n^4 + 1/5 n^5\n{0, inv42, 0, mod - inv6, 0, inv2, inv2, inv7} // sum(b^6) \u003d 1/42 n - 1/6 n^3 + 1/2 n^5 + 1/2 n^6 + 1/7 n^7\n};\nLL n;\nint f[4], g[4], ans;\nint main() {\n\tscanf(\u0026quot;%lld\u0026quot;, \u0026amp;n);\n\tint nn \u003d n % mod;\n\tf[0] \u003d nn * (nn + 1LL) % mod * (nn + 2) % mod;\n\tf[1] \u003d (3LL * nn + 4) % mod;\n\tf[2] \u003d mod - 3LL * (nn + 2) % mod;\n\tf[3] \u003d 2;\n\tfor(int x \u003d 0; (LL)x * x \u0026lt;\u003d n; ++x) {\n\t\tLL rem \u003d n - (LL)x * x;\n\t\tint yLim \u003d (int)ceil(sqrtl(rem));\n\t\tfor( ; (LL)yLim * yLim \u0026lt;\u003d rem; ++yLim);\n\t\tfor( ; (LL)yLim * yLim \u0026gt; rem; --yLim);\n\t\tint sum \u003d 0, x2 \u003d (LL)x * x % mod, x4 \u003d (LL)x2 * x2 % mod, x6 \u003d (LL)x2 * x4 % mod;\n\t\tg[0] \u003d (f[0] + (LL)f[1] * x2 + (LL)f[2] * x4 + (LL)f[3] * x6) % mod;\n\t\tg[1] \u003d (f[1] + 2LL * f[2] * x2 + 3LL * f[3] * x4) % mod;\n\t\tg[2] \u003d (f[2] + 3LL * f[3] * x2) % mod;\n\t\tg[3] \u003d f[3];\n\t\tfor(int i \u003d 0; i \u0026lt; 4; ++i) {\n\t\t\tint tmp \u003d 0;\n\t\t\tfor(int j \u003d i \u0026lt;\u0026lt; 1 | 1; j \u0026gt;\u003d 0; --j)\n\t\t\t\ttmp \u003d ((LL)tmp * yLim + coeff[i][j]) % mod;\n\t\t\tsum \u003d (sum + (LL)g[i] * (tmp \u0026lt;\u0026lt; 1 | !i)) % mod;\n\t\t}\n\t\tx \u0026amp;\u0026amp; (sum \u0026lt;\u0026lt;\u003d 1) \u0026gt;\u003d mod \u0026amp;\u0026amp; (sum -\u003d mod);\n\t\t(ans +\u003d sum) \u0026gt;\u003d mod \u0026amp;\u0026amp; (ans -\u003d mod);\n\t}\n\tans \u003d (LL)ans * inv6 % mod;\n\tprintf(\u0026quot;%d\\n\u0026quot;, ans);\n\treturn 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (demon1999)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\n\n\nusing namespace std;\n\n#define re return\n#define sz(a) (int)a.size()\n#define mp(a, b) make_pair(a, b)\n#define fi first\n#define se second\n#define re return\n#define forn(i, n) for (int i \u003d 0; i \u0026lt; int(n); i++)\n#define bend(a) a.begin(),a.end()\ntypedef long long ll;\ntypedef vector\u0026lt;int\u0026gt; vi;\ntypedef pair\u0026lt;int, int\u0026gt; pii;\ntypedef pair\u0026lt;long long, long long\u0026gt; pll;\ntypedef long double ld;\ntypedef unsigned long long ull;\nconst ll mod \u003d int(1e9) + 7;\n\nll n, sum1, sum2, sum3, sum4, ans;\nvector\u0026lt;ll\u0026gt; cp;\n\nll mdd(ll c) {\n\tc %\u003d mod;\n\tif (c \u0026lt; 0) c +\u003d mod;\n\tre c;\n}\n\nll pow1(ll k, ll st) {\n\tll ans \u003d 1;\n\twhile (st) {\n\t\tif (st \u0026amp; 1) ans \u003d mdd(ans * k);\n\t\tk \u003d mdd(k * k);\n\t\tst \u0026gt;\u0026gt;\u003d 1;\n\t}\n\tre ans;\n}\n\nll get_sum(ll n) {\n\tn %\u003d mod;\n\tn +\u003d mod;\n\tn %\u003d mod;\n\tre (n * (n + 1) / 2LL) % mod;\n}\n\nll get_cnt(ll a) {\n\ta \u003d mdd(a);\n\tre mdd(mdd(2LL * mdd(a * a) * a) - mdd(3LL * mdd(a * a) * mdd(n + 2)) + mdd(mdd(a) * mdd(3LL * n + 4)) + mdd(n) * mdd(mdd(mdd(n) * mdd(n)) + 3LL * n + 2LL));\n}\n\nint main() {\n\tiostream::sync_with_stdio(0), cin.tie(0);\n\tcin \u0026gt;\u0026gt; n;\n\tfor (ll k \u003d 1; k * k \u0026lt;\u003d n; k++) {\n\t\tll c \u003d mdd(k * k);\n\t\tcp.push_back(k * k);\n\t\tsum1 \u003d mdd(sum1 + c);\n\t\tsum2 \u003d mdd(sum2 + mdd(c * c));\n\t\tsum3 \u003d mdd(sum3 + mdd(mdd(c * c) * c));\n\t\tsum4 \u003d mdd(sum4 + get_cnt(c));\n\t\t//cout \u0026lt;\u0026lt; sum4 \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\t}\n\tans \u003d mdd(get_cnt(1) + 4LL * sum4);\n\tll k1 \u003d 2, k2 \u003d mdd(-3LL * (n + 2)), k3 \u003d mdd(3LL * n + 4);\n\tfor (ll a \u003d 0; ; a++){\n\t\twhile (sz(cp) \u0026amp;\u0026amp; cp.back() + (a+1LL) * (a + 1LL) \u0026gt; n) {\n\t\t\tll c \u003d mdd(cp.back() + a * a);\n\t\t\tsum1 \u003d mdd(sum1 - c);\n\t\t\tsum2 \u003d mdd(sum2 - mdd(c * c));\n\t\t\tsum3 \u003d mdd(sum3 - mdd(mdd(c * c) * c));\n\t\t\tsum4 \u003d mdd(sum4 - mdd(get_cnt(c)));\n\t\t\tcp.pop_back();\n\t\t\tcontinue;\n\t\t}\t\t\n\t\tif (sz(cp) \u003d\u003d 0) break;\n\t\tll k \u003d mdd(2LL * a + 1), ksq \u003d mdd(k * k), ktr \u003d mdd(ksq * k);\n\t\t//cout \u0026lt;\u0026lt; sum4 \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\t\tsum4 \u003d mdd(sum4 + mdd(ll(sz(cp)) * mdd(k1 * ktr + k2 * ksq + k3 * k)) +\n\t\t\t   mdd(sum1 * mdd(2LL * k * k2 + 3LL * k1 * ksq)) +\n\t\t\t   mdd(sum2 * mdd(3LL * k * k1)));\n\t\t//cout \u0026lt;\u0026lt; sum4 \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\t\tans \u003d mdd(ans + 4LL * sum4);\n\t\tsum3 \u003d mdd(sum3 + mdd(ll(sz(cp)) * ktr) + mdd(sum2 * 3LL * k) + mdd(ksq * 3LL * sum1));\n\t\tsum2 \u003d mdd(sum2 + mdd(ll(sz(cp)) * ksq) + mdd(2LL * sum1 * k));\n\t\tsum1 \u003d mdd(sum1 + mdd(ll(sz(cp)) * k));\n\t\t//cout \u0026lt;\u0026lt; sum3 \u0026lt;\u0026lt; \u0026quot; \u0026quot; \u0026lt;\u0026lt; sum2 \u0026lt;\u0026lt; \u0026quot; \u0026quot; \u0026lt;\u0026lt; sum1 \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\t}\n\t//cout \u0026lt;\u0026lt; ans /6\u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\tans \u003d mdd(ans * pow1(6, mod - 2));\n\tcout \u0026lt;\u0026lt; ans;\n} \n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003ch3\u003e\u003ca href\u003d\"/contest/933/problem/E\" title\u003d\"Codeforces Round 462 (Div. 1)\"\u003e933E - A Preponderant Reunion\u003c/a\u003e\u003c/h3\u003e\u003cp\u003e\u003cstrong\u003eAuthor\u003c/strong\u003e \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/skywalkert\" title\u003d\"Candidate Master skywalkert\"\u003eskywalkert\u003c/a\u003e / \u003cstrong\u003ePreparation\u003c/strong\u003e \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/skywalkert\" title\u003d\"Candidate Master skywalkert\"\u003eskywalkert\u003c/a\u003e / \u003cstrong\u003eTutorial\u003c/strong\u003e \u003ca class\u003d\"rated-user user-violet\" href\u003d\"/profile/skywalkert\" title\u003d\"Candidate Master skywalkert\"\u003eskywalkert\u003c/a\u003e\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eTutorial\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cdiv class\u003d\"problemTutorial\" problemcode\u003d\"933E\"\u003eTutorial is loading...\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eSolution (skywalkert)\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\ntypedef long long LL;\nconst int maxn \u003d (int)3e5 + 3;\nint n, a[maxn], cnt, p[maxn], m, out[maxn];\nLL f[maxn];\nbool v[maxn];\nint descension(int pos) {\n\tint dt \u003d min(a[pos], a[pos + 1]);\n\tif(dt)\n\t\tout[++m] \u003d pos;\n\ta[pos] -\u003d dt;\n\ta[pos + 1] -\u003d dt;\n\treturn dt;\n}\nint main() {\n\tscanf(\u0026quot;%d\u0026quot;, \u0026amp;n);\n\tfor(int i \u003d 1; i \u0026lt;\u003d n; ++i) {\n\t\tscanf(\u0026quot;%d\u0026quot;, a + i);\n\t\tLL odd \u003d f[max(i - 2, 0)] + a[i], even \u003d f[max(i - 3, 0)] + max(a[i - 1], a[i]);\n\t\tf[i] \u003d min(odd, even);\n\t\tv[i] \u003d f[i] !\u003d odd;\n\t}\n\t// a[n + 1] \u003d 0;\n\tLL ans \u003d min(f[n - 1], f[n]);\n\t// printf(\u0026quot;%lld\\n\u0026quot;, ans);\n\tfor(int i \u003d n - (ans \u003d\u003d f[n - 1]); i \u0026gt; 0; i -\u003d 2 + v[i])\n\t\tp[++cnt] \u003d i;\n\treverse(p + 1, p + cnt + 1);\n\tfor(int i \u003d 1; i \u0026lt;\u003d cnt; ++i) {\n\t\tint pre \u003d p[i - 1], cur \u003d p[i], ctr \u003d 0;\n\t\tif(v[cur])\n\t\t\tctr +\u003d descension(cur - 1);\n\t\tctr +\u003d descension(pre + 1);\n\t\tctr +\u003d descension(cur);\n\t\tassert(ctr \u003d\u003d f[cur] - f[pre]);\n\t}\n\tprintf(\u0026quot;%d\\n\u0026quot;, m);\n\tfor(int i \u003d 1; i \u0026lt;\u003d m; ++i)\n\t\tprintf(\u0026quot;%d\\n\u0026quot;, out[i]);\n\treturn 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eThank you everyone!\u003c/p\u003e\u003cp\u003eHappy Valentine\u0027s Day and happy Lunar New Year!\u003c/p\u003e\u003c/div\u003e","tags":[]}}