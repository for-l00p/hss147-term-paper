{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1478949638,"rating":0,"authorHandle":"kshj78","modificationTimeSeconds":1478949638,"id":48354,"title":"\u003cp\u003eLCA\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cbr /\u003evoid pre_dfs1(int x, int p \u003d -1) {\n    if (p !\u003d -1) {\n        lvl[x] \u003d lvl[p] + 1;\n        dp[x][0] \u003d p;\n        for (int i \u003d 1; i \u0026lt; SZ; i++) {\n            dp[x][i] \u003d dp[dp[x][i - 1]][i - 1];\n        }\n    }\n    sz_sub[x] \u003d 1;\n    for (auto it : v[x]) {\n        if (it \u003d\u003d p)\n            continue;\n        pre_dfs1(it, x);\n        sz_sub[x] +\u003d sz_sub[it];\n    }\n}\n\ninline int get_lca(int x, int y) {\n    if (lvl[x] \u0026gt; lvl[y])\n        swap(x, y);\n    int d \u003d lvl[y] - lvl[x];\n    for (int i \u003d 0; i \u0026lt; SZ; i++) \n        if ((d \u0026gt;\u0026gt; i) \u0026amp; 1)\n            y \u003d dp[y][i];\n    if (x \u003d\u003d y)\n        return x;\n    for (int i \u003d SZ - 1; i \u0026gt;\u003d 0; i--) \n        if (dp[x][i] !\u003d dp[y][i]) {\n            x \u003d dp[x][i];    \n            y \u003d dp[y][i];    \n        }\n    return dp[x][0];\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["lca","данат","диас","нурадил","ержан","акылбек","чальте"]}}