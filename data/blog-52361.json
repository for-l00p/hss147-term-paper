{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1496506071,"rating":0,"authorHandle":"Joe_Pacha","modificationTimeSeconds":1496506071,"id":52361,"title":"\u003cp\u003eFloating Point Precision\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHello Codeforces community,\u003c/p\u003e\u003cp\u003eIn problem D (\u003ca href\u003d\"//codeforces.com/contest/600/problem/D\"\u003eArea of Two Circles\u0027 Intersection\u003c/a\u003e), I wanted to calculate the angle between two vectors.\u003c/p\u003e\u003cp\u003e\u003cimg alt\u003d\" \" src\u003d\"/predownloaded/57/6a/576ae27e9c2724216f86105d0823b103014e071b.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003eI calculated the angle \u003cspan class\u003d\"tex-span\"\u003eα\u003c/span\u003e using the dot and cross products of the vectors c1p1 (name it V1) \u0026amp; c1c2 (name it V2) using the following equation:\u003c/p\u003e\u003cp\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/26/bb/26bb6cd8af01879253de16f31c86373d542c27c2.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003eThen used the atan2 function to get the angle. I got a WA with a small precision drift in test 41. I changed the implementation to what was described in the editorial and calculated \u003cspan class\u003d\"tex-span\"\u003eα\u003c/span\u003e using the \u003cstrong\u003elow of cosines\u003c/strong\u003e as follows: \u003c/p\u003e\u003cp\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/75/c0/75c08e3aa2c8b98df1cd41ee6be5a8c6b8bde9e3.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e \u003c/p\u003e\u003cp\u003ewhere d is the distance between the centers of the circles. I used the acos function to get the angle, this passed the system tests.Those are the links of my submissions:\u003c/p\u003e\u003cp\u003eWrong: \u003ca href\u003d\"//codeforces.com/contest/600/submission/27546617\"\u003ehttp://codeforces.com/contest/600/submission/27546617\u003c/a\u003e\u003cbr /\u003eCorrect: \u003ca href\u003d\"//codeforces.com/contest/600/submission/27546673\"\u003ehttp://codeforces.com/contest/600/submission/27546673\u003c/a\u003e\u003c/p\u003e\u003cp\u003eI wonder why my first approach failed. \u003c/p\u003e\u003cp\u003eAnother problem, \u003ca href\u003d\"//codeforces.com/problemset/problem/598/C\"\u003eNearest Vectors\u003c/a\u003e:\u003cbr /\u003e\u003ccode\u003eYou are given the set of vectors on the plane, each of them starting at the origin. Your task is to find a pair of vectors with the minimal non-oriented angle between them.\u003c/code\u003e \u003c/p\u003e\u003cp\u003eI sorted the vectors w.r.t their angles, then looped on them minimizing the value of angle[i + 1] — angle[i]. I wrote the following function to get the angle between each vector and the positive direction of the X-Axis\u003c/p\u003e \u003cpre\u003e\u003ccode\u003elong double get_ang(pii coords) {  \n  double res \u003d atan2(coords.second, coords.first);  \n  if (res \u0026lt; 0) res +\u003d 2 * PI;  \n  return res;  \n}  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThis gave me WA in a test case 140, where 2 answers were very close in the difference. I modified the function and converted the angles to degrees and it passed. \u003c/p\u003e \u003cpre\u003e\u003ccode\u003elong double get_ang(pii coords) {  \n  double res \u003d atan2(coords.second, coords.first) * 180 / PI;  \n  if (res \u0026lt; 0) res +\u003d 2 * PI;  \n  return res;  \n}  \n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWrong submission: \u003ca href\u003d\"//codeforces.com/contest/598/submission/27534014\"\u003ehttp://codeforces.com/contest/598/submission/27534014\u003c/a\u003e\u003cbr /\u003eCorrect submission: \u003ca href\u003d\"//codeforces.com/contest/598/submission/27534469\"\u003ehttp://codeforces.com/contest/598/submission/27534469\u003c/a\u003e \u003c/p\u003e\u003cp\u003eI also wonder how this very slight modification affected the differences between angles.\u003c/p\u003e\u003c/div\u003e","tags":[]}}