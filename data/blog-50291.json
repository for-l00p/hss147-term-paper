{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1486419635,"rating":77,"authorHandle":"Errichto","modificationTimeSeconds":1486427188,"id":50291,"title":"\u003cp\u003eWhy this behaviour in C++?\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;vector\u0026gt;\nint main() {\n\tstd :: vector\u0026lt;int\u0026gt; w;\n\tfor(int x : w);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eThe code above runs forever on my machine, after being compiled with \u003ccode\u003eg++ a.cpp\u003c/code\u003e (it first prints some warning), the same on ideone: \u003ca href\u003d\"http://ideone.com/5FodQO\"\u003ehttp://ideone.com/5FodQO\u003c/a\u003e. Why? \u003cstrong\u003eEDIT:\u003c/strong\u003e As \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/yeputons\" title\u003d\"International Grandmaster yeputons\"\u003eyeputons\u003c/a\u003e noticed, this bug was already reported by Mike Mirzayanov.\u003c/p\u003e\u003cp\u003eAnd the following code gives me RTE without any warning if compiled with \u003ccode\u003eg++ -O2 a.cpp\u003c/code\u003e â€” is it a compiler bug as well?\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\nstruct Big {\n\tvector\u0026lt;int\u0026gt; w;\n\tBig(int x) {\n\t\twhile(x) {\n\t\t\tw.push_back(x % 10);\n\t\t\tx /\u003d 10;\n\t\t}\n\t}\n\tBig operator - () const {\n\t\treturn Big(0) - *this;\n\t}\n\tint get(int i) const {\n\t\tif(i \u0026lt; (int) w.size()) return w[i];\n\t\treturn 0;\n\t}\n\tBig operator - (const Big \u0026amp; other) const {\n\t\tBig ans(0);\n\t\tans.w.resize(100, 0); // ans.w.resize(max(w.size(), other.w.size())); // gives RTE too\n\t\tputs(\u0026quot;a\u0026quot;);\n\t\tfor(int i \u003d 0; i \u0026lt; (int) ans.w.size(); ++i)\n\t\t\tans.w[i] \u003d get(i) - other.get(i);\n\t\t\t// ans.w[i] \u003d (i \u0026lt; (int) w.size() ? w[i] : 0)\n\t\t\t//\t- (i \u0026lt; (int) other.w.size() ? other.w[i] : 0); // gives RTE too\n\t\tputs(\u0026quot;b\u0026quot;);\n\t\treturn ans;\n\t}\n};\nint main() {\n\t//Big(0) - Big(57); // this line works fine\n\t-Big(57);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["c++"]}}