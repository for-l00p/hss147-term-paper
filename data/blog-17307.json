{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1428388516,"rating":50,"authorHandle":"Edvard","modificationTimeSeconds":1428388516,"id":17307,"title":"\u003cp\u003eSTL stack uses a lot of memory\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHi Codeforces!\u003c/p\u003e\u003cp\u003eToday while solving problem F from Zepto-cup I need an array of linked lists of size about \u003cspan class\u003d\"tex-span\"\u003e6Â·10\u003csup class\u003d\"upper-index\"\u003e5\u003c/sup\u003e\u003c/span\u003e and I decided to use std::stack. But I got ML cause that array has a size of about 350MB. Then I replaced std::stack by std::list and got AC. Anyone know why std::stack use so lot of memory?\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;stack\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;iostream\u0026gt;\n\nusing namespace std;\n\nconst int N \u003d 600 * 1000 + 3;\n\nstack\u0026lt;int\u0026gt; z[N];\n\nint main()\n{\n\tz[rand()].push(rand());\n\tcout \u0026lt;\u0026lt; z[rand()].size() \u0026lt;\u0026lt; endl;\n\treturn 0;\n}\n\u003d\u003d\u003d\u003d\u003d\nUsed: 420 ms, 352524 KB\n\u003c/code\u003e\u003c/pre\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;list\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;iostream\u0026gt;\n\nusing namespace std;\n\nconst int N \u003d 600 * 1000 + 3;\n\nlist\u0026lt;int\u0026gt; z[N];\n\nint main()\n{\n\tz[rand()].push_back(rand());\n\tcout \u0026lt;\u0026lt; z[rand()].size() \u0026lt;\u0026lt; endl;\n\treturn 0;\n}\n\u003d\u003d\u003d\u003d\u003d\nUsed: 0 ms, 4704 KB\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["stl","stack","c++"]}}