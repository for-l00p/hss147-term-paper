{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1512325344,"rating":0,"authorHandle":"alessandrosolbiati","modificationTimeSeconds":1512325344,"id":56142,"title":"\u003cp\u003eDifferent output with C+11 and C+14, why is that?\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eThe following code (problem B of last contest) give different outputs if compiled with different versions of C++11/C++14, only on this specific input \u003c/p\u003e\u003cp\u003e42147 412393322\u003c/p\u003e\u003cp\u003ewhy is that?\u003c/p\u003e\u003cp\u003e(I included the header only for reference)\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e\u003cbr /\u003e//START HEADER ---------------------------------------------\n\nusing namespace std;\n#define int int64_t\n#define rep(i, begin, end) for (__typeof(end) i \u003d (begin) - ((begin) \u0026gt; (end)); i !\u003d (end) - ((begin) \u0026gt; (end)); i +\u003d 1 - 2 * ((begin) \u0026gt; (end)))\n#define EPS 1e-7\n#define INF 1e9\n#define foor(n) for (int i\u003d0;i\u0026lt;n;i++)\n#define fooor(a,n) for (int i\u003da;i\u0026lt;n;i++)\n#define per(a,n) for (int i\u003dn-1;i\u0026gt;\u003da;i--)\n#define pb push_back\n#define mp make_pair\n#define all(x) (x).begin(),(x).end()\n#define fi first\n#define se second\n#define ssz(x) ((int)(x).size())\n#define pc(x) putchar(x)\n//#define PI acos(-1);\ntypedef pair\u0026lt;int,int\u0026gt; ii;\ntypedef vector\u0026lt;int\u0026gt; vi;\ntypedef vector\u0026lt;pair\u0026lt;int,int\u0026gt;\u0026gt; vii;\ntypedef vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt; vvi;\ntypedef long long ll;\ntypedef unsigned long long ull;\nconst ll mod\u003d1000000007;\nll powmod(ll a,ll b) {ll res\u003d1;a%\u003dmod; assert(b\u0026gt;\u003d0); for(;b;b\u0026gt;\u0026gt;\u003d1){if(b\u0026amp;1)res\u003dres*a%mod;a\u003da*a%mod;}return res;}\nnamespace ib {char b[100];}\ninline void pi(int x){ //fasto\n    if(x\u003d\u003d0) {pc(48); return;}\n    if(x\u0026lt;0) {pc(\u0027-\u0027); x\u003d-x;}\n    char *s\u003dib::b;\n    while(x) *(++s)\u003dx%10,x/\u003d10;\n    while(s!\u003dib::b) pc((*(s--))+48);\n}\ninline void ri(int \u0026amp;x){ //fasti\n    x\u003d0; static char c; bool t(0);\n    while(c\u003dgetchar(),c\u0026lt;\u00270\u0027||c\u0026gt;\u00279\u0027) if(c\u003d\u003d\u0027-\u0027) t\u003d1; else t\u003d0;\n    do x\u003d(x\u0026lt;\u0026lt;1)+(x\u0026lt;\u0026lt;3)+c-\u00270\u0027; while(c\u003dgetchar(),c\u0026gt;\u003d\u00270\u0027\u0026amp;\u0026amp;c\u0026lt;\u003d\u00279\u0027);\n    if(t) x\u003d-x;\n}\n//#define cerr if(0)cerr\n#define error(args...) { vector\u0026lt;string\u0026gt; _v \u003d split(#args, \u0027,\u0027); err(_v.begin(), args); }\nvector\u0026lt;string\u0026gt; split(const string\u0026amp; s, char c) {\n    vector\u0026lt;string\u0026gt; v;\n    stringstream ss(s);\n    string x;\n    while (getline(ss, x, c))\n        v.emplace_back(x);\n    return move(v);\n}\nvoid err(vector\u0026lt;string\u0026gt;::iterator it) {}\ntemplate\u0026lt;typename T, typename... Args\u0026gt;\nvoid err(vector\u0026lt;string\u0026gt;::iterator it, T a, Args... args) {\n    cerr \u0026lt;\u0026lt; it -\u0026gt; substr((*it)[0] \u003d\u003d \u0027 \u0027, it -\u0026gt; length()) \u0026lt;\u0026lt; \u0026quot; \u003d \u0026quot; \u0026lt;\u0026lt; a \u0026lt;\u0026lt; \u0027\\n\u0027;\n    err(++it, args...);\n}\n\n// FINISH HEADER ---------------------------------------------------------------------------------------\n\nstring itoa(int n){\n    string res \u003d \u0026quot;\u0026quot;;\n    int r\u003d-1;\n    while(n/10!\u003d0){\n        r\u003dn%10;\n        res+\u003dchar(r+\u00270\u0027);\n        n/\u003d10;\n    }\n    r\u003dn%10;\n    res+\u003dchar(r+\u00270\u0027);\n    reverse(all(res));\n    return res;\n}\n\nint aatoi(string s){\n    int res\u003d0;\n    foor(ssz(s)){\n        res+\u003d(int)(s[i]-\u00270\u0027)*pow(10, i);\n    }\n    //   error(s,res);\n    return res;\n    \n}\n\n\nint32_t main(){\n    int n,m;\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m;\n    int res\u003d0;\n    foor(n+1){\n        \n        string s \u003d itoa(i);\n        string r \u003d s;\n        reverse(all(r));\n        s\u003ds+r;\n        //error(aatoi(s.c_str()));\n        res+\u003daatoi(s.c_str());\n    }\n    return cout\u0026lt;\u0026lt;res% (1ll * m),0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["c++11 vs c++14"]}}