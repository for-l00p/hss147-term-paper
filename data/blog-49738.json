{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1484295164,"rating":8,"authorHandle":"YangZhao512","modificationTimeSeconds":1484295164,"id":49738,"title":"\u003cp\u003eCan anyone help me with Leetcode LRU Cache problem?\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHope this post is not irrelevant to codeforces. I\u0027ve spent lots of hours on this problem but just can\u0027t figure out what the problem is with my code. The OJ gives Runtime Error. Can anyone help me? Thanks a lot!\u003c/p\u003e \u003cpre\u003e\u003ccode\u003eclass LRUCache{\nprivate:\n    int cap;\n    deque\u0026lt;int\u0026gt; keyList;\n    map\u0026lt;int, deque\u0026lt;int\u0026gt;::iterator\u0026gt; pos;\n    map\u0026lt;int, int\u0026gt; key2val;\n    static const int FAIL \u003d -1;\n\n    void move2front(int key){\n        keyList.erase(pos[key]);\n        keyList.push_front(key);\n        pos[key] \u003d keyList.begin();\n    }\n\n    void evict(){\n        int key \u003d keyList.back();\n        keyList.pop_back();\n        pos.erase(key);\n        key2val.erase(key);\n    }\n\n    void insert(int key, int val){\n        keyList.push_front(key);\n        key2val[key] \u003d val;\n        pos[key] \u003d keyList.begin();\n    }\npublic:\n    LRUCache(int capacity) {\n        cap \u003d capacity;\n        keyList.clear();\n        pos.clear();\n        key2val.clear();\n    }\n\n    int get(int key) {\n        if(key2val.find(key) !\u003d key2val.end()){\n            move2front(key);\n            return key2val[key];\n        }\n        return FAIL;\n    }\n\n    void set(int key, int value) {\n        if(pos.find(key) !\u003d pos.end()){\n            move2front(key);\n            key2val[key] \u003d value;\n        } else {\n            if(keyList.size() \u003d\u003d cap)  evict();\n            insert(key, value);\n        }\n    }\n};\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["lru cache","leetcode"]}}