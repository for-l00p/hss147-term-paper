{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1476928903,"rating":0,"authorHandle":"dblokhin","modificationTimeSeconds":1476929181,"id":47887,"title":"\u003cp\u003eRu: DP, Where is my mistake?\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eВсем привет!\u003c/p\u003e\u003cp\u003eРешая задачу \u003ca href\u003d\"http://acm.timus.ru/problem.aspx?space\u003d1\u0026amp;num\u003d1353\"\u003eМиллиардная функция\u003c/a\u003e, никак не могу понять, в чем моя ошибка. Задача: найти количество чисел от \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e до \u003cspan class\u003d\"tex-span\"\u003e1\u003ci\u003ee\u003c/i\u003e10\u003c/span\u003e, сумма цифр которых равна \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e\u003c/span\u003e (\u003cspan class\u003d\"tex-span\"\u003e1 ≤ \u003ci\u003eS\u003c/i\u003e ≤ 81\u003c/span\u003e).\u003c/p\u003e\u003ch2\u003eРешение\u003c/h2\u003e\u003cp\u003e\u003cstrong\u003edp[s][l]\u003c/strong\u003e — количество чисел длиной \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/span\u003e, сумма цифр которых равна \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003es\u003c/i\u003e\u003c/span\u003e. Тогда \u003cstrong\u003edp(s, l) +\u003d dp(s — d, l — 1)\u003c/strong\u003e, где \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e — числа от \u003cspan class\u003d\"tex-span\"\u003e0..9\u003c/span\u003e. Заметим, что если \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e равно \u003cspan class\u003d\"tex-span\"\u003e0\u003c/span\u003e, то следует дополнительно прибавить к \u003cstrong\u003edp(s, l)\u003c/strong\u003e единицу, т.к. новая \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003es\u003c/i\u003e\u003c/span\u003e, равна предыдущей, следовательно это еще дополнительный способ получить указанную сумму \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003es\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eБаза \u003cstrong\u003edp[d][1] \u003d 1\u003c/strong\u003e, для всех \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e от \u003cspan class\u003d\"tex-span\"\u003e1..9\u003c/span\u003e. \u003cspan class\u003d\"tex-span\"\u003e0\u003c/span\u003e не используется, так как считать перестановки с ведущими нулями нет смысла.\u003c/p\u003e\u003cp\u003eТаким образом, решение такое:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e\tfor i :\u003d 1; i \u0026lt; 10 \u0026amp;\u0026amp; i \u0026lt;\u003d S; i++ {\n\t\tdp[i][1] \u003d 1\n\t}\n\n\tfor s :\u003d 1; s \u0026lt;\u003d S; s++ {\n\t\tfor l :\u003d 2; l \u0026lt;\u003d 9; l++ {\n\n\t\t\tfor d :\u003d 0; d \u0026lt; 10 \u0026amp;\u0026amp; s - d \u0026gt; 0; d++ {\n\t\t\t\tif dp[s - d][l - 1] \u003d\u003d 0 {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\tdp[s][l] +\u003d dp[s - d][l - 1]\n\n\t\t\t\tif d \u003d\u003d 0 {\n\t\t\t\t\tdp[s][l]++\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eОднако, это решение неправильное. Ошибка уже на 10 тесте, т.е. нужно \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e \u003d 10\u003c/span\u003e (выдает ответ \u003cspan class\u003d\"tex-span\"\u003e43756\u003c/span\u003e, что чуть больше чем правильный: \u003cspan class\u003d\"tex-span\"\u003e43749\u003c/span\u003e). Пытаясь вникнуть, никак не могу понять — в чем же ошибка? Ведь действительно, количество таких чисел равно \u003cstrong\u003edp[s][l] +\u003d dp[s — d][l — 1]\u003c/strong\u003e с указанными оговорками — с этим не поспоришь. Или что-то не так?\u003c/p\u003e\u003cp\u003eЯ знаю, что есть комбинаторное решение этой задачи, но сейчас я тренируюсь именно в ДП. Не подскажите, что я не увидел? Где моя ошибка?\u003c/p\u003e\u003cp\u003ePS: это мой первый пост, почему-то заголовок статьи по-русски плохо отображается \u0026quot;ДП: почему не работает\u0026quot;\u003c/p\u003e\u003c/div\u003e","tags":["дп","задача на дп"]}}