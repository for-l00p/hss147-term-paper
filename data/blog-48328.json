{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1478858296,"rating":-15,"authorHandle":"poomrokc","modificationTimeSeconds":1491935550,"id":48328,"title":"\u003cp\u003eNewbie\u0027s guide to Mysql Connector/C++ on Ubuntu Server(Mainly 14.04 , but should work on 12.04,12.10,15.04,15.10 as well )\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHi everyone , this is my first blog entry and it is about how to connect to Mysql with C++ language.\u003c/p\u003e\u003ch4\u003eMotivation of writing this guide\u003c/h4\u003e\u003cp\u003eLast three days are like nightmares to me , I try to install Mysql Connector/C++ on my Ubuntu14.04 server. Guides on Official Mysql site is somewhat very confusing and I think some part is wrong. So I\u0027d like to write this guide to whoever finds it difficult to install it and maybe for my future use in case I mess up my own server!!\u003c/p\u003e\u003ch4\u003e1.Installing LAMP stack if you don\u0027t already have one.\u003c/h4\u003e\u003cp\u003eYou should already have mysql installed if you read this guide , but in case you don\u0027t , Follow a nice guide \u003ca href\u003d\"https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-ubuntu-14-04\"\u003ehere\u003c/a\u003e. You can choose to only install mysql , but somehow I feel safer to install all of them.\u003c/p\u003e\u003ch4\u003e2.Install the Mysql Connector/C++\u003c/h4\u003e\u003cp\u003eAs I already say , You can follow the guide on Mysql Official site but some commands on that are wrong , so I finally choose to trust apt-get,so run this in TERMINAL:\u003c/p\u003e\u003cp\u003e\u003ccode\u003esudo apt-get update\u003c/code\u003e\u003c/p\u003e\u003cp\u003e\u003ccode\u003esudo apt-get install  libmysqlcppconn-dev\u003c/code\u003e\u003c/p\u003e\u003cp\u003eIf this complete successfully you should have the connector library installed.\u003c/p\u003e\u003ch4\u003eCompiling and testing standalone program\u003c/h4\u003e\u003cp\u003eConsider the following example code which only connect to the database.\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eExample Code\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;stdlib.h\u0026gt;\n#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;sstream\u0026gt;\n#include \u0026lt;stdexcept\u0026gt;\n#include \u0026quot;mysql_connection.h\u0026quot;\n#include \u0026lt;cppconn/driver.h\u0026gt;\n#include \u0026lt;cppconn/exception.h\u0026gt;\n#include \u0026lt;cppconn/resultset.h\u0026gt;\n#include \u0026lt;cppconn/statement.h\u0026gt;\n#include \u0026lt;cppconn/prepared_statement.h\u0026gt;\n#define EXAMPLE_HOST \u0026quot;localhost\u0026quot;\n#define EXAMPLE_USER \u0026quot;yourusername\u0026quot;\n#define EXAMPLE_PASS \u0026quot;yourpassword\u0026quot;\n#define EXAMPLE_DB \u0026quot;yourdatabase\u0026quot;\nusing namespace std;\nint main(int argc, const char **argv)\n{\n\tconst string url\u003dEXAMPLE_HOST;\n\tconst string user\u003dEXAMPLE_USER;\n\tconst string pass\u003dEXAMPLE_PASS;\n\tconst string database\u003dEXAMPLE_DB;\n\tsql::Driver* driver \u003d get_driver_instance();\n\tstd::auto_ptr\u0026lt;sql::Connection\u0026gt; con(driver-\u0026gt;connect(url, user, pass));\n\tcon-\u0026gt;setSchema(database);\n  \treturn 0;\n}\n\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eJust don\u0027t forget to change your host,user,pass,database Or you will get Runtime error. Save this code as tester.cpp.\u003c/p\u003e\u003cp\u003eWe will compile this code using \u003c/p\u003e\u003cp\u003e\u003ccode\u003esudo g++ -Wall -I/usr/include/cppconn -o testapp tester.cpp -L/usr/lib -lmysqlcppconn\u003c/code\u003e\u003c/p\u003e\u003cp\u003eWhich make executable name \u0027testapp\u0027.\u003c/p\u003e\u003cp\u003eFor the sake of simplicity , I created this bash script to make compiling easier:\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eBash Script\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#!/bin/bash\nsudo g++ -Wall -I/usr/include/cppconn -o $2 $1 -L/usr/lib -lmysqlcppconn\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eand save this as cp.sh , so next time you want to compile \u0027tester.cpp\u0027 in to executable \u0027testapp\u0027 just use\u003c/p\u003e\u003cp\u003e\u003ccode\u003e./cp.sh tester.cpp testapp\u003c/code\u003e\u003c/p\u003e\u003cp\u003eThen run your very first program by running\u003c/p\u003e\u003cp\u003e\u003ccode\u003e./testapp\u003c/code\u003e\u003c/p\u003e\u003cp\u003eIf your code perform successfully , nothing should be printed. If there are errors(exeption), just read and try to deal with it.\u003c/p\u003e\u003ch4\u003eSummary\u003c/h4\u003e\u003cp\u003eI\u0027m not a professional so if there are mistakes I\u0027m so sorry for it. I just want to help people that have the same problem using C++ with Mysql. For more example about the connector usage, I\u0027m afraid you must find it somewhere else because I\u0027m also studying and may not be able to provide you with the correct information. \u003c/p\u003e\u003cp\u003eThanks everybody for reading my post!\u003c/p\u003e\u003cp\u003eHappy Coding!!\u003c/p\u003e\u003cp\u003e\u003ca class\u003d\"rated-user user-blue\" href\u003d\"/profile/poomrokc\" title\u003d\"Expert poomrokc\"\u003epoomrokc\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e","tags":["c++","mysql","ubuntu"]}}