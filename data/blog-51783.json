{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1493588507,"rating":111,"authorHandle":"choice","modificationTimeSeconds":1493681656,"id":51783,"title":"\u003cp\u003eLagrange Multipliers for \u0026quot;Core Training\u0026quot; (Code Jam 2017, Round 1C)\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI found the following derivation using Lagrange multipliers for the solution of the \u003ca href\u003d\"https://code.google.com/codejam/contest/3274486/dashboard#s\u003dp2\u0026amp;a\u003d2\"\u003eCore Training\u003c/a\u003e problem in Code Jam this year. I liked this approach particularly because I don\u0027t get to use Lagrange multipliers very often in programming competitions.\u003c/p\u003e\u003cp\u003eLet \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/1c/d4/1cd4d0b5a182a244e0a240e101f810c729c3eb49.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e denote the initial vector of success probabilities that we are given, and let \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/9b/f7/9bf7f36d4a2473d98d1fd3f4ca5891d90de8b18c.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e be an arbitrary vector of success probabilities. Let \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/7f/96/7f962631d18199d08add237c751301b127b4bf4e.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e denote the probability of exactly \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e cores succeeding given the success probabilities in \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/a8/a3/a8a32ab89bff5f7b3058adf0d5dff23b9d9d4905.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e. Then we are trying to maximise\u003c/p\u003e \u003ccenter\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/dd/c4/ddc42ba5fcafeb69e6553122158561c9e80b01eb.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/center\u003e\u003cp\u003esubject to\u003c/p\u003e \u003ccenter\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/29/bd/29bd1de9ea8817ccf9e5c36a324b9e2beb506061.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/center\u003e\u003cp\u003eBy using the Lagrangian method, we get that an optimal solution must satisfy\u003c/p\u003e \u003ccenter\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/87/65/87659ecbfe924be51be6c6481e5a700bdfee4aa0.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/center\u003e\u003cp\u003eor it must be on the boundary (but we\u0027ll get to that later).\u003c/p\u003e\u003ch4\u003eLemma\u003c/h4\u003e \u003ccenter\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/21/a4/21a42b55c7c0b26e2f3c394418ee92e5f5daeaaa.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/center\u003e\u003cp\u003ewhere \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/ba/b4/bab46b4aa2265d8495da995d0505deedf98df874.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e is the vector of probabilities with \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e removed, i.e. \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e, \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e, ..., \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e - 1\u003c/sub\u003e, \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e + 1\u003c/sub\u003e, ..., \u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e)\u003c/span\u003e. That is, the partial derivative of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003c/span\u003e with respect to \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e is the probability that exactly \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e - 1\u003c/span\u003e of the cores succeed, not including core \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e itself.\u003c/p\u003e\u003ch4\u003eProof of Lemma\u003c/h4\u003e\u003cp\u003eThis is a somewhat well-known derivation, but I have included it for completeness. By expanding the terms,\u003c/p\u003e \u003ccenter\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/54/5a/545a4dc7b5f19783d13b423b46550ad3f30153e2.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/center\u003e\u003cp\u003ewhich simplifies to\u003c/p\u003e \u003ccenter\u003e\u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/a4/f2/a4f29a3efff0b5c9ef49172eb83fe649a1501fce.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/center\u003e\u003cp\u003e(End proof.)\u003c/p\u003e\u003cp\u003eIn order to have \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/07/e2/07e206f70acd3568604031047025d3dff2630b11.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e, then the most obvious thing to do is to set all the \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e equal to each other. However this is not possible, since we cannot reduce \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e below \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e0\u003c/sup\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e. By taking into account boundary conditions, this then gives us three choices for each core \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e:\u003c/p\u003e \u003col\u003e   \u003cli\u003eWe leave \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e at its initial value \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e0\u003c/sup\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eWe increase \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e to \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eWe try to equalise \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e with the some other \u003cspan class\u003d\"tex-span\"\u003e{\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e}\u003c/span\u003e that are not on the boundary.\u003c/li\u003e \u003c/ol\u003e\u003cp\u003eThis observation is sufficient to restrict the solution space to the point where we can search over it. (Well, we still need to make some efficiency arguments, like \u0026quot;only increase \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e up to 1 if it is already big\u0026quot;, and \u0026quot;only try to equalize \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e\u0027s that are close to each other\u0026quot;, etc..., but you get the idea.)\u003c/p\u003e\u003c/div\u003e","tags":["gcj","lagrange"]}}