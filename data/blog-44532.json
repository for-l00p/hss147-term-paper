{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1461513928,"rating":8,"authorHandle":"I_Love_Julia","modificationTimeSeconds":1461514059,"id":44532,"title":"\u003cp\u003eУдаление произвольного элемента из кучи\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eПривет CodeForces! Решаю простую задачу на реализацию кучи(приоритетной очереди). Условие \u003ca href\u003d\"http://informatics.mccme.ru/file.php/18/bin_heap_ig-091022.pdf\"\u003eздесь\u003c/a\u003e(страница 12, задача 5). Если коротко то мы должны обработать m запросов, каждый запрос может быть трех типов:\u003c/p\u003e\u003cp\u003e1 — извлечь максимальный элемент, вывести его и вывести позицию последнего элемента после просеивания\u003c/p\u003e\u003cp\u003e2 — добавить элемент, вывести его индекс после просеивания\u003c/p\u003e\u003cp\u003e3 — удалить элемент с индексом и вывести сам элемент\u003c/p\u003e\u003cp\u003eЕсли мы не можем выполнить какую-то операцию надо выводить -1. После выполнения запросов нужно вывести массив в котором хранится куча. До этого я решал такую же задачу где нужно было обрабатывать только запросы 1, 2 и она прошла. Добавил удаление произвольного элемента и не проходит. Я использую такой алгоритм удаления произвольного элемента: ставлю на место этого элемента последний элемент и выполняю sift_up(i) и sift_down(i), где i — индекс удаляемого элемента. Вроде должно работать, но на многих тестах WA. Вот \u003ca href\u003d\"http://ideone.com/3tGmeA\"\u003eкод\u003c/a\u003e. Мне кажется алгоритм правильный и у меня есть подозрения что ошибка в коде. Помогите найти ошибку.\u003c/p\u003e\u003c/div\u003e","tags":[]}}