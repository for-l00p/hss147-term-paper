{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1469845603,"rating":0,"authorHandle":"I_love_Hoang_Yen","modificationTimeSeconds":1469888080,"id":46337,"title":"\u003cp\u003eSP Training 4 — Solutions\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003ca href\u003d\"https://github.com/ngthanhtrung23/SP2016/tree/master/T4\"\u003eCode\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"https://docs.google.com/presentation/d/1TtRavlmiqaCgbuwNFrRqWlMFWpakpTb7fZS_1_4V-24/edit#slide\u003did.g160388d093_0_50\"\u003eSlide\u003c/a\u003e\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"https://www.youtube.com/watch?v\u003dcOANDkvC-NE\"\u003eVideo\u003c/a\u003e\u003c/p\u003e\u003ch1\u003e[problem:208108A]\u003c/h1\u003e\u003ch2\u003eSinh số nguyên tố\u003c/h2\u003e\u003cp\u003eSố số nguyên tố nhỏ hơn hoặc bằng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e / \u003ci\u003elog\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e))\u003c/span\u003e, nên để sinh được 50k số nguyên tố, thì ta cần xét đến tầm 1 triệu (có thể kiểm chứng cận trên chính xác bằng code). Dễ dàng sinh được các số nguyên tố cần thiết bằng sàng.\u003c/p\u003e\u003ch2\u003eXóa tối ưu\u003c/h2\u003e\u003cp\u003eThay vì nghĩ là ta cần xóa \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/span\u003e chữ số, hãy nghĩ là ta cần giữ lại \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - \u003ci\u003eK\u003c/i\u003e\u003c/span\u003e chữ số.\u003c/p\u003e\u003cp\u003eGiờ giả sử ta có số \u003cspan class\u003d\"tex-span\"\u003e91435\u003c/span\u003e và ta cần giữ lại 2 chữ số, rõ ràng ta sẽ giữ lại số \u003cspan class\u003d\"tex-span\"\u003e95\u003c/span\u003e. Tại sao? Rõ ràng số lớn nhất nếu chữ số đầu tiên lớn nhất, nên ta giữ lại 9. Ta luôn giữ lại chữ số to nhất có thể, sao cho nếu giữ lại chữ số đó thì ta vẫn đủ chữ số. Ví dụ khác: \u003cspan class\u003d\"tex-span\"\u003e11199\u003c/span\u003e và cần giữ lại 3 chữ số --\u0026gt; không thể để chữ số đầu tiên là 9, vì như thế thì sẽ không có đủ 3 chữ số.\u003c/p\u003e\u003cp\u003eDo đó, cách làm là: đi từ trái sang phải, chọn chữ số lớn nhất để giữ lại sao cho vẫn còn đủ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e\u003c/span\u003e chữ số cần giữ lại. Ví dụ:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eChữ số đầu tiên giữ lại là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(\u003ci\u003eA\u003c/i\u003e1..\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e - \u003ci\u003eX\u003c/i\u003e + 1)\u003c/span\u003e. Đặt chỉ số của nó là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e1\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eChữ số thứ 2 giữ lại là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(\u003ci\u003eA\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e1)..\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e - \u003ci\u003eX\u003c/i\u003e + 2)\u003c/span\u003e. ...\u003c/li\u003e \u003c/ul\u003e\u003ch2\u003eTìm số lớn nhất\u003c/h2\u003e\u003cp\u003eChú ý ở bài này, ta chỉ cần tìm max của các đoạn \u0026quot;tăng dần\u0026quot;: Cả đầu trái và đầu phải của các đoạn đều tăng dần.\u003c/p\u003e \u003cul\u003e   \u003cli\u003eCách 1: IT\u003c/li\u003e   \u003cli\u003eCách 2: Heap: Xóa, thêm, tìm max\u003c/li\u003e   \u003cli\u003eCách 3: Deque: Duy trì các \u0026quot;candidate\u0026quot;.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eXét các điểm (i, Ai). Với 2 cặp (i, Ai) và (j, Aj). Nếu (i \u0026lt; j) và (Ai \u0026lt; Aj) thì điểm i luôn không tốt bằng điểm j. Do đó trong deque, ta chỉ cần duy trì các điểm có i tăng dần và Ai giảm dần.\u003c/p\u003e\u003cp\u003eSau khi trả lời truy vấn [l1, r1], và tiếp theo cần trả lời truy vấn [l2, r2]: ta xóa các điểm từ l1 đến l2-1 và thêm vào các điểm từ r1+1 đến r2.\u003c/p\u003e\u003ch1\u003e[problem:208108B]\u003c/h1\u003e\u003cp\u003e\u003cimg alt\u003d\" \" src\u003d\"/predownloaded/de/a7/dea72300a0707a8d798621f40ce858b707b7125a.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003eXét hình vẽ trên. Ta cần tô màu bảng thành các màu như hình vẽ:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eLớp 1 (ngoài cùng) màu trắng\u003c/li\u003e   \u003cli\u003eLớp 2 màu xanh lá\u003c/li\u003e   \u003cli\u003eLớp 3 màu vàng\u003c/li\u003e   \u003cli\u003eLớp 4 màu xanh da trời\u003c/li\u003e   \u003cli\u003e...\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eDễ thấy đây chính là bài toán loang theo lớp. Để code đơn giản thì đặt trọng số các ô \u0026quot;o\u0026quot; là 1 và trọng số các ô còn lại là 0. Ta chỉ cần BFS 0/1 để cài đặt.\u003c/p\u003e\u003ch1\u003e[problem:208108C]\u003c/h1\u003e\u003ch2\u003ePhân tích\u003c/h2\u003e\u003cp\u003eĐiều kiện xâu kỳ diệu trong đề bài tương đương với: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e] \u003d \u003ci\u003eS\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e + \u003ci\u003eM\u003c/i\u003e]\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eChứng minh: Xét 2 trường hợp:\u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e lớn hơn \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e / 2\u003c/span\u003e\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e nhỏ hơn \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e / 2\u003c/span\u003e\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eChứng minh bám theo định nghĩa trong đề bài, suy ra \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e] \u003d \u003ci\u003eS\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e + \u003ci\u003eM\u003c/i\u003e]\u003c/span\u003e.\u003c/p\u003e\u003ch2\u003eCách làm\u003c/h2\u003e\u003cp\u003eKhi \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e nhỏ thì \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e / \u003ci\u003eM\u003c/i\u003e\u003c/span\u003e to. Khi \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e / \u003ci\u003eM\u003c/i\u003e\u003c/span\u003e nhỏ thì \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e to. Nói tóm lại là luôn có 1 cái nhỏ. Đây chính là mấu chốt để làm bài này: mỗi trường hợp \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e nhỏ hoặc \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e / \u003ci\u003eM\u003c/i\u003e\u003c/span\u003e nhỏ ta làm theo 1 cách khác nhau.\u003c/p\u003e\u003cp\u003eXét riêng 2 trường hợp: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e ≤ 17\u003c/span\u003e và \u003cspan class\u003d\"tex-span\"\u003e17 \u0026lt; \u003ci\u003eM\u003c/i\u003e\u003c/span\u003e. \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/7c/89/7c89f03d34430f97279d6b6204ead5515490bade.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e.\u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e ≤ 17\u003c/span\u003e: duyệt \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e ký tự đầu. Với mỗi nhóm \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e * \u003ci\u003eM\u003c/i\u003e\u003c/span\u003e ký tự, ta phải đổi nó thành toàn 0 hoặc toàn 1. Từ đó quy hoạch động được: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, 0)\u003c/span\u003e là chi phí nhỏ nhất để đổi \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e nhóm đầu tiên về toàn 0, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, 1)\u003c/span\u003e là chi phí nhỏ nhất để đổi \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e nhóm đầu về toàn 1.\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e17 \u0026lt; \u003ci\u003eM\u003c/i\u003e\u003c/span\u003e: có không quá 17 nhóm. Duyệt các phép lật \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e * \u003ci\u003eM\u003c/i\u003e\u003c/span\u003e bit. Sau đó ta chỉ còn có thể lật từng bit một. Từ đó dễ dàng tham để tìm kết quả.\u003c/li\u003e \u003c/ul\u003e\u003c/div\u003e","tags":[]}}