{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1438629808,"rating":19,"authorHandle":"HongQiGong","modificationTimeSeconds":1438655962,"id":19572,"title":"\u003cp\u003eWhich approach for \u0026quot;longest valid sequence in range\u0026quot; query ?\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHi all,\u003c/p\u003e\u003cp\u003eI have been struggling with this problem for a long time, that would be really helpful if you could give me some hints :)\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eGiven an array A of N elements integer number. N can be up to 200000. Each element A[i] ranges from -1e9 to 1e9, no element equals to Zero (0). We define a \u0026quot;valid\u0026quot; sequence such that\u003c/strong\u003e \u003ccode\u003e1. {x, -x} is valid sequence.\u003c/code\u003e \u003ccode\u003e2. {x, S, -x} is valid sequence if S is a valid sequence.\u003c/code\u003e \u003ccode\u003e3. {S1, S2} is valid sequence if S1, S2 are both valid sequences.\u003c/code\u003e\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eThere are M queries, M can be up to 200000. Each query asks you to find the longest valid sequence in range [L, R] with 1 \u0026lt;\u003d L \u0026lt;\u003d R \u0026lt;\u003d N.\u003c/strong\u003e\u003c/p\u003e\u003cp\u003eLink to the problem: \u003ca href\u003d\"http://vn.spoj.com/VM14/problems/VMLSEQ/\"\u003ehttp://vn.spoj.com/VM14/problems/VMLSEQ/\u003c/a\u003e (Vietnamese, my friend told me the contest is over so submission is not allowed anymore, but I think it\u0027s still very interesting/hard problem for discussion)\u003c/p\u003e\u003cp\u003eI came up with a hashing — based method to compute the \u0026quot;nearest\u0026quot; index j for each index i so that sequence [i, j] is valid, but I couldn\u0027t go any further. I thought the solution could be some kinds of merging — technique with two consecutive ranges in Interval tree (suffix — prefix), but so far I have no efficient method for that :(\u003c/p\u003e\u003c/div\u003e","tags":[]}}