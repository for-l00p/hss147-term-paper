{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1498705652,"rating":24,"authorHandle":"Findstr","modificationTimeSeconds":1498708317,"id":52971,"title":"\u003cp\u003eA mathematical approach to solve 819A\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003ca href\u003d\"/contest/819/submission/28130848\" title\u003d\"Submission 28130848 by Findstr\"\u003e28130848\u003c/a\u003e\u003c/p\u003e\u003cp\u003eFirstly, we should divide the resulting string into pieces of length \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + \u003ci\u003eb\u003c/i\u003e\u003c/span\u003e. Then let\u0027s define four numbers: pl, pr, cl, cr.\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epl\u003c/i\u003e \u003d (\u003ci\u003el\u003c/i\u003e - 1) \u003ci\u003emod\u003c/i\u003e (\u003ci\u003ea\u003c/i\u003e + \u003ci\u003eb\u003c/i\u003e)\u003c/span\u003e. It refers to the position of l in its piece.\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epr\u003c/i\u003e \u003d (\u003ci\u003er\u003c/i\u003e - 1) \u003ci\u003emod\u003c/i\u003e (\u003ci\u003ea\u003c/i\u003e + \u003ci\u003eb\u003c/i\u003e)\u003c/span\u003e. It refers to the position of r in its piece.\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecl\u003c/i\u003e \u003d ⌊(\u003ci\u003el\u003c/i\u003e - 1) / (\u003ci\u003ea\u003c/i\u003e + \u003ci\u003eb\u003c/i\u003e)⌋\u003c/span\u003e. It refers to the number of the piece which l is in.\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e \u003d ⌊(\u003ci\u003er\u003c/i\u003e - 1) / (\u003ci\u003ea\u003c/i\u003e + \u003ci\u003eb\u003c/i\u003e)⌋\u003c/span\u003e. It refers to the number of the piece which r is in.\u003c/p\u003e\u003ch2\u003e1. \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e ≥ \u003ci\u003ea\u003c/i\u003e\u003c/span\u003e\u003c/h2\u003e\u003ch3\u003eCase 1: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e - \u003ci\u003ecl\u003c/i\u003e \u0026gt; 1\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eThe range covers an entire piece, so there are at least \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e distinctive characters in that piece. According to the problem description, these \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e characters must be different from previous characters, so the answer is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + 1\u003c/span\u003e. The answer can be achieved by repeating the last character of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003ch3\u003eCase 2: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e - \u003ci\u003ecl\u003c/i\u003e \u003d 1\u003c/span\u003e\u003c/h3\u003e\u003cp\u003el and r are in the adjacent piece, so there are at least \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emin\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e + 1, \u003ci\u003ea\u003c/i\u003e)\u003c/span\u003e distinctive characters in the right piece. We can calculate how many distinctive characters are in the left piece: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(1, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e)\u003c/span\u003e. It is at least 1 because characters in the right piece must be different from the last characters in the left. If \u003cspan class\u003d\"tex-span\"\u003e[\u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e]\u003c/span\u003e expands to the first \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e character of the left part, we shouldn\u0027t use characters other than them in our \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eB\u003c/i\u003e\u003c/span\u003e part, because it cannot make the answer better. I mean, if we want some existed characters to appear in the right piece instead of new ones, (e.g. a\u003d2, b\u003d3, bc???bc) we have to write new ones down so the computer won\u0027t choose them. Obviously, writing down new ones actually doesn\u0027t change the answer. Because of this conclusion, in the following cases we think about the computer\u0027s choice first as we cannot \u0026quot;urge\u0026quot; it to write down a certain character to make answer better. So the answer is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emin\u003c/i\u003e(\u003ci\u003ea\u003c/i\u003e, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e + 1, \u003ci\u003ea\u003c/i\u003e) + \u003ci\u003emax\u003c/i\u003e(1, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e))\u003c/span\u003e. Attention: when \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epr\u003c/i\u003e + 1 ≥ \u003ci\u003ea\u003c/i\u003e\u003c/span\u003e, answer should be \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + 1\u003c/span\u003e, like the previous case that \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e - \u003ci\u003ecl\u003c/i\u003e \u0026gt; 1\u003c/span\u003e.\u003c/p\u003e\u003ch3\u003eCase 3: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e \u003d \u003ci\u003ecl\u003c/i\u003e\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eThe answer is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emin\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e + 1, \u003ci\u003emax\u003c/i\u003e(1, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e))\u003c/span\u003e when we repeat the last character. It cannot be smaller.\u003c/p\u003e\u003ch2\u003e2. \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e \u0026lt; \u003ci\u003ea\u003c/i\u003e\u003c/span\u003e\u003c/h2\u003e\u003cp\u003eLet \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e \u003d \u003ci\u003ea\u003c/i\u003e - \u003ci\u003eb\u003c/i\u003e\u003c/span\u003e, and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e denotes the last \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e characters in part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003ch3\u003eCase 1: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e - \u003ci\u003ecl\u003c/i\u003e \u0026gt; 2\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eThe range covers two entire pieces. We only consider \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e characters the computer adds. Because the first \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e characters in the next piece cannot be the same as the last \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e characters in part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e of current piece, the answer is at least \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + \u003ci\u003em\u003c/i\u003e\u003c/span\u003e. The length of cycle is 2 pieces. To achieve the answer, we simply repeat the last character of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e. The answer is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + \u003ci\u003em\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003ch3\u003eCase 2: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e - \u003ci\u003ecl\u003c/i\u003e \u003d 2\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eThe range covers one entire piece, so the answer is at least \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003c/span\u003e. Also, we only consider part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e. The first \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e\u003c/span\u003e characters are always the same in every part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e. As for the rightmost part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e, there are \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e + 1 - \u003ci\u003ea\u003c/i\u003e + \u003ci\u003em\u003c/i\u003e, 0)\u003c/span\u003e characters. As for the leftmost, there are \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(0, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e)\u003c/span\u003e. And if their sum is larger than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e, they must intersect each other, and there are at most \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e distinctive characters. So the answer is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + \u003ci\u003emax\u003c/i\u003e(1, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003em\u003c/i\u003e, \u003ci\u003emax\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e + 1 - \u003ci\u003ea\u003c/i\u003e + \u003ci\u003em\u003c/i\u003e, 0) + \u003ci\u003emax\u003c/i\u003e(0, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e)))\u003c/span\u003e. If no other part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e is included in range \u003cspan class\u003d\"tex-span\"\u003e[\u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e]\u003c/span\u003e, the answer should be \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + 1\u003c/span\u003e as proved in 1.1. Attention: if \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epl\u003c/i\u003e ≥ \u003ci\u003ea\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epr\u003c/i\u003e ≥ \u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e\u003c/span\u003e, which means the leftmost \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e part is not included, but the rightmost one is, we should repeat the last character of the rightmost \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e in part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecl\u003c/i\u003e\u003c/span\u003e. Otherwise, we simply repeat the last character of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e. Under these circumstances, the expression is the same: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e + \u003ci\u003emax\u003c/i\u003e(1, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003em\u003c/i\u003e, \u003ci\u003emax\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e + 1 - \u003ci\u003ea\u003c/i\u003e + \u003ci\u003em\u003c/i\u003e, 0) + \u003ci\u003emax\u003c/i\u003e(0, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e)))\u003c/span\u003e.\u003c/p\u003e\u003ch3\u003eCase 3: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecr\u003c/i\u003e - \u003ci\u003ecl\u003c/i\u003e \u003d 1\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eFirst we should calculate the number of same characters in every part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003c/span\u003e-\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e, it is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emin\u003c/i\u003e(\u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e + 1, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e) + \u003ci\u003emax\u003c/i\u003e(0, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e))\u003c/span\u003e (there are at most \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e\u003c/span\u003e characters). Then we consider every part \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e. On the leftmost \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e, there are \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(1, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003em\u003c/i\u003e, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e))\u003c/span\u003e (at least 1 because we have to fill at least one kind of character). On the rightmost \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eM\u003c/i\u003e\u003c/span\u003e, there are \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(0, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003em\u003c/i\u003e, \u003ci\u003epr\u003c/i\u003e + 1 - \u003ci\u003ea\u003c/i\u003e + \u003ci\u003em\u003c/i\u003e))\u003c/span\u003e. So the total answer is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(1, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003em\u003c/i\u003e, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e)) + \u003ci\u003emin\u003c/i\u003e(\u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003epr\u003c/i\u003e + 1, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e) + \u003ci\u003emax\u003c/i\u003e(0, \u003ci\u003ea\u003c/i\u003e - \u003ci\u003em\u003c/i\u003e - \u003ci\u003epl\u003c/i\u003e)) + \u003ci\u003emax\u003c/i\u003e(0, \u003ci\u003emin\u003c/i\u003e(\u003ci\u003em\u003c/i\u003e, \u003ci\u003epr\u003c/i\u003e + 1 - \u003ci\u003ea\u003c/i\u003e + \u003ci\u003em\u003c/i\u003e))\u003c/span\u003e\u003c/p\u003e\u003ch3\u003eCase 4: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecl\u003c/i\u003e \u003d \u003ci\u003ecr\u003c/i\u003e\u003c/span\u003e\u003c/h3\u003e\u003cp\u003eThe same as 1.3.\u003c/p\u003e\u003cp\u003eEDIT: Thanks to \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/Tima\" title\u003d\"Grandmaster Tima\"\u003eTima\u003c/a\u003e, Case 2.3 is fixed. Previous version is wrong.\u003c/p\u003e\u003c/div\u003e","tags":["math"]}}