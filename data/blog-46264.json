{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1469453922,"rating":-1,"authorHandle":"rachitjain","modificationTimeSeconds":1469453922,"id":46264,"title":"\u003cp\u003e[Help] Doubt in combination problem\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003ca href\u003d\"//codeforces.com/blog/entry/43227\"\u003eEditorial Link\u003c/a\u003e\u003cbr /\u003e\u003ca href\u003d\"//codeforces.com/problemset/problem/629/C\"\u003eProblem C. Family Door and Brackets\u003c/a\u003e\u003cbr /\u003e\u003cstrong\u003eShort Intro of Problem:\u003c/strong\u003e We are given a string \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eB\u003c/i\u003e\u003c/span\u003e consisting of \u003cspan class\u003d\"tex-span\"\u003e(\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e)\u003c/span\u003e. We need to find pairs of strings \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003eA\u003c/i\u003e, \u003ci\u003eC\u003c/i\u003e)\u003c/span\u003e such that \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e + \u003ci\u003eB\u003c/i\u003e + \u003ci\u003eC\u003c/i\u003e\u003c/span\u003e becomes valid string. A valid string is one which is balanced i.e no of opening and closing brackets is same and also for no position, the prefix sum of number of \u0027\u003cspan class\u003d\"tex-span\"\u003e(\u003c/span\u003e\u0027 \u003cspan class\u003d\"tex-span\"\u003e \u0026gt; \u003c/span\u003e \u0027\u003cspan class\u003d\"tex-span\"\u003e)\u003c/span\u003e\u0027.\u003cbr /\u003eLet \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e[\u003ci\u003elen\u003c/i\u003e][\u003ci\u003eextra\u003c/i\u003e]\u003c/span\u003e be the ways of arranging brackets such that the resultant length is \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003elen\u003c/i\u003e\u003c/span\u003e and no of  \u0027\u003cspan class\u003d\"tex-span\"\u003e(\u003c/span\u003e\u0027   is greater than no of \u0027\u003cspan class\u003d\"tex-span\"\u003e)\u003c/span\u003e\u0027  .\u003cbr /\u003eClearly \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e[\u003ci\u003elen\u003c/i\u003e][\u003ci\u003eextra\u003c/i\u003e] \u003d \u003ci\u003edp\u003c/i\u003e[\u003ci\u003elen\u003c/i\u003e - 1][\u003ci\u003eextra\u003c/i\u003e + 1] + \u003ci\u003edp\u003c/i\u003e[\u003ci\u003elen\u003c/i\u003e - 1][\u003ci\u003eextra\u003c/i\u003e - 1]\u003c/span\u003e as we can either place \u0027\u003cspan class\u003d\"tex-span\"\u003e)\u003c/span\u003e\u0027 or \u0027\u003cspan class\u003d\"tex-span\"\u003e(\u003c/span\u003e\u0027 at \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003elen\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eth\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e position.\u003cbr /\u003eIf \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eextra\u003c/i\u003e \u003d 0\u003c/span\u003e, then we can\u0027t place \u0027\u003cspan class\u003d\"tex-span\"\u003e(\u003c/span\u003e\u0027 at end so thats the edge case that we handle.\u003cbr /\u003eIn the solution, as we select \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ec\u003c/i\u003e\u003c/span\u003e length of prefix with \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ed\u003c/i\u003e\u003c/span\u003e balance, we now need to add suffix of length \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003em\u003c/i\u003e - \u003ci\u003en\u003c/i\u003e - \u003ci\u003ec\u003c/i\u003e)\u003c/span\u003e with balance \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003ed\u003c/i\u003e + \u003ci\u003eb\u003c/i\u003e)\u003c/span\u003e, where \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eb\u003c/i\u003e\u003c/span\u003e is balance of main input string.\u003cbr /\u003eBut as we add suffix, this balance is opposite in nature. Earlier \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e][\u003ci\u003ej\u003c/i\u003e]\u003c/span\u003e meant length \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e \u003cstrong\u003eextra\u003c/strong\u003e opening brackets. Now while adding suffix, we need \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e2[\u003ci\u003ei\u003c/i\u003e][\u003ci\u003ej\u003c/i\u003e]\u003c/span\u003e which represents length \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e, and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e \u003cstrong\u003eless\u003c/strong\u003e opening brackets. Moreover, we have to consider only those ways where the number of closing brackets must never exceed \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e midway otherwise that would make the overall prefix balance negative and thus we will miscount.\u003cbr /\u003eThe editorial doesn\u0027t proves how \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e[\u003ci\u003ei\u003c/i\u003e][\u003ci\u003ej\u003c/i\u003e] \u003d \u003ci\u003edp\u003c/i\u003e2[\u003ci\u003ei\u003c/i\u003e][\u003ci\u003ej\u003c/i\u003e]\u003c/span\u003e. Can someone help?\u003cbr /\u003eIf the above statement was not clear, see the following example:\u003cbr /\u003eConsider \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e2[4][2].\u003c/span\u003e This should \u003cstrong\u003enot\u003c/strong\u003e contain the follwing sequence: \u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e)))(\u003c/span\u003e, Reason -\u0026gt; Though overall balance is \u003cspan class\u003d\"tex-span\"\u003e2\u003c/span\u003e, there exists a balance of \u003cspan class\u003d\"tex-span\"\u003e3( \u0026gt; 2)\u003c/span\u003e\u003cbr /\u003eSo if we have added \u003cspan class\u003d\"tex-span\"\u003e2\u003c/span\u003e extra opening brackets and plan to use the above sequence as a suffix thinking it gives a balance of \u003cspan class\u003d\"tex-span\"\u003e2\u003c/span\u003e for nullification, it will make the prefix balance \u003cspan class\u003d\"tex-span\"\u003e \u0026lt; 0\u003c/span\u003e at some position and thus it should not be counted in \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003edp\u003c/i\u003e2[4][2]\u003c/span\u003e\u003c/li\u003e \u003c/ul\u003e\u003c/div\u003e","tags":[]}}