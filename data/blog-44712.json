{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1462434622,"rating":-3,"authorHandle":"Gany_Oahnauhz","modificationTimeSeconds":1462464232,"id":44712,"title":"\u003cp\u003eHelp needed on a dp problem about probability and expectation\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eThe problem is like this: You are on the origin of a number axis, each time, you can move forward, backward or stay with probability \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ef\u003c/i\u003e\u003c/sub\u003e, \u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003eb\u003c/i\u003e\u003c/sub\u003e, \u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003es\u003c/i\u003e\u003c/sub\u003e \u003d 1 - \u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ef\u003c/i\u003e\u003c/sub\u003e + \u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003es\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e respectively, i.e., if you are on \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/span\u003e now, the next step you can move to \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e + 1\u003c/span\u003e with probability of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ef\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e and etc. And the question is: after n steps, what\u0027s the mathematical expectation of the maximal number you have reached.\u003c/p\u003e\u003cp\u003eHere\u0027s an example when \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e \u003d 2, \u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ef\u003c/i\u003e\u003c/sub\u003e \u003d 0.25, \u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003eb\u003c/i\u003e\u003c/sub\u003e \u003d 0.25, \u003ci\u003eP\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003es\u003c/i\u003e\u003c/sub\u003e \u003d 0.5\u003c/span\u003e:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003emaximal number: 1\nfs: 0.25*0.5 \u003d 0.125\nsf: 0.5*0.25 \u003d 0.125\nfb: 0.25*0.25 \u003d 0.0625 (since you have arrived at number 1, even if you go back, you will have maximal number 1)\n\u003c/code\u003e\u003c/pre\u003e \u003cpre\u003e\u003ccode\u003emaximal number: 2\nff: 0.25*0.25 \u003d 0.0625\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003esince you are on the origin, all other path will have maximal number equal to 0\u003c/p\u003e\u003cp\u003eThus the expectation is: 1*(0.125+0.125+0.0625)+2*0.0625\u003d0.4375\u003c/p\u003e\u003cp\u003eThere is a dp solution on the problem, but I just can\u0027t quite figure out why:\u003c/p\u003e\u003cp\u003eUPD： Sorry for the lack of constraint: n \u0026lt;\u003d 2000, 1s, 256MB\u003c/p\u003e\u003cp\u003eAnd the solution is like this:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e// let f, b be the probability P_f, P_b described above, then, P_s \u003d 1 - f - b;\ndouble dp[2010][2010];\ndp[0][0] \u003d 1.0;\n\ndouble ans \u003d 0;\n\nfor(int i \u003d 0; i \u0026lt; n; i++) {\n  ans +\u003d f * dp[i][0];\n  for(int j \u003d 0; j \u0026lt;\u003d i; j++) {\n    dp[i + 1][max(j - 1, 0)] +\u003d dp[i][j] * f;\n    dp[i + 1][j] +\u003d dp[i][j] * (1 - f - b);\n    dp[i + 1][j + 1] +\u003d dp[i][j] * b;\n  }\n}\n\ncout\u0026lt;\u0026lt;ans\u0026lt;\u0026lt;endl;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}