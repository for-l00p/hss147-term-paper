{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1434610738,"rating":0,"authorHandle":"dima.13","modificationTimeSeconds":1434619614,"id":18685,"title":"\u003cp\u003eQsort (быстрая сортировка)\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eНа C++:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\n\nconst int N \u003d 1e5 + 1;\nint a[N];\n\nvoid Qsort(int *a, int l, int r) {\n    int i \u003d l, j \u003d r, x \u003d a[rand() % (r - l + 1) + l];\n    do {\n        while (a[i] \u0026lt; x) i++;\n        while (x \u0026lt; a[j]) j--;\n        if (i \u0026lt;\u003d j) {\n            if (a[i] \u0026gt; a[j]) swap(a[i], a[j]);\n            i++, j--;\n        }\n    } while (i \u0026lt; j);\n    if (l \u0026lt; j) Qsort(a, l, j);\n    if (i \u0026lt; r) Qsort(a, i, r);\n}\n\nint main() {\n    srand(time(NULL));\n\n    int n;\n    scanf(\u0026quot;%d\u0026quot;, \u0026amp;n);\n\n    for (int i \u003d 0; i \u0026lt; n; i++) {\n        scanf(\u0026quot;%d\u0026quot;, \u0026amp;a[i]);\n    }\n    Qsort(a, 0, n - 1);\n\n    for (int i \u003d 0; i \u0026lt; n; i++) {\n        printf(\u0026quot;%d \u0026quot;, a[i]);\n    }\n    printf(\u0026quot;\\n\u0026quot;);\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eНа Pascal:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003econst MAX \u003d 100000;\n\ntype\n    list \u003d array[1..MAX] of longint;\n\nprocedure swap(var a, b : longint);\nvar\n    t : longint;\nbegin\n    t :\u003d a;\n    a :\u003d b;\n    b :\u003d t;\nend;\n\nprocedure Qsort(var a : list; l, r : longint);\n    procedure sort(l, r : longint);\n    var\n        i, j, x: integer;\n    begin\n        i :\u003d l; j :\u003d r; x :\u003d a[random(r - l + 1) + l];\n        repeat\n            while a[i] \u0026lt; x do inc(i);\n            while x \u0026lt; a[j] do dec(j);\n            if i \u0026lt;\u003d j then\n            begin\n                if a[i] \u0026gt; a[j] then\n                    swap(a[i], a[j]);\n                inc(i);\n                dec(j);\n            end;\n        until i\u0026gt;\u003dj;\n\n        if l \u0026lt; j then sort(l, j);\n        if i \u0026lt; r then sort(i, r);\n    end;\n\n    begin\n        randomize;\n        sort(l, r);\n    end;\n\nvar\n    n, i : longint;\n    a : list;\n\nbegin\n    read(n);\n    for i :\u003d 1 to n do\n        read(a[i]);\n    Qsort(a, 1, n);\n    for i :\u003d 1 to n do\n        write(a[i], \u0027 \u0027);\nend.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}