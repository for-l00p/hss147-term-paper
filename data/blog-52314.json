{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1496323828,"rating":7,"authorHandle":"g1n0st","modificationTimeSeconds":1496490426,"id":52314,"title":"\u003cp\u003e811E solution(Segment tree)\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003ca href\u003d\"/contest/811/problem/E\" title\u003d\"Codeforces Round 416 (Div. 2)\"\u003e811E - Владик и занимательные флаги\u003c/a\u003e\u003c/p\u003e\u003cp\u003eThis is 811E\u0027s solution by g1n0st\u003c/p\u003e\u003cp\u003eIn the contest I didn\u0027t pass this problem because I\u0027m very rubbish.\u003c/p\u003e\u003cp\u003eAfter reading the question, I thought it is very difficult at first. And then I found:\u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e only in range of \u003cspan class\u003d\"tex-span\"\u003e10\u003c/span\u003e\u003c/p\u003e\u003c/li\u003e   \u003cli\u003e\u003cp\u003eEvery matrices of requests are from \u003cspan class\u003d\"tex-span\"\u003e[1, \u003ci\u003el\u003c/i\u003e]\u003c/span\u003e to \u003cspan class\u003d\"tex-span\"\u003e[\u003ci\u003er\u003c/i\u003e, \u003ci\u003en\u003c/i\u003e]\u003c/span\u003e\u003c/p\u003e\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eSo it means, if we use Segment tree to maintain the main matrix \u003cspan class\u003d\"tex-span\"\u003e(1, 1, \u003ci\u003en\u003c/i\u003e, \u003ci\u003em\u003c/i\u003e)\u003c/span\u003e , we needn\u0027t usd two dimension Segment tree but common. For every nodes \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e)\u003c/span\u003e on the tree we define two arrayes L \u003cspan class\u003d\"tex-span\"\u003e[1, \u003ci\u003en\u003c/i\u003e]\u003c/span\u003e and R \u003cspan class\u003d\"tex-span\"\u003e[1..\u003ci\u003en\u003c/i\u003e]\u003c/span\u003e describing the situations of the sequence\u0027s beginning and ending, and a integer number to record sequence\u0027s value, then we can use union-find sets to maintain two sequences.\u003c/p\u003e\u003cp\u003eIt works in \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eMlogM\u003c/i\u003e * \u003ci\u003eN\u003c/i\u003e)\u003c/span\u003e\u003c/p\u003e\u003c/div\u003e","tags":["811e","segment tree"]}}