{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1435762191,"rating":8,"authorHandle":"bochet","modificationTimeSeconds":1435762550,"id":19016,"title":"\u003cp\u003e2D Segment Tree with range multiplication, is it possible?\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHi all,\u003c/p\u003e\u003cp\u003eThis is my first blog in Codeforces. I met an optimisation problem in my work. The problem can be simplified as this:\u003c/p\u003e\u003cp\u003ewe need to perform two operations on a matrix A:\u003c/p\u003e \u003col\u003e   \u003cli\u003emultiply a sub matrix (given xmin, xmax, ymin, ymax) of A by a constant c_i\u003c/li\u003e   \u003cli\u003equery the sum of a sub matrix of A\u003c/li\u003e \u003c/ol\u003e\u003cp\u003eMy first idea is to use 2D segment tree with range update because I have seen and solved problems like (1) 2D segment tree for rmq, (2) 1d segment tree with range multiplication. But after spending one day trying to combine 2d segment tree with range multiplication, I found it very difficult (or maybe impossible ?) to do that because the two nodes may intersect, for example in:\u003c/p\u003e\u003cp\u003e\u003cimg alt\u003d\" \" src\u003d\"/predownloaded/57/98/57988dba2a165a9b13f3affe991c50c297013cad.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e\u003c/p\u003e\u003cp\u003ewill intersect at point (2, 3) and other points, and that makes everything so hard! \u003c/p\u003e\u003cp\u003eI can switch to quadtree to avoid such a problem, but then it means the single operation complexity would go from O(log(W)*log(H)) to O(W+H).\u003c/p\u003e\u003cp\u003eSo can you help me with this problem?\u003c/p\u003e\u003c/div\u003e","tags":["segment tree","range update","2d trees"]}}