{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1512640552,"rating":-13,"authorHandle":"Jiburiru","modificationTimeSeconds":1512641066,"id":56206,"title":"\u003cp\u003e894E — Ralph and Mushrooms-mushrooms count by math\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eDiv2 \u003ca href\u003d\"//codeforces.com/problemset/problem/894/E\"\u003e894E — Ralph and Mushrooms\u003c/a\u003e \u003c/p\u003e\u003cp\u003eas we know we can find cycle and contract to a point to make the graph become DAG\u003c/p\u003e\u003cp\u003ebut tutorial dont explain about finding mushrooms in the cycle by math knowledge\u003c/p\u003e\u003cp\u003eI have read some one\u0027s code and the math is as the follow \u003c/p\u003e\u003cp\u003eIF I HAVE MISTAKE WELLCOME TO TELL ME! THX\u003c/p\u003e\u003cp\u003ewalk through the cycle me can get the max mushrooms as we could\u003c/p\u003e\u003cp\u003ebecause we can still pass it though we get 0 mushroom so we can get all the mushrooms\u003c/p\u003e\u003cp\u003emushrooms decrease by 1,2,3...n\u003c/p\u003e\u003cp\u003efor the initial mushrooms w\u003c/p\u003e\u003cp\u003ei-th time you get w-i(i+1)/2\u003c/p\u003e\u003cp\u003efor every w suppose you can get mushrooms n time\u003c/p\u003e\u003cp\u003ew,w-1,w-1-2,w-1-2-3...w-(1+2..n)\u003c/p\u003e\u003cp\u003ewhich is w*(n+1)-[i(i+1)/2 i for 0 to n]\u003c/p\u003e\u003cp\u003e-\u0026gt; w(n+1)-i(i+1)(i+2)/6\u003c/p\u003e\u003cp\u003esee here \u003ca href\u003d\"https://en.wikipedia.org/wiki/Tetrahedral_number\"\u003ehttps://en.wikipedia.org/wiki/Tetrahedral_number\u003c/a\u003e\u003c/p\u003e\u003cp\u003eand the way to find n\u003c/p\u003e\u003cp\u003ewe have w already\u003c/p\u003e\u003cp\u003eto make it simple\u003c/p\u003e\u003cp\u003econsider w is one of the i(i+1)/2\u003c/p\u003e\u003cp\u003e8*w\u003c/p\u003e\u003cp\u003e\u003d4*i(i+1)\u003c/p\u003e\u003cp\u003e\u003d4i^2+4i\u003c/p\u003e\u003cp\u003e8*w+1\u003d(2i+1)^2\u003c/p\u003e\u003cp\u003esqrt(8*w+1)-1\u003d2i\u003c/p\u003e\u003cp\u003e[sqrt(8*w+1)-1]/2\u003d2i/2\u003di\u003c/p\u003e\u003cp\u003ewhich is what we want,i is the max times to get mushroom\u003c/p\u003e\u003cp\u003efor any w get floor for the ans\u003c/p\u003e\u003cp\u003ec++\u003c/p\u003e\u003cp\u003en is the max times to get mushroom\u003c/p\u003e\u003cp\u003eint n\u003d floor((sqrt(1+8*w)-1)/2);\u003c/p\u003e\u003cp\u003esum_mushroom\u003d(n+1)*w — n*(n+1)*(n+2)/6;\u003c/p\u003e\u003cp\u003ei.e.\u003c/p\u003e\u003cp\u003ew\u003d9\u003c/p\u003e\u003cp\u003e9,8,6,3,-1\u003c/p\u003e\u003cp\u003e9,9,9,9,9 (+ plus\u003c/p\u003e\u003cp\u003e0,1,3,6,10 (- minus\u003c/p\u003e\u003cp\u003en is 4\u003c/p\u003e\u003cp\u003e9*(4+1)-(0+1+(1+2)+(1+2+3)+(1+2+3+4))\u003c/p\u003e\u003cp\u003e\u003d9+8+6+3\u003d26\u003c/p\u003e\u003c/div\u003e","tags":["math","894e"]}}