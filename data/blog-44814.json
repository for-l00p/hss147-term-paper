{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1462975810,"rating":39,"authorHandle":"Chmel_Tolstiy","modificationTimeSeconds":1462993274,"id":44814,"title":"\u003cp\u003e[Analysis] Yandex.Algorithm 2016 Warm-up round\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eThanks to all the participants for \u003ca href\u003d\"https://contest.yandex.com/algorithm2016/contest/2497/standings/\"\u003esuccessful submissions\u003c/a\u003e! \u003c/p\u003e\u003cp\u003eThis set has been prepared by \u003ca class\u003d\"rated-user user-black\" href\u003d\"/profile/snarknews\" title\u003d\"Unrated, snarknews\"\u003esnarknews\u003c/a\u003e, \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/Chmel_Tolstiy\" title\u003d\"Grandmaster Chmel_Tolstiy\"\u003eChmel_Tolstiy\u003c/a\u003e, \u003ca class\u003d\"rated-user user-orange\" href\u003d\"/profile/Gassa\" title\u003d\"International master Gassa\"\u003eGassa\u003c/a\u003e and \u003ca class\u003d\"rated-user user-red\" href\u003d\"/profile/Zlobober\" title\u003d\"International Grandmaster Zlobober\"\u003eZlobober\u003c/a\u003e. The analysis was prepared by \u003ca class\u003d\"rated-user user-black\" href\u003d\"/profile/snarknews\" title\u003d\"Unrated, snarknews\"\u003esnarknews\u003c/a\u003e and \u003ca class\u003d\"rated-user user-orange\" href\u003d\"/profile/Gassa\" title\u003d\"International master Gassa\"\u003eGassa\u003c/a\u003e.\u003c/p\u003e\u003ch2\u003eProblem А. Alphabetical E-mail\u003c/h2\u003e\u003cp\u003eNote that sets of vowels and consonants does not intersect, which means that, when comparing two subsequences lexicographically, first goes the one with the lesser first letter.\u003c/p\u003e\u003cp\u003eSo read the characters one by one and remember first consonant and first vowel. When we meet both of them, immediately compare and print the answer. One of the subsequences can be empty.\u003c/p\u003e\u003ch2\u003eProblem B. Bytaler\u003c/h2\u003e\u003cp\u003eRead the first exchange rate and set \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/85/81/8581112e4c13af2a63c5f27d7a1444cdffa26e82.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e and \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/a4/5b/a45b3b32920179f593be6c25d242557096ad205c.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e to its value. Then read all other exchange rates; if the next rate is greater than \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/85/81/8581112e4c13af2a63c5f27d7a1444cdffa26e82.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e, then set \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/85/81/8581112e4c13af2a63c5f27d7a1444cdffa26e82.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e to it, and if it is less than \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/a4/5b/a45b3b32920179f593be6c25d242557096ad205c.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e, set \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/a4/5b/a45b3b32920179f593be6c25d242557096ad205c.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e to it.\u003c/p\u003e\u003cp\u003eAnswer will be \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/0d/44/0d44c04f01977774775f755e7f0147c31d50812c.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e.\u003c/p\u003e\u003ch2\u003eProblem C. Chesskers\u003c/h2\u003e\u003cp\u003eBecause black checker can make no more than 7 turns before it will reach the 1st rank (or be removed by a white knight), and the white knight can also make no more than 7 turns (even if white move first, after seventh turn, the black checker reaches rank 1 and wins). Note that, at each turn, the checker has no more than 2 possibilities to move, and knight has not more than 8 possibilities, so we will have not more than \u003cspan class\u003d\"tex-span\"\u003e2\u003csup class\u003d\"upper-index\"\u003e7\u003c/sup\u003e·8\u003csup class\u003d\"upper-index\"\u003e7\u003c/sup\u003e \u003d 2\u003csup class\u003d\"upper-index\"\u003e28\u003c/sup\u003e\u003c/span\u003e operations, which is small enough to just solve the problem recursively.\u003c/p\u003e\u003cp\u003eLet us implement two functions: \u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cp\u003eChecker\u0027s turn function which checks winning/losing condition, and if they are not reached, call the functions of knight\u0027s turn for all possible checker\u0027s moves.\u003c/p\u003e\u003c/li\u003e   \u003cli\u003e\u003cp\u003eKnight\u0027s turn function which checks winning/losing condition, and if they are not reached, call the functions of checker\u0027s turn for all (no more than eight) possible knight\u0027s moves.\u003c/p\u003e\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eSo, the main procedure reads the input data, and then calls the appropriate function depending on who starts the game.\u003c/p\u003e\u003ch2\u003eProblem D. Desert City\u003c/h2\u003e\u003cp\u003eConsider the diagonal \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eAC\u003c/i\u003e\u003c/span\u003e of the convex pentagon. Two vertices (let us call them \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eD\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eE\u003c/i\u003e\u003c/span\u003e) are lying at one side of it, and one (let us call it \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eB\u003c/i\u003e\u003c/span\u003e) on another, so we have two diagonals \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eBD\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eBE\u003c/i\u003e\u003c/span\u003e intersecting \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eAC\u003c/i\u003e\u003c/span\u003e in inner points \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eP\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eQ\u003c/i\u003e\u003c/span\u003e. Diagonals \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eAD\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eCE\u003c/i\u003e\u003c/span\u003e are diagonals of a convex quadrilateral \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eACDE\u003c/i\u003e\u003c/span\u003e, so they intersect inside this quadrilateral. Diagonals \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eBE\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eAD\u003c/i\u003e\u003c/span\u003e intersect inside the \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eACDE\u003c/i\u003e\u003c/span\u003e too (otherwise, we have segment \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eEQ\u003c/i\u003e\u003c/span\u003e which connects vertice \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eE\u003c/i\u003e\u003c/span\u003e of a convex quadrilateral \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eACDE\u003c/i\u003e\u003c/span\u003e with point \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eQ\u003c/i\u003e\u003c/span\u003e on \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eAC\u003c/i\u003e\u003c/span\u003e and does not intersect diagonal \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eAD\u003c/i\u003e\u003c/span\u003e, which is impossible). The same is true for \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eBD\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eCE\u003c/i\u003e\u003c/span\u003e. So, the three other intersection points are lying at one side of the line \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eAC\u003c/i\u003e\u003c/span\u003e, connecting points \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eP\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eQ\u003c/i\u003e\u003c/span\u003e. This means that intersections of diagonals of the convex pentagon form another convex pentagon \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ePQRST\u003c/i\u003e\u003c/span\u003e with parts of diagonals as its edges.\u003c/p\u003e\u003cp\u003eIn this case, vertices of the pentagon \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eABCDE\u003c/i\u003e\u003c/span\u003e can be reconstructed as the intersections of the lines which contain the pairs of sides which don\u0027t share a vertex (let us say these are \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ePQ\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eRS\u003c/i\u003e\u003c/span\u003e). First, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ePQ\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eRS\u003c/i\u003e\u003c/span\u003e cannot be parallel. Also, because \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eABCDE\u003c/i\u003e\u003c/span\u003e is convex and edges of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ePQRST\u003c/i\u003e\u003c/span\u003e are parts of its diagonals, intersection must lie at another side of line \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eQR\u003c/i\u003e\u003c/span\u003e than the other vertices of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ePQRST\u003c/i\u003e\u003c/span\u003e. So, if this is true for all five pairs of lines, then the convex pentagon \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eABCDE\u003c/i\u003e\u003c/span\u003e can be reconstructed correctly.\u003c/p\u003e\u003cp\u003eTaking all the above into account, the following solution can be considered We check if all five given points are vertices of their convex hull, then reorder them so that the pentagon \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e0\u003c/sub\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e3\u003c/sub\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e4\u003c/sub\u003e\u003c/span\u003e is convex, then check for each \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e if \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e + 1\u003c/sub\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e + 2\u003c/sub\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e + 3\u003c/sub\u003e\u003c/span\u003e intersect at some point \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eQ\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e which lies at the other side of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e + 1\u003c/sub\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e + 2\u003c/sub\u003e\u003c/span\u003e than \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e (here, the sum in indices is calculated modulo 5). If any of the checks failed, the answer is \u003cstrong\u003eNo\u003c/strong\u003e. Otherwise, the answer is \u003cstrong\u003eYes\u003c/strong\u003e.\u003c/p\u003e\u003ch2\u003eProblem E. Encoding\u003c/h2\u003e\u003cp\u003eIf it is impossible to select such a pair of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eq\u003c/i\u003e\u003c/span\u003e, then \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ex\u003c/i\u003e)\u003c/span\u003e is \u003cem\u003epermutation polynomial\u003c/em\u003e modulo \u003cspan class\u003d\"tex-span\"\u003e2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e, which means that it transforms the sequence of consecutive integers from \u003cspan class\u003d\"tex-span\"\u003e0\u003c/span\u003e to \u003cspan class\u003d\"tex-span\"\u003e2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/sup\u003e - 1\u003c/span\u003e into their permutation. Below, we show certain properties of permutation polynomials.\u003c/p\u003e\u003cp\u003eIt is easy to see that for \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e \u003d 1\u003c/span\u003e and for any permutation polynomial, the sum \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e + ... + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e must be odd: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(0) \u003d \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e0\u003c/sub\u003e\u003c/span\u003e and \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(1) \u003d \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e0\u003c/sub\u003e + (\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e + ... + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e)\u003c/span\u003e; so if \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e + ... + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e is even, then \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(0) \u003d \u003ci\u003ef\u003c/i\u003e(1)\u003c/span\u003e modulo 2.\u003c/p\u003e\u003cp\u003eIf \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e \u0026gt; 1\u003c/span\u003e, then \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e\u003c/span\u003e for permutation polynomial must be odd. Otherwise, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e - 1\u003c/sup\u003e) - \u003ci\u003ef\u003c/i\u003e(0) \u003d \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e0\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e·2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e - 1\u003c/sup\u003e + 2\u003csup class\u003d\"upper-index\"\u003e2\u003ci\u003em\u003c/i\u003e - 2\u003c/sup\u003e·\u003ci\u003eR\u003c/i\u003e - \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e0\u003c/sub\u003e\u003c/span\u003e, where \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eR\u003c/i\u003e\u003c/span\u003e is an integer. Now, if \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e\u003c/span\u003e is even, then \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e - 1\u003c/sup\u003e) - \u003ci\u003ef\u003c/i\u003e(0) \u003d 2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/sup\u003e·(\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e / 2 + 2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e - 2\u003c/sup\u003e·\u003ci\u003eR\u003c/i\u003e)\u003c/span\u003e, so \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e - 1\u003c/sup\u003e) - \u003ci\u003ef\u003c/i\u003e(0)\u003c/span\u003e is divisible by \u003cspan class\u003d\"tex-span\"\u003e2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eAfter some more experiments you may notice the following rule: if a polynomial is a permutation polynomial modulo \u003cspan class\u003d\"tex-span\"\u003e2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e, this polynomial also must have even sum \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e3\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e5\u003c/sub\u003e + ...\u003c/span\u003e and even sum \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e4\u003c/sub\u003e + ...\u003c/span\u003e. Proof of this theorem can be found, for example, in this \u003ca href\u003d\"https://people.csali.mit.edu/rivest/pubs/Riv01c.pdf\"\u003epaper by Ronald L. Rivest\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eSo, all you need is to check that the sum \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e3\u003c/sub\u003e + ... + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e is even, and if \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e \u0026gt; 1\u003c/span\u003e, additionally check that \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e\u003c/span\u003e is odd and the sum \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e + \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e4\u003c/sub\u003e + ...\u003c/span\u003e is even. If this is true, the answer is \u003cstrong\u003eNo\u003c/strong\u003e (the input contains a permutation polynomial). Otherwise, the answer is \u003cstrong\u003eYes\u003c/strong\u003e.\u003c/p\u003e\u003ch2\u003eProblem F. Future Playlists\u003c/h2\u003e\u003cp\u003eAt first step, we should find a set \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/span\u003e of vertices that belong to a single strongly connected component such that there is no edge that starts in a vertex from this set and ends in a vertex outside it.\u003c/p\u003e\u003cp\u003eDue to restrictions from the, problem statement it is possible to find such set, this set is unique, and the vertex corresponding to Byteasar\u0027s favorite track belongs to this set.\u003c/p\u003e\u003cp\u003eTo find this set, we can run a depth-first search from vertex 1.\u003c/p\u003e\u003cp\u003eIt is obvious that at \u003cspan class\u003d\"tex-span\"\u003e10\u003csup class\u003d\"upper-index\"\u003e2016\u003c/sup\u003e\u003c/span\u003e-th track, the probabilities for playing tracks not in our set can be considered as zeroes; moreover, \u003cspan class\u003d\"tex-span\"\u003e10\u003csup class\u003d\"upper-index\"\u003e2016\u003c/sup\u003e\u003c/span\u003e in this problem can be considered as infinity.\u003c/p\u003e\u003cp\u003eAfter an infinite number of rounds, the vector \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003c/span\u003e of probabilities must conform to linear equation system \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003epW\u003c/i\u003e \u003d \u003ci\u003ep\u003c/i\u003e\u003c/span\u003e, where \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eW\u003c/i\u003e\u003c/span\u003e is the adjacency matrix of the subgraph built from vertices of the set \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eSo we have a homoheneous system of linear equations \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003eW\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eT\u003c/i\u003e\u003c/sup\u003e - \u003ci\u003eI\u003c/i\u003e)\u003ci\u003ep\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003eT\u003c/i\u003e\u003c/sup\u003e \u003d 0\u003c/span\u003e, and an additional equation \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/07/93/07930fd45dad8e967e6fc652e45f0a5980d5fb40.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e. It is easy to see that system is consistent and it can be solved, for example, by Gaussian elimination.\u003c/p\u003e\u003cp\u003eThe value \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e\u003c/span\u003e is the answer.\u003c/p\u003e\u003cp\u003e\u003cstrong\u003eP.S. If you find a typo, let me know with a private message.\u003c/strong\u003e\u003c/p\u003e\u003c/div\u003e","tags":[]}}