{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1468924203,"rating":0,"authorHandle":"cescmentation_folch","modificationTimeSeconds":1468924203,"id":46119,"title":"\u003cp\u003eSolucions RouraCamp D2 IOI\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eProblema A:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef vector\u0026lt;ll\u0026gt; vll;\ntypedef vector\u0026lt;vll\u0026gt; vvll;\ntypedef vector\u0026lt;int\u0026gt; vi;\ntypedef vector\u0026lt;vi\u0026gt; vvi;\ntypedef pair\u0026lt;ll, ll\u0026gt; pi;\ntypedef vector\u0026lt;pi\u0026gt; vpi;\ntypedef vector\u0026lt;vpi\u0026gt; vvpi;\ntypedef priority_queue\u0026lt;pi\u0026gt; pqi;\n\nint main() {\n    int d, n, m;\n    cin \u0026gt;\u0026gt; d \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m;\n    pqi Q;\n    vpi V(m);\n    for (int i \u003d 0; i \u0026lt; m; ++i) cin \u0026gt;\u0026gt; V[i].first \u0026gt;\u0026gt; V[i].second;\n    sort(V.begin(), V.end());\n    V.push_back(pi(d, 0));\n    Q.push(pi(0,0));\n    ll res \u003d 0;\n    ll lastdist \u003d 0;\n    for (int i \u003d 0; i \u0026lt;\u003d m; ++i) {\n        ll nextdist \u003d V[i].first;\n        while (lastdist \u0026lt; nextdist) {\n            if (Q.empty()) {\n                cout \u0026lt;\u0026lt; -1 \u0026lt;\u0026lt; endl;\n                return 0;\n            }\n            if (Q.top().second + n \u0026gt; lastdist and Q.top().second + n \u0026lt;\u003d nextdist) {\n                res -\u003d (Q.top().second + n - lastdist)*Q.top().first;\n                lastdist \u003d Q.top().second + n;\n                Q.pop();\n            }\n            else if (Q.top().second + n \u0026gt; lastdist) {\n                res -\u003d (nextdist - lastdist)*Q.top().first;\n                lastdist \u003d nextdist;\n            }\n            else Q.pop();\n        }\n        Q.push(pi(-V[i].second, V[i].first));\n    }\n    cout \u0026lt;\u0026lt; res \u0026lt;\u0026lt; endl;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eProblema B:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include\u0026lt;bits/stdc++.h\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair\u0026lt;int, int\u0026gt; pi;\ntypedef pair\u0026lt;int, pi\u0026gt; ppi;\ntypedef pair\u0026lt;int, ppi\u0026gt; pppi;\ntypedef vector\u0026lt;int\u0026gt; vi;\ntypedef vector\u0026lt;vi\u0026gt; vvi;\n\nvvi G;\nvi V;\nvi T;\n\nvoid dfs(int x, int d) {\n  V[x] \u003d 1;\n  bool xec \u003d true;\n  for (int i \u003d 0; i \u0026lt; G[x].size(); ++i) {\n    int y \u003d G[x][i];\n    if (!V[y]) {\n      dfs(y, d + 1);\n      xec \u003d false;\n    }\n  }\n  if (xec) T.push_back(d);\n}\n\nint main() {\n  ios_base::sync_with_stdio(false);\n  int n;\n  cin \u0026gt;\u0026gt; n;\n  G \u003d vvi(n);\n  V \u003d vi(n, 0);\n  \n  for (int i \u003d 0; i \u0026lt; n - 1; ++i) {\n    int x, y;\n    cin \u0026gt;\u0026gt; x \u0026gt;\u0026gt; y;\n    --x;\n    --y;\n    G[x].push_back(y);\n    G[y].push_back(x);\n  }\n  int res \u003d 0;\n  V[0] \u003d 1;\n  for (int i \u003d 0; i \u0026lt; G[0].size(); ++i) {\n    T \u003d vi(0);\n    dfs(G[0][i], 1);\n    sort(T.begin(), T.end());\n    int k \u003d 0;\n    for (int j \u003d 0; j \u0026lt; T.size(); ++j) k \u003d max(k + 1, T[j]);\n    res \u003d max(res, k);\n  }\n  \n  cout \u0026lt;\u0026lt; res \u0026lt;\u0026lt; endl;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eProblema C:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair\u0026lt;ll,ll\u0026gt; pll;\n\nstruct que {\n  ll arr;\n  ll l;\n  ll r;\n  ll idx;\n};\n\nbool comp(que a, que b) {\n  if (a.arr !\u003d b.arr) return a.arr \u0026lt; b.arr;\n  if (a.r !\u003d b.r) return a.r \u0026lt; b.r;\n  return a.l \u0026lt; b.l;\n}\n\ntypedef vector\u0026lt;que\u0026gt; vq;\n\nconst ll N \u003d 4e6;\nconst ll sN \u003d 350;\n\nll F[N];\n\nint main() {\n  ios_base::sync_with_stdio(false);\n  cin.tie(0);\n  ll n, m, k;\n  cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m \u0026gt;\u0026gt; k;\n  ll A[n + 1];\n  A[0] \u003d 0;\n  for (ll i \u003d 1; i \u0026lt;\u003d n; ++i) { \n    cin \u0026gt;\u0026gt; A[i];\n    A[i] ^\u003d A[i - 1];\n  }\n  ll R[m];\n  vq V(m);\n  for (ll i \u003d 0; i \u0026lt; m; ++i) {\n    cin \u0026gt;\u0026gt; V[i].l \u0026gt;\u0026gt; V[i].r;\n    V[i].l--;\n    V[i].idx \u003d i;\n    V[i].arr \u003d V[i].l/sN;\n  }\n  sort(V.begin(), V.end(), comp);\n  ll res \u003d 0;\n  ll in \u003d 0;\n  ll out \u003d -1;\n  for (ll i \u003d 0; i \u0026lt; m; ++i) {\n    while (out \u0026lt; V[i].r) {\n      ++out;\n      res +\u003d F[A[out] ^ k];\n      ++F[A[out]];\n    }\n    while (out \u0026gt; V[i].r) {\n      --F[A[out]];\n      res -\u003d F[A[out] ^ k];\n      --out;\n    }\n    while (in \u0026lt; V[i].l) {\n      --F[A[in]];\n      res -\u003d F[A[in] ^ k];\n      ++in;\n    }\n    while (in \u0026gt; V[i].l) {\n      --in;\n      res +\u003d F[A[in] ^ k];\n      ++F[A[in]];\n    }\n    R[V[i].idx] \u003d res;\n  }\n  for(ll i \u003d 0; i \u0026lt; m; ++i) cout \u0026lt;\u0026lt; R[i] \u0026lt;\u0026lt; endl;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eProblema D:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include\u0026lt;bits/stdc++.h\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\n\nll mod \u003d 1e9+7;\n\nll D[5010][5010];\nint C[5010][5010];\n\nstring a;\n\nbool comp(int x, int y, int d){\n  if(y + d \u0026gt; a.size()) return false;\n  if(C[x][y] !\u003d -1 and C[x][y] \u0026lt; d) return true;\n  return false;\n}\n\nint main(){\n  int n;\n  cin \u0026gt;\u0026gt; n;\n  cin \u0026gt;\u0026gt; a;\n  \n  for(int i \u003d n - 1; i \u0026gt;\u003d 0; --i){\n    for(int j \u003d n - 1; j \u0026gt; i; --j){\n      if(a[i] \u0026lt; a[j]) C[i][j] \u003d 0;\n      else if(a[i] \u0026gt; a[j]) C[i][j] \u003d -1;\n      else{\n\tif(j \u003d\u003d n - 1) C[i][j] \u003d -1;\n\telse if(C[i + 1][j + 1] \u003d\u003d -1) C[i][j] \u003d -1;\n\telse C[i][j] \u003d C[i + 1][j + 1] + 1;\n      }\n    }\n  }\n  \n  for(int i \u003d n - 1; i \u0026gt;\u003d 0; --i){\n    if(a[i] \u003d\u003d \u00270\u0027) continue;\n    for(int j \u003d n - i; j \u0026gt;\u003d 1; --j){\n      if(i + j \u003d\u003d n) D[i][j] \u003d 1ll;\n      else {\n\tif(comp(i, i + j, j)) D[i][j] \u003d D[i + j][j];\n\telse D[i][j] \u003d D[i + j][j + 1];\n\tD[i][j] \u003d (D[i][j] + D[i][j + 1])%mod;\n      }\n    }\n  }\n  \n  cout \u0026lt;\u0026lt; D[0][1] \u0026lt;\u0026lt; endl;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}