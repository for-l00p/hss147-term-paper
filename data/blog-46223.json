{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1469268324,"rating":3,"authorHandle":"I_love_Hoang_Yen","modificationTimeSeconds":1469374761,"id":46223,"title":"\u003cp\u003eTH Training 6 — Solutions\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eLinks:\u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003ca href\u003d\"https://www.youtube.com/watch?v\u003dQiWQlN9s-I0\"\u003eVideo\u003c/a\u003e\u003c/li\u003e   \u003cli\u003e\u003ca href\u003d\"https://docs.google.com/presentation/d/1bB4V9dHBfK_DtT2XO7hIdEa9Lg7zqsM6xchkjeEju5M/edit#slide\u003did.g15ee2049ce_0_65\"\u003eSlide\u003c/a\u003e\u003c/li\u003e   \u003cli\u003e\u003ca href\u003d\"https://github.com/ngthanhtrung23/TH2016/tree/master/T6\"\u003eCode\u003c/a\u003e\u003c/li\u003e \u003c/ul\u003e\u003ch1\u003e\u003ca href\u003d\"/group/ThSS9mn0dy/contest/208021/problem/A\" title\u003d\"TH Training 6\"\u003e208021A - Xóa số\u003c/a\u003e\u003c/h1\u003e\u003ch2\u003eSinh số nguyên tố\u003c/h2\u003e\u003cp\u003eSố số nguyên tố nhỏ hơn hoặc bằng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e / \u003ci\u003elog\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e))\u003c/span\u003e, nên để sinh được 50k số nguyên tố, thì ta cần xét đến tầm 1 triệu (có thể kiểm chứng cận trên chính xác bằng code). Dễ dàng sinh được các số nguyên tố cần thiết bằng sàng.\u003c/p\u003e\u003ch2\u003eXóa tối ưu\u003c/h2\u003e\u003cp\u003eThay vì nghĩ là ta cần xóa \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/span\u003e chữ số, hãy nghĩ là ta cần giữ lại \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e - \u003ci\u003eK\u003c/i\u003e\u003c/span\u003e chữ số.\u003c/p\u003e\u003cp\u003eGiờ giả sử ta có số \u003cspan class\u003d\"tex-span\"\u003e91435\u003c/span\u003e và ta cần giữ lại 2 chữ số, rõ ràng ta sẽ giữ lại số \u003cspan class\u003d\"tex-span\"\u003e95\u003c/span\u003e. Tại sao? Rõ ràng số lớn nhất nếu chữ số đầu tiên lớn nhất, nên ta giữ lại 9. Ta luôn giữ lại chữ số to nhất có thể, sao cho nếu giữ lại chữ số đó thì ta vẫn đủ chữ số. Ví dụ khác: \u003cspan class\u003d\"tex-span\"\u003e11199\u003c/span\u003e và cần giữ lại 3 chữ số --\u0026gt; không thể để chữ số đầu tiên là 9, vì như thế thì sẽ không có đủ 3 chữ số.\u003c/p\u003e\u003cp\u003eDo đó, cách làm là: đi từ trái sang phải, chọn chữ số lớn nhất để giữ lại sao cho vẫn còn đủ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eX\u003c/i\u003e\u003c/span\u003e chữ số cần giữ lại. Ví dụ:\u003c/p\u003e \u003cul\u003e   \u003cli\u003eChữ số đầu tiên giữ lại là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(\u003ci\u003eA\u003c/i\u003e1..\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e - \u003ci\u003eX\u003c/i\u003e + 1)\u003c/span\u003e. Đặt chỉ số của nó là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e1\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003eChữ số thứ 2 giữ lại là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emax\u003c/i\u003e(\u003ci\u003eA\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e1)..\u003ci\u003eA\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e - \u003ci\u003eX\u003c/i\u003e + 2)\u003c/span\u003e. ...\u003c/li\u003e \u003c/ul\u003e\u003ch1\u003e\u003ca href\u003d\"/group/ThSS9mn0dy/contest/208021/problem/B\" title\u003d\"TH Training 6\"\u003e208021B - Quyết đấu\u003c/a\u003e\u003c/h1\u003e\u003cp\u003eHướng đi thông thường là quy hoạch động theo kiểu \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e, \u003ci\u003ex\u003c/i\u003e)\u003c/span\u003e, là nếu chỉ xét người từ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e, thì thằng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/span\u003e có vô địch được không. Tuy nhiên làm kiểu này độ phức tạp rất lớn và bộ nhớ cũng lớn.\u003c/p\u003e\u003cp\u003eTa nhận thấy chiều \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/span\u003e không quan trọng, nói cách khác, ta sửa lại hàm \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e là có tồn tại cách chơi, để khi chơi hết đoạn \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e, thì còn lại cả \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e và \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eTừ đó thu được công thức quy hoạch động \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e3\u003c/sup\u003e\u003c/span\u003e rất đơn giản:\u003c/p\u003e\u003cp\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e) \u003d \u003ci\u003etrue\u003c/i\u003e\u003c/span\u003e nếu tồn tại \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e mà \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ek\u003c/i\u003e) \u003d \u003ci\u003ef\u003c/i\u003e(\u003ci\u003ek\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e) \u003d 1\u003c/span\u003e và \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eA\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ek\u003c/i\u003e) \u003d 1||\u003ci\u003eA\u003c/i\u003e(\u003ci\u003ej\u003c/i\u003e, \u003ci\u003ek\u003c/i\u003e) \u003d 1\u003c/span\u003e.\u003c/p\u003e\u003ch1\u003e\u003ca href\u003d\"/group/ThSS9mn0dy/contest/208021/problem/C\" title\u003d\"TH Training 6\"\u003e208021C - Khối tam chữ nhật\u003c/a\u003e\u003c/h1\u003e\u003cp\u003eBài dạng này có rất nhiều cách đi. Điểm quan trọng khi làm những bài như này là tìm cách nào đơn giản, logic nhất để code.\u003c/p\u003e\u003cp\u003eCách tiếp cận đơn giản nhất là chia nhỏ hình cần tìm ra theo cấu trúc của nó và quy hoạch động theo từng phần:\u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003etop\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e)\u003c/span\u003e là khối bên trên lớn nhất, nếu cạnh dưới ở hàng i, và cạnh đáy từ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/span\u003e đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ebot\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e)\u003c/span\u003e là khối bên dưới lớn nhất, nếu cạnh trên ở hàng i, và cạnh trên từ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/span\u003e đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emid\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e)\u003c/span\u003e là khối trên + giữa lớn nhất, nếu cạnh dưới ở hàng i, và cạnh đáy từ \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/span\u003e đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/span\u003e.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eSau khi tính \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003etop\u003c/i\u003e\u003c/span\u003e và \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ebot\u003c/i\u003e\u003c/span\u003e, ta nở 2 mảng này ra:\u003c/p\u003e \u003cul\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003etop\u003c/i\u003e\u0027(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e)\u003c/span\u003e là khối trên lớn nhất, nếu cạnh đáy ở hàng i, và nó nằm trong khoảng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/span\u003e đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/span\u003e. \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003etop\u003c/i\u003e\u0027(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e) \u003d \u003ci\u003emax\u003c/i\u003e(\u003ci\u003etop\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e), \u003ci\u003etop\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e + 1, \u003ci\u003er\u003c/i\u003e), \u003ci\u003etop\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e - 1))\u003c/span\u003e.\u003c/li\u003e   \u003cli\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ebot\u003c/i\u003e\u0027(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e)\u003c/span\u003e là khối dưới lớn nhất, nếu cạnh trên ở hàng i, và nó nằm trong khoảng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/span\u003e đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/span\u003e. \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ebot\u003c/i\u003e\u0027(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e) \u003d \u003ci\u003emax\u003c/i\u003e(\u003ci\u003ebot\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e), \u003ci\u003ebot\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e + 1, \u003ci\u003er\u003c/i\u003e), \u003ci\u003ebot\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e - 1))\u003c/span\u003e.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eTiếp theo là xử lý đến phần giữa. Ở đây tư tưởng là:\u003c/p\u003e \u003cul\u003e   \u003cli\u003emid(i, l, r) là khối đầu + giữa to nhất, nếu khối giữa kết thúc ở hàng i, và ở hàng i nó trải từ l đến r.\u003c/li\u003e   \u003cli\u003eDùng mảng mid và mảng bot để nối phần (đầu + giữa) với phần cuối. Chỗ này thì đơn giản, em chỉ cần xét mỗi cái mid(i, l, r) rồi cộng thêm bot(i+1, l+1, r-1). Chú ý ở đây mảng bot đã được nở ra.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003eKhi tính mid(i, l, r) thì có 2 trường hợp:\u003c/p\u003e \u003col\u003e   \u003cli\u003eHàng i là hàng đầu tiên của khối giữa. Trường hợp này thì \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emid\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e) \u003d \u003ci\u003etop\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e - 1, \u003ci\u003el\u003c/i\u003e + 1, \u003ci\u003er\u003c/i\u003e - 1) + (\u003ci\u003er\u003c/i\u003e - \u003ci\u003el\u003c/i\u003e + 1)\u003c/span\u003e, do ta chuyển từ khối đầu qua khối giữa. Chú ý phải check cẩn thận là top dương và hàng i từ l đến r toàn bộ là 1.\u003c/li\u003e   \u003cli\u003eHàng i KHÔNG phải là hàng đầu tiên của khối giữa. Trường hợp này thì tương tự top, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003emid\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e) \u003d \u003ci\u003emid\u003c/i\u003e(\u003ci\u003ei\u003c/i\u003e - 1, \u003ci\u003el\u003c/i\u003e, \u003ci\u003er\u003c/i\u003e) + (\u003ci\u003er\u003c/i\u003e - \u003ci\u003el\u003c/i\u003e + 1)\u003c/span\u003e.\u003c/li\u003e \u003c/ol\u003e\u003ch1\u003e\u003ca href\u003d\"/group/ThSS9mn0dy/contest/208021/problem/D\" title\u003d\"TH Training 6\"\u003e208021D - Thợ sửa ống nước\u003c/a\u003e\u003c/h1\u003e\u003ch1\u003eNhận xét\u003c/h1\u003e \u003cul\u003e   \u003cli\u003e2 chiều độc lập nhau\u003c/li\u003e   \u003cli\u003e1 giây có thể quay 1 chiều\u003c/li\u003e   \u003cli\u003e2 giây có thể quay 2 chiều\u003c/li\u003e \u003c/ul\u003e\u003ch1\u003eQHD\u003c/h1\u003e \u003cul\u003e   \u003cli\u003eTrên mỗi hàng, tìm xem nếu thêm \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/span\u003e lần chạm nhau thì chi phí tối thiểu là bao nhiêu   \u003cul\u003e     \u003cli\u003eVới mỗi hàng, \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e(\u003ci\u003ej\u003c/i\u003e, \u003ci\u003etouch\u003c/i\u003e, \u003ci\u003elast\u003c/i\u003e)\u003c/span\u003e là chi phí tối thiểu để từ cột 1 đến \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e, có thêm đúng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003etouch\u003c/i\u003e\u003c/span\u003e cái chạm nhau, và cái ô cuối cùng là xoay trái hay phải.\u003c/li\u003e   \u003c/ul\u003e\u003c/li\u003e   \u003cli\u003eTương tự với mỗi cột\u003c/li\u003e   \u003cli\u003eKhi đã tính được các mảng \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003c/span\u003e, đến đây thu được bài cái túi: Mỗi hàng nếu thêm \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/span\u003e chỗ chạm nhau thì chi phí là \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ef\u003c/i\u003e\u003c/span\u003e. Từ đó quy hoạch động thêm lần nữa.\u003c/li\u003e \u003c/ul\u003e\u003cp\u003e\u003ca href\u003d\"https://www.youtube.com/watch?v\u003dZfiaMr-frQU\"\u003eVideo D\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e","tags":[]}}