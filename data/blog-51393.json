{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1491165491,"rating":-11,"authorHandle":"hdggxin","modificationTimeSeconds":1491165683,"id":51393,"title":"\u003cp\u003eGetting WA in this prime generator code (SPOJ).\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\nint main()\n{\n\tlong long last\u003d31624;\n\tbool prime[31625];\n\tbool array[(long long)1e5+1];\n\n\tfor(long long i\u003d0;i\u0026lt;\u003dlast;i++)\n\t\tprime[i]\u003dtrue;\n\tfor(long long i\u003d0;i\u0026lt;\u003d(long long)1e5;i++)\n\t\tarray[i]\u003dtrue;\n\tprime[0]\u003dfalse;\n\tprime[1]\u003dfalse;\n\tlong long limit1\u003dceil(sqrt(last))+1;\n\tfor(long long i\u003d2;i\u0026lt;limit1;i++)\n\t{\n\t\tif(prime[i])\n\t\t{\n\t\t\tfor(long long k\u003d2*i;k\u0026lt;\u003dlast;k+\u003di)\n\t\t\t{\n\t\t\t\tprime[k]\u003dfalse;\n\t\t\t}\n\t\t}\n\t}\n\tlong long t\u003d0;\n\tscanf(\u0026quot;%d\u0026quot;,\u0026amp;t);\n\tfor(long long i\u003d0;i\u0026lt;t;i++)\n\t{\n\t\tif(i)printf(\u0026quot;\\n\u0026quot;);\n\t\tlong long m\u003d0;\n\t\tlong long n\u003d0;\n\t\tscanf(\u0026quot;%d\u0026quot;,\u0026amp;m);\n\t\tscanf(\u0026quot;%d\u0026quot;,\u0026amp;n);\n\t\tif(n\u0026lt;\u003dlast)\n\t\t{\n\t\t\tif(m\u003d\u003dn \u0026amp;\u0026amp; prime[n])\n\t\t\t{\n\t\t\t\tprintf(\u0026quot;%d\\n\u0026quot;, n);\n\t\t\t}\n\t\t\telse for(long long j\u003dm;j\u0026lt;\u003dn;j++)\n\t\t\t{\n\t\t\t\tif(prime[j])\n\t\t\t\t\tprintf(\u0026quot;%d\\n\u0026quot;,j);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlong long limit2\u003dceil(sqrt(n));\n\t\t\tfor(long long j\u003d2;j\u0026lt;\u003dlimit2;j++)\n\t\t\t{\n\t\t\t\tif(prime[j])\n\t\t\t\t{\n\t\t\t\t\tlong long k\u003d(long long)ceil(m/j)*j;\n\t\t\t\t\tif(k\u0026lt;m)k+\u003dj;\n\t\t\t\t\tfor(;k\u0026lt;\u003dn;k+\u003dj)\n\t\t\t\t\t{\n\t\t\t\t\t\tarray[k-m]\u003dfalse;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor(long long j\u003dm;j\u0026lt;\u003dn;j++)\n\t\t\t{\n\t\t\t\tif(array[j-m])\n\t\t\t\t\tprintf(\u0026quot;%d\\n\u0026quot;,j);\n\t\t\t}\n\t\t\t//reset the array\n\t\t\tfor(long long k\u003d0;k\u0026lt;\u003d(long long)1e5;k++)\n\t\t\t\tarray[k]\u003dtrue;\n\t\t}\n\t}\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["sieve of eratosthenes","spoj","wrong answer"]}}