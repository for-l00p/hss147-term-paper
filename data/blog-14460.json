{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1414426963,"rating":7,"authorHandle":"sunacm","modificationTimeSeconds":1414427051,"id":14460,"title":"\u003cp\u003e2011 asia regional dalian\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003ebecause i will take part in regional soon,recently i take some asia regional for practice,and i will write problem solution to make clear\u003c/p\u003e\u003cp\u003efirst i will say this problem:The Boss on Mars\u003c/p\u003e\u003cp\u003efirst we need to cal the sum of the sigma(i^4)\u003c/p\u003e\u003cp\u003euse polygen is easy to get,second,we need to delete the no coprime number. this will use the rongchi (in chinese 容斥） to solve,can solve in dfs easily\u003c/p\u003e\u003cp\u003eproblem link:\u003ca href\u003d\"http://acm.hust.edu.cn/vjudge/contest/view.action?cid\u003d60895#problem/I\"\u003ehttp://acm.hust.edu.cn/vjudge/contest/view.action?cid\u003d60895#problem/I\u003c/a\u003e there is the code:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;math.h\u0026gt;\n#include \u0026lt;map\u0026gt;\n#include \u0026lt;vector\u0026gt;\n\n\n\nusing namespace std;\n\ntypedef long long ll;\n\n\nconst ll mod\u003d1000000007;  \n\nvector\u0026lt;ll\u0026gt;  yinzi;\n\n\n\nll pow_mod(ll aa,ll p)\n{\n    ll temp\u003d1;\n    ll a\u003daa;\n    int cnt\u003d0;\n    while(p)\n    {\n        if((1\u0026lt;\u0026lt;cnt)\u0026amp;p)\n        {\n            temp\u003dtemp*a%mod;\n            p-\u003d(1\u0026lt;\u0026lt;cnt);\n        }\n        a\u003da*a%mod;\n        cnt++;\n    }\n    return temp;\n}\n\nll ni\u003dpow_mod(30,mod-2);\n\nbool isprime[100100];\nll prime[100100];\n\nll get(ll n)\n{\n\t\n    ll a1\u003d6*(n*n%mod)*(n*n%mod)%mod*n%mod;\n    ll a2\u003d15*n%mod*n%mod*(n+1)%mod*(n+1)%mod;\n    ll a3\u003d10*n%mod*(n+1)%mod*(2*n+1)%mod;\n    ll a4\u003d15*n%mod*(n+1)%mod;\n    ll a5\u003d6*n%mod;\n    ll ans\u003d(a1+a2-a3+a4-a5)%mod;\n\n\treturn ans*ni%mod;\n\n}\n\nint cnt\u003d0;\n\nvoid getprime()\n{\n\t\nmemset(isprime,true,sizeof(isprime));\n\nfor(int i\u003d2;i\u0026lt;\u003d10000;i++)\n{\n\tif(isprime[i])\n\t{\n\t\tfor(int j\u003di*2;j\u0026lt;\u003d10000;j+\u003di)\n\t\t{\n\t\t\tisprime[j]\u003dfalse;\n\n\t\t}\n\t}\n}\n\n\nfor(int i\u003d2;i\u0026lt;\u003d10000;i++)\n{\n\tif(isprime[i])\n\t{\n\t\tprime[cnt++]\u003d(ll)i;\n\t}\n\n}\n\n\n\n\n\n}\n\nvoid getfactor(ll n)\n{         \n    yinzi.clear();\n    for(int i\u003d0;i\u0026lt;cnt\u0026amp;\u0026amp;prime[i]*prime[i]\u0026lt;\u003dn;i++)\n    {\n        if(n%prime[i]\u003d\u003d0)\n        {\n            yinzi.push_back(prime[i]);\n            while(n%prime[i]\u003d\u003d0)\n            \tn/\u003dprime[i];\n        }\n      \n    }\n    if(n\u0026gt;1)\n    \tyinzi.push_back(n);\n}\n\n\nll dfs(int i,ll n)\n{\n\tll tt\u003d0;\n\tfor(int p\u003di;p\u0026lt;yinzi.size();p++)\n\t{\n\t\ttt\u003d(tt+get(n/yinzi[p])*pow_mod(yinzi[p],4)%mod)%mod;\n\t\ttt\u003d(tt-dfs(p+1,n/yinzi[p])*pow_mod(yinzi[p],4)%mod+mod)%mod;\n\t}\n\treturn tt%mod;\n\n\n\n}\n\n\n\n\nvoid solve(ll n)\n{\n\n  \n\tgetfactor(n);\n\tll ans1\u003ddfs(0,n);\n\tll ans2\u003dget(n);\n\tll ans\u003d((ans2-ans1)%mod+mod)%mod;\n\n\n\tcout\u0026lt;\u0026lt;ans\u0026lt;\u0026lt;endl;\n\n\n\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nint main()\n{\n\tint T;\n\tscanf(\u0026quot;%d\u0026quot;,\u0026amp;T);\n\tgetprime();\n\n\twhile(T--)\n\t{\n\t\tll n;\n\t\tcin\u0026gt;\u0026gt;n;\n\t\tsolve(n);\n\n\n\n\n\t}\n\n\treturn 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":["math","dfs"]}}