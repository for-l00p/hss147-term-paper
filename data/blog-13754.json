{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1410534945,"rating":9,"authorHandle":"igor.pisarev","modificationTimeSeconds":1410540622,"id":13754,"title":"\u003cp\u003eSPOJ — Saving BOB\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI\u0027m trying to solve \u003ca href\u003d\"http://www.spoj.com/problems/DCEPCA06/\"\u003ethis problem\u003c/a\u003e but got stuck.\u003c/p\u003e\u003cp\u003eBriefly, we are asked to count \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e\u003c/span\u003e-digit numbers such that the absolute difference in the adjacent digits is greater than or equal to \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e\u003c/span\u003e.\u003cbr /\u003eConstraints: \u003cspan class\u003d\"tex-span\"\u003e2 ≤ \u003ci\u003eN\u003c/i\u003e ≤ 10\u003csup class\u003d\"upper-index\"\u003e9\u003c/sup\u003e\u003c/span\u003e, \u003cspan class\u003d\"tex-span\"\u003e0 ≤ \u003ci\u003eK\u003c/i\u003e ≤ 9\u003c/span\u003e. Answer should be calculated modulo \u003cspan class\u003d\"tex-span\"\u003e10\u003csup class\u003d\"upper-index\"\u003e9\u003c/sup\u003e + 7\u003c/span\u003e.\u003cbr /\u003e\u003cbr /\u003e I tried to derive some recurrence relations for the number of possible combinations of \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e digits, and then calculate the answer by matrix binary exponentiation technique.\u003c/p\u003e\u003cp\u003eSome first formulas are:\u003cbr /\u003e \u003cb\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e \u003d 9\u003c/span\u003e\u003c/b\u003e: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 1\u003c/sub\u003e \u003d 1\u003c/span\u003e (no leading zeroes so the only option is \u003cspan class\u003d\"tex-span\"\u003e90909...\u003c/span\u003e)\u003cbr /\u003e \u003cb\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e \u003d 8\u003c/span\u003e\u003c/b\u003e: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 1\u003c/sub\u003e + \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 2\u003c/sub\u003e\u003c/span\u003e (as Fibonacci but with different base values, which can be found using brute-force, for instance)\u003cbr /\u003e \u003cb\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e \u003d 7\u003c/span\u003e\u003c/b\u003e: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e \u003d 2·\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 1\u003c/sub\u003e + \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 2\u003c/sub\u003e – \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 3\u003c/sub\u003e\u003c/span\u003e\u003cbr /\u003e \u003cb\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e \u003d 6\u003c/span\u003e\u003c/b\u003e: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e \u003d 2·\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 1\u003c/sub\u003e + 3·\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 2\u003c/sub\u003e – \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 3\u003c/sub\u003e – \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 4\u003c/sub\u003e\u003c/span\u003e\u003cbr /\u003e \u003cb\u003e\u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e \u003d 5\u003c/span\u003e\u003c/b\u003e: \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e \u003d 3·\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 1\u003c/sub\u003e + 3·\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 2\u003c/sub\u003e – 4·\u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 3\u003c/sub\u003e – \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 4\u003c/sub\u003e – \u003ci\u003eF\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e – 5\u003c/sub\u003e\u003c/span\u003e\u003cbr /\u003e\u003c/p\u003e\u003cp\u003eBut then it becomes more complicated. For example, when \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eK\u003c/i\u003e \u003d 4\u003c/span\u003e and current digit is \u003cspan class\u003d\"tex-span\"\u003e5\u003c/span\u003e, you can continue with \u003cspan class\u003d\"tex-span\"\u003e0, 1\u003c/span\u003e и \u003cspan class\u003d\"tex-span\"\u003e9\u003c/span\u003e, so it isn\u0027t clear to me how the number of combinations changes now.\u003c/p\u003e\u003cp\u003eIf there exists a simplier solution, please share it or just give a hint.\u003c/p\u003e\u003c/div\u003e","tags":["spoj","combinatorics","dp"]}}