{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1409423514,"rating":17,"authorHandle":"Totktonada","modificationTimeSeconds":1409423633,"id":13637,"title":"\u003cp\u003eКогда хочется задефайнить сканф сином...\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eСобственно заголовок говорит сам за себя \u003d) В очередной раз получил ТЛ из-за сина. Что в этом случае делает нормальный человек? Переходит наконец на сканф/принтф. Что делаю я? Пишу какую-то ересь, которая подменяет одно другим.\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#ifdef WIN32\n#define LLD \u0026quot;%I64d\u0026quot;\n#else\n#define LLD \u0026quot;%l\u0026quot; \u0026quot;ld\u0026quot;\n#endif\n#define cin mycin\n#define cout mycout\n#define endl \u0027\\n\u0027\nstruct io {\nio operator» (int\u0026amp; x) {scanf(\u0026quot;%d\u0026quot;,\u0026amp;x); return *this; }\nio operator» (LL\u0026amp; x) {scanf(LLD,\u0026amp;x); return *this; }\nio operator» (double\u0026amp; x) {scanf(\u0026quot;%lf\u0026quot;,\u0026amp;x); return *this; }\nio operator» (char\u0026amp; x) {scanf(\u0026quot;%c\u0026quot;,\u0026amp;x); return *this; }\nio operator» (char* x) {scanf(\u0026quot;%s\u0026quot;,x); return *this; }\nio operator» (string\u0026amp; x) {scanf(\u0026quot;%s\u0026quot;,x.c_str()); return *this; }\nio operator« (int x) {printf(\u0026quot;%d\u0026quot;,x); return *this; }\nio operator« (LL x) {printf(LLD,x); return *this; }\nio operator« (double x) {printf(\u0026quot;%.8lf\u0026quot;,x); return *this; }\nio operator« (char x) {printf(\u0026quot;%c\u0026quot;,x); return *this; }\nio operator« (char* x) {printf(\u0026quot;%s\u0026quot;,x); return *this; }\nio operator« (string x) {printf(\u0026quot;%s\u0026quot;,x.c_str()); return *this; }\n};\nio cin, cout;\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eВряд ли этот адовый ад стоит использовать в жизни. Но чисто теоретически интересно: будет ли это работать достаточно быстро? Или такая структура существенно утяжеляет \u0026quot;голые\u0026quot; сканф/принтф? И, возможно, стоит как-то пошаманить с typeof и сделать несколько кейсов внутри одной перегрузки, чем писать 100500 их? В общем, интересно, насколько оптимальным это может быть.\u003c/p\u003e\u003c/div\u003e","tags":["scanf","cin","никто не читает тэги"]}}