{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1485688005,"rating":0,"authorHandle":"Algiz","modificationTimeSeconds":1485688005,"id":50097,"title":"\u003cp\u003eРешение I\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;cstdio\u0026gt;\n#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n\n#define N\n#define pb push_back\n#define mp make_pair\n\nusing namespace std;\n\n\nint mod \u003d 1e9 + 7;\nint f[1111];\n\n\nint bin(int a, int n) {\n\tint res \u003d 1;\n\twhile(n) {\n\t\tif(n \u0026amp; 1) res \u003d 1ll * res * a % mod;\n\t\ta \u003d 1ll * a * a % mod;\n\t\tn \u0026gt;\u0026gt;\u003d 1;\n\t}\n\treturn res;\n}\n\nint C(int n, int k) {\n\treturn f[n] * 1ll * bin(f[k], mod - 2) % mod * bin(f[n - k], mod - 2) % mod;\n}\n\nint n, k, m;\nint c[1111];\n\ndouble dp[1111][1111];\nint ways[1111][1111];\n\nint main() {\n\t//freopen(\u0026quot;in\u0026quot;,\u0026quot;r\u0026quot;,stdin);\n\tios_base::sync_with_stdio(false);\n\tcin.tie(0);\n\tf[0] \u003d 1;\n\tfor(int i \u003d 1; i \u0026lt;\u003d 1100; ++i) {\n\t\tf[i] \u003d 1ll * f[i - 1] * i % mod;\n\t}\n\tcin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m \u0026gt;\u0026gt; k;\n\tfor(int i \u003d 1; i \u0026lt;\u003d n; ++i) {\n\t\tint x;\n\t\tcin\u0026gt;\u0026gt;x;\n\t\tc[x] ++;\n\t}\n\tsort(c + 1, c + m + 1);\n\tint cnt \u003d 0;\n\tint f \u003d -1;\n\tfor(int i \u003d 1; i \u0026lt;\u003d m; ++i) {\n\t\tcnt +\u003d c[i];\n\t\tif(cnt \u0026gt; k) { f \u003d i; break; }\n\t}\n\tif(f \u003d\u003d -1) {\n\t\tcout \u0026lt;\u0026lt; 1;\n\t\treturn 0;\n\t}\n\tcnt -\u003d c[f];\n\n\tint count \u003d upper_bound(c + 1, c + m + 1, c[f]) - lower_bound(c + 1, c + m + 1, c[f]);\n\tint taken \u003d f + c - lower_bound(c + 1, c + m + 1, c[f]);\n\tint topick \u003d taken * c[f] + k - cnt; \n\n\tint ans \u003d 1ll * C(count * c[f], topick) % mod;\n\tcout \u0026lt;\u0026lt; ans;\n\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}