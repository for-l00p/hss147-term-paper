{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1521095601,"rating":0,"authorHandle":"strawberrry","modificationTimeSeconds":1521095601,"id":58371,"title":"\u003cp\u003eRound #234 solution （particle）\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003ch3\u003eD. Dima and Bacteria\u003c/h3\u003e \u003cblockquote\u003e\u003cp\u003e\u003cstrong\u003e分类：\u003c/strong\u003e \u003ccode\u003edsu\u003c/code\u003e \u003ccode\u003egraphs\u003c/code\u003e \u003ccode\u003eshortest path\u003c/code\u003e\u003c/p\u003e \u003c/blockquote\u003e\u003ch5\u003eDescription\u003c/h5\u003e\u003cp\u003e有 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e (1 ≤ \u003ci\u003en\u003c/i\u003e ≤ 10\u003csup class\u003d\"upper-index\"\u003e5\u003c/sup\u003e)\u003c/span\u003e 个点，属于 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e (1 ≤ \u003ci\u003ek\u003c/i\u003e ≤ 500)\u003c/span\u003e 个集合，其中集合内的点距离为0，集合间的点有距离，现在给你 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e (1 ≤ \u003ci\u003em\u003c/i\u003e ≤ 10\u003csup class\u003d\"upper-index\"\u003e5\u003c/sup\u003e)\u003c/span\u003e 对点的关系，同时告诉你这 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e 个集合的点的数量和标号，问你这个图是否合法，如果合法则输出这 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e 个集合构成的距离矩阵（元素值为两两间的最短路）\u003c/p\u003e\u003ch5\u003eSolution\u003c/h5\u003e\u003cp\u003e先并查集处理这 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e\u003c/span\u003e 对关系，再判一遍集合内的点是否在一个并查集内，不在则不合法，最后处理一遍合法情况下的最短路！\u003c/p\u003e\u003ch5\u003eCode\u003c/h5\u003e\u003cp\u003e\u003ca href\u003d\"/group/oQtXiLyxgw/contest/400/submission/36270045\" title\u003d\"Submission 36270045 by strawberrry\"\u003e36270045\u003c/a\u003e\u003c/p\u003e\u003ch3\u003eE. Inna and Binary Logic\u003c/h3\u003e \u003cblockquote\u003e\u003cp\u003e\u003cstrong\u003e分类：\u003c/strong\u003e \u003ccode\u003ebrute force\u003c/code\u003e \u003ccode\u003emath\u003c/code\u003e\u003c/p\u003e \u003c/blockquote\u003e\u003ch5\u003eDescription\u003c/h5\u003e\u003cp\u003e初始给你长度为 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e (1 ≤ \u003ci\u003en\u003c/i\u003e ≤ 10\u003csup class\u003d\"upper-index\"\u003e5\u003c/sup\u003e)\u003c/span\u003e 大小的数组，现在会执行一种操作持续 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/span\u003e 轮，每次 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e \u003d \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e - 1, \u003ci\u003ej\u003c/i\u003e\u003c/sub\u003e \u0026amp; \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e - 1, \u003ci\u003ej\u003c/i\u003e + 1\u003c/sub\u003e\u003c/span\u003e 执行下去，每轮求一个和，直到只剩下一个数，每一轮的答案加起来就是总和答案。现在增加修改操作，总共有 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003em\u003c/i\u003e (1 ≤ \u003ci\u003em\u003c/i\u003e ≤ 10\u003csup class\u003d\"upper-index\"\u003e5\u003c/sup\u003e)\u003c/span\u003e 次修改，每次输入 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e \u003ci\u003ev\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e 表示把第 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e 个数修改成 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e 再去执行这个过程，并询问总和答案！\u003c/p\u003e\u003ch5\u003eSolution\u003c/h5\u003e\u003cp\u003e画出这个过程，我们按位考虑，每一段连续的 \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e，假设长度为 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ex\u003c/i\u003e\u003c/span\u003e 那么，对答案的贡献容易发现也是个三角形， \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/cb/b6/cbb6bc116558d48588aa745fa98a59a2a24ec2ec.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e ，而同样我们修改时候，假设会影响到二进制的第 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e 位，那么也可以顺便统计一下它连续左侧和右侧的 \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e ，不妨记为 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003el\u003c/i\u003e\u003c/span\u003e 和 \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003er\u003c/i\u003e\u003c/span\u003e ，同样可以推出来对答案的贡献就是 \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003el\u003c/i\u003e + \u003ci\u003er\u003c/i\u003e + 1 + \u003ci\u003el\u003c/i\u003e × \u003ci\u003er\u003c/i\u003e) × 2\u003csup class\u003d\"upper-index\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/sup\u003e\u003c/span\u003e ！\u003c/p\u003e\u003ch5\u003eCode\u003c/h5\u003e\u003cp\u003e\u003ca href\u003d\"/group/oQtXiLyxgw/contest/400/submission/36273585\" title\u003d\"Submission 36273585 by strawberrry\"\u003e36273585\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e","tags":[]}}