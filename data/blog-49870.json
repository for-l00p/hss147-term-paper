{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1484829048,"rating":0,"authorHandle":"toxzi","modificationTimeSeconds":1484829089,"id":49870,"title":"\u003cp\u003eДейкстра\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef pair \u0026lt;int, int\u0026gt; pii;\n\n#define pb push_back\n#define mp make_pair\n\nint n, m;\nvector\u0026lt; pair\u0026lt;int, int\u0026gt; \u0026gt; g[100000];\nint d[100000] \u003d {};\nint p[100000] \u003d {};\nchar used[100000] \u003d {};\nconst int INF \u003d 1000000000;\n\nint main()\n{\n\tcin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; m;\n\tfor(int i \u003d 0; i \u0026lt; m; i++){\n\t\tint from, to, len;\n\t\tcin \u0026gt;\u0026gt; from \u0026gt;\u0026gt; to \u0026gt;\u0026gt; len;\n\t\tg[from \u0026amp;mdash; 1].push_back(make_pair(to \u0026amp;mdash; 1, len));\n\t\tg[to \u0026amp;mdash; 1].push_back(make_pair(from \u0026amp;mdash; 1, len));\n\t}\n\tint start;\n\tcin \u0026gt;\u0026gt; start;\n\tfor(int i \u003d 0; i \u0026lt; n; i++) d[i] \u003d INF;\n\td[start \u0026amp;mdash; 1] \u003d 0;\n\tp[start \u0026amp;mdash; 1] \u003d -1;\n\tfor(int i \u003d 0; i \u0026lt; n; i++){\n\t\tint v \u003d -1;\n\t\tfor(int j \u003d 0; j \u0026lt; n; j++){\n\t\t\tif(v \u003d\u003d -1 || (!used[j] \u0026amp;\u0026amp; d[j] \u0026lt; d[v])) v \u003d j;\n\t\t}\n\t\tused[v] \u003d true;\n\t\tfor(int j \u003d 0; j \u0026lt; (int)g[v].size(); j++){\n\t\t\tint to \u003d g[v][j].first;\n\t\t\tint len \u003d g[v][j].second;\n\t\t\tif(d[to] \u0026gt; d[v] + len){\n\t\t\t\td[to] \u003d d[v] \u003d len;\n\t\t\t\tp[to] \u003d v;\n\t\t\t}\n\t\t}\n\t}\n\tint fin;\n\tcin \u0026gt;\u0026gt; fin;\n\tif(d[fin \u0026amp;mdash; 1] \u003d\u003d INF) cout \u0026lt;\u0026lt; \u0026quot;Error\u0026quot; \u0026lt;\u0026lt; endl;\n\telse{\n\t\tvector\u0026lt;int\u0026gt; path;\n\t\tfor(int v \u003d fin \u0026amp;mdash; 1; v !\u003d -1; v \u003d p[v]){\n\t\t\tpath.push_back(v);\n\t\t}\n\t\treverse(path.begin(), path.end());\n\t\tcout \u0026lt;\u0026lt; d[fin \u0026amp;mdash; 1] \u0026lt;\u0026lt; endl;\n\t\tfor(auto u: path){\n\t\t\tcout \u0026lt;\u0026lt; u \u0026lt;\u0026lt; \u0027 \u0027;\n\t\t}\n\t}\n\t\n    return 0;\n}\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}