{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1415315656,"rating":3,"authorHandle":"Konstantin.Zakharov","modificationTimeSeconds":1415315656,"id":14623,"title":"\u003cp\u003eЗагадка на C++\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eЗдравствуйте. Сегодня я пробовал сдавать задачи без своей visual studio 2012, используя \u003ca href\u003d\"http://ideone.com/\"\u003eideone.com\u003c/a\u003e. У меня не заработало \u003ca href\u003d\"http://ideone.com/ExjUGD\"\u003eBinary Search Tree\u003c/a\u003e, написанное на векторе. Точнее, оно выдавало неправильные ответы. После некоторого упрощения, тот же код стал давать ошибку исполнения. \u003c/p\u003e\u003cp\u003eПосле нескольких тщетных попыток понять в чем дело я скопировал код в студию, поставил несколько точек останова, начал отладку. Все верно. Убрал точки, запустил — а оно работает.\u003c/p\u003e\u003cp\u003eПоменял конфигурацию Debug на Release, запустил — ошибка исполнения.\u003c/p\u003e\u003cp\u003eПопробовал скомпилировать на MinGW 4.8.1 (tdm-2) — ошибка исполнения, независимо от наличия флага -O.\u003c/p\u003e\u003cp\u003eCделал пример как можно меньше, но даже после этого результат прежний — signal 11 (SIGSEGV), обращение к не принадлежащей области памяти.\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;vector\u0026gt;\n\nnamespace Ex {\n\n  std::vector\u0026lt;int\u0026gt; next; // next[i] \u003d index of next element. -1 if it\u0027s not exist\n\n  int rec(int ind \u003d 0) {\n    if( ind \u003d\u003d -1 ) {\n      next.push_back(-1);\n      return next.size() - 1;\n    }\n    next[ind] \u003d rec(next[ind]);    \n    return ind;\n  }\n\n}\n\nint main() {\n\n  Ex::next.push_back(-1);\n\n  for(int i \u003d 0; i \u0026lt; 20; i++)\n    Ex::rec();\n\n  // expected Ex::next states\n  // -1\n  // 1 -1\n  // 1 2 -1\n  // 1 2 3 -1\n  // ...\n  // 1 2 3 ... 20 -1\n\n  return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eЯ уже понял, что на ideone мне лучше не писать, но все-таки, может кто-то объяснит в чем дело, или все же на этот раз виновен компилятор?) Самому не очень верится, т.к. впервые вижу чтобы не работало на обоих.\u003c/p\u003e\u003c/div\u003e","tags":["runtime error","c++","бои без правил"]}}