{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1465536683,"rating":0,"authorHandle":"puss_in_boots","modificationTimeSeconds":1465536683,"id":45345,"title":"\u003cp\u003eSolution\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\nusing namespace std;\nint n; int a[2222];\nint b[2222];\nint dp[2222][2222];\nint sdp[2222][2222];\nint mod \u003d 2017;\nint main(){\n\t//freopen(\u0026quot;in\u0026quot;,\u0026quot;r\u0026quot;,stdin);\n\tcin\u0026gt;\u0026gt;n;\n\tfor(int i\u003d0;i\u0026lt;n;i++){\n\t\tcin\u0026gt;\u0026gt;a[i];\n\t}\n\tfor(int i\u003dn-2;i\u0026gt;\u003d0;i--){\n\t\ta[i] \u003d min(a[i],a[i+1]);\n\t}\n\n\tint step \u003d 0;\n\tfor(int i\u003d0;i\u0026lt;n;i++){\n\t\ta[i] \u003d a[i]%mod;\n\t\ta[i] +\u003dstep*mod;\n\t\tstep++;\n\t\t\n\t}\n\tfor(int i\u003d0;i\u0026lt;n;i++){\n\t\t//cout\u0026lt;\u0026lt;a[i]\u0026lt;\u0026lt;\u0026quot; \u0026quot;;\n\t}\n\tfor(int i\u003d0;i\u0026lt;\u003dmin(mod,a[n-1]);i++){\n\t\tdp[n-1][i] \u003d 1;\n\t\tif(i\u0026gt;0)\n\t\t\tsdp[n-1][i] \u003d (sdp[n-1][i-1]+1)%mod;\n\t\telse sdp[n-1][i] \u003d 1;\n\t}\n\tfor(int i \u003d n-2;i\u0026gt;\u003d0;i--){\n\t\tfor(int j \u003d 0;j\u0026lt;mod;j++){\n\t\t\tdp[i][j] \u003d (sdp[i+1][a[i+1]%mod] + (a[i+1]-j)/mod*sdp[i+1][mod-1])%mod; if(j\u0026gt;0) dp[i][j] \u003d (dp[i][j]-sdp[i+1][j-1]+mod)%mod;\n\t\t\tif(j\u0026gt;0)\n\t\t\t\tsdp[i][j] \u003d (sdp[i][j-1]+dp[i][j])%mod;\n\t\t\telse{\n\t\t\t\tsdp[i][j] \u003d dp[i][j];\n\t\t\t}\n\t\t}\n\t}\n\tcout\u0026lt;\u0026lt;sdp[0][a[0]];\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}