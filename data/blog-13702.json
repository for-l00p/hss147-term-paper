{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1409995666,"rating":2,"authorHandle":"Magikarp","modificationTimeSeconds":1409996501,"id":13702,"title":"\u003cp\u003eHow do I speed up my solution? spoj MATCHING. \u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eHi I am getting TLE in the 7th test case. How do I optimize my code? Problem link: \u003ca href\u003d\"http://www.spoj.com/problems/MATCHING/\"\u003ehttp://www.spoj.com/problems/MATCHING/\u003c/a\u003e\u003c/p\u003e \u003cpre\u003e#include\u0026lt;cstdio\u0026gt;\n    #include\u0026lt;algorithm\u0026gt;\n    #include\u0026lt;iostream\u0026gt;\n    #include\u0026lt;vector\u0026gt;\n    #include\u0026lt;set\u0026gt;\n    #include\u0026lt;cstring\u0026gt;\n\n    using namespace std;\n\n    #define in(a) scanf(\u0026quot;%d\u0026quot;,\u0026amp;a);\n    #define pb push_back\n\n    vector \u0026lt;int\u0026gt; G[50000+5];\n    bool seen[50000+5];\n    int matchL[50000+5],matchR[50000+5],A[50000+5];\n    int n,m;\n\n    bool bpm(int u)\n    {\n        for(int i\u003d0;i\u0026lt;G[u].size();i++)\n        {\n            int v\u003dG[u][i];\n            if(seen[v])\n                continue;\n            seen[v]\u003dtrue;\n\n            if(matchR[v]\u0026lt;0 || bpm( matchR[v] ))\n            {\n                matchR[v]\u003du;\n                matchL[u]\u003dv;\n                return true;\n            }\n\n\n        }\n        return false;\n    }\n\n    int main()\n    {\n        int n,m,p;\n        set\u0026lt;int\u0026gt; row;\n        set\u0026lt;int\u0026gt; col;\n        set\u0026lt;int\u0026gt;::iterator it;\n\n        int pos\u003d0;\n        in(n);in(m);in(p);\n        while(p--)\n        {\n            int x,y;\n            in(x);in(y);\n            if(row.find(x)\u003d\u003drow.end()){\n                row.insert(x);\n                A[pos++]\u003dx;\n            }\n\n\n            G[x].pb(y);\n        }\n\n        /*for(int i\u003d0;i\u0026lt;10;i++)\n            cout\u0026lt;\u0026lt;A[i]\u0026lt;\u0026lt;\u0026quot; \u0026quot;;\n        cout\u0026lt;\u0026lt;endl;*/\n\n        memset(matchL,-1,sizeof(matchL));\n        memset(matchR,-1,sizeof(matchR));\n\n\n        m\u003drow.size();\n        //n\u003dB.size();\n        int cnt\u003d0;\n\n        for(int i\u003d0;i\u0026lt;m;i++)\n        {\n            memset(seen,0,sizeof(seen));\n\n                if( bpm( A[i] ) )\n                    cnt++;\n\n        }\n        printf(\u0026quot;%d\\n\u0026quot;,cnt);\n\n        return 0;\n    }\u003c/pre\u003e\u003c/div\u003e","tags":["spoj","matching","tle"]}}