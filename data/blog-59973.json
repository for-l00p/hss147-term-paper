{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1528789766,"rating":-8,"authorHandle":"TooMath","modificationTimeSeconds":1528791260,"id":59973,"title":"\u003cp\u003eОшибка в дерево отрезков\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eВсем привет изучаю дерево отрезков и я решил решить простую задачу на дерево отрезков и система выдаёт вердикт с ограничением памяти. Пожалуйста помогите найти мою ошибку ! \u003c/p\u003e\u003cp\u003eВот задача \u003ca href\u003d\"https://www.e-olymp.com/ru/problems/2941\"\u003ehttps://www.e-olymp.com/ru/problems/2941\u003c/a\u003e\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e //ID:computerbox --\u0026gt; Hajiyev Huseyn\n#include \u0026lt;bits/stdc++.h\u0026gt;\n#pragma comment(linker, \u0026quot;/stack:200000000\u0026quot;)\n#pragma GCC optimize(\u0026quot;Ofast\u0026quot;)\n#define FAST_READ ios_base::sync_with_stdio(0);/*cin.tie(0); cout.tie(0);*/\n#define ll int\n#define all(x) (x).begin(), (x).end()\n#define endl \u0026quot;\\n\u0026quot;\n#define MAXN 500010\n\nusing namespace std;\n\n\n\n\nll n,q;\n\nll t[4*MAXN];\nll massiv[4*MAXN];\n\n\nvoid build(ll massiv[],ll v,ll l,ll r)\n{\n  if(l\u003d\u003dr)\n  {\n    t[v]\u003dmassiv[l];\n    return ;\n  }\n  ll mid\u003dl+(r-l)/2;\n  build(massiv,v*2,l,mid);\n  build(massiv,v*2+1,mid+1,r);\n  t[v]\u003dt[v*2]+t[v*2+1];\n}\n\nvoid update(ll v,ll x,ll kuda,ll l,ll r)\n{\n  if(l\u003d\u003dr)\n  {\n    t[v]\u003dx;\n    return ;\n  }\n  ll mid\u003dl+(r-l)/2;\n  if(kuda\u0026lt;\u003dmid)update(v*2,x,kuda,l,mid);\n  else update(v*2+1,x,kuda,mid+1,r);\n  t[v]\u003dt[v*2]+t[v*2+1];\n}\n\n\n\n\nll sum(ll v,ll l,ll r,ll nac,ll konec)\n{\n  if(nac\u0026gt;konec)return 0;\n  if(l\u003d\u003dnac \u0026amp;\u0026amp; r\u003d\u003dkonec)\n  {\n     return t[v];\n  }\n  ll mid\u003dl+(r-l)/2;\n  return sum(v*2,l,mid,nac,min(konec,mid))+sum(v*2+1,mid+1,r,max(nac,mid+1),konec);\n}\n\n\nchar x;\nll xx,yy;\nint main(){\nFAST_READ;\ncin.tie(0);\ncin\u0026gt;\u0026gt;n\u0026gt;\u0026gt;q;\nfor(ll i\u003d1;i\u0026lt;\u003dn;i++)cin\u0026gt;\u0026gt;massiv[i];\nbuild(massiv,1,1,n);\nwhile(q--)\n{\n  cin\u0026gt;\u0026gt;x\u0026gt;\u0026gt;xx\u0026gt;\u0026gt;yy;\n  if(x\u003d\u003d\u0027?\u0027)\n  {\n    cout\u0026lt;\u0026lt;sum(1,xx,yy,1,n)\u0026lt;\u0026lt;endl;\n  }\n  else if(x\u003d\u003d\u0027\u003d\u0027)\n  {\n    update(1,yy,xx,1,n);\n  }\n}\nreturn 0;\n} \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","tags":[]}}