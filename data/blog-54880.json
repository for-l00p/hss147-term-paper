{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1506868767,"rating":0,"authorHandle":"yassin_","modificationTimeSeconds":1506870217,"id":54880,"title":"\u003cp\u003e[Solved] Need help: Anthony and Cora — Kattis\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI am stuck on this \u003ca href\u003d\"https://open.kattis.com/problems/anthony\"\u003eproblem\u003c/a\u003e\u003c/p\u003e\u003cp\u003eBasically: p1 has N points, p2 has M points. They play \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e + \u003ci\u003eM\u003c/i\u003e - 1\u003c/span\u003e rounds. \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eN\u003c/i\u003e, \u003ci\u003eM\u003c/i\u003e ≤ 1000\u003c/span\u003e. The player who gets zero first loses.\u003c/p\u003e\u003cp\u003ep1 knows the probability of winning each round \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ep\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, the loser gets 1 point subtracted.\u003c/p\u003e\u003cp\u003eI can only think of dp in O((N+M)*N*M), but it gets TLE\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003emy code\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e        int N, M;\n\tcin \u0026gt;\u0026gt; N \u0026gt;\u0026gt; M;\n\tvector\u0026lt;vector\u0026lt;double\u0026gt;\u0026gt; dp(N + 1, vector\u0026lt;double\u0026gt;(M + 1, 0.));\n\tdp[N][M] \u003d 1.;\n\tfor (int i \u003d 0; i \u0026lt; N + M - 1; ++i) {\n\t\tdouble p;\n\t\tcin \u0026gt;\u0026gt; p;\n\n\t\tfor (int i \u003d 0; i \u0026lt;\u003d N; ++i) {\n\t\t\tfor (int j \u003d 0; j \u0026lt;\u003d M; ++j) {\n\t\t\t\tif (i \u0026gt; 0 \u0026amp;\u0026amp; j \u0026gt; 0) dp[i][j] \u003d 0.;\n\t\t\t\tif (j \u0026gt; 0 \u0026amp;\u0026amp; i + 1 \u0026lt;\u003d N) dp[i][j] +\u003d dp[i + 1][j] * (1. - p);\n\t\t\t\tif (i \u0026gt; 0 \u0026amp;\u0026amp; j + 1 \u0026lt;\u003d M) dp[i][j] +\u003d dp[i][j + 1] * p;\n\t\t\t}\n\t\t}\n\t}\n\n\tdouble win \u003d 0., lose \u003d 0.;\n\tfor (int i \u003d 1; i \u0026lt;\u003d N; ++i) {\n\t\twin +\u003d dp[i][0];\n\t}\n\tfor (int j \u003d 1; j \u0026lt;\u003d M; ++j) {\n\t\tlose +\u003d dp[0][j];\n\t}\n\tcout.precision(17);\n\tcout \u0026lt;\u0026lt; fixed \u0026lt;\u0026lt; win / (win + lose) \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003eAny help is appreciated :)\u003c/p\u003e\u003c/div\u003e","tags":["kattis","anthony","probability","dp?"]}}