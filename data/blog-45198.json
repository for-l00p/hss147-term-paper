{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1464913266,"rating":589,"authorHandle":"MikeMirzayanov","modificationTimeSeconds":1464914582,"id":45198,"title":"\u003cp\u003eBlack Day of Polygon: 02.06.2016\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eToday, June 2, 2016 year, there was a technical failure, which I will remember for a long time. Several factors led to a serious malfunction of the Polygon system.\u003c/p\u003e\u003cp\u003eThe fact that in the middle of May Polygon was transferred to servers located in Mail.Ru data centers. To transfer with almost no downtime (Polygon has a lot of data, about a terabyte) lsyncd utility has been used, which quickly pushed the file changes from the old server to the new one.\u003c/p\u003e\u003cp\u003eToday there was a reboot of the old server, which forced the unplanned start of lsyncd daemon. As a result it did the synchronization of data from the old server to the new again. So, data stored in the file system have been rolled back to the transfer time (May 13). The most unlucky fast that, unlike the old server where the backups system was set up well and reliable, on the new server, I quickly managed to set up only replication using the same lsyncd, which does not help in the incident of files deletion (as it forces the removals on the replica). Obviously, RAID-1 disks didn\u0027t save the data.\u003c/p\u003e\u003cp\u003eAs a result, all file changes in the Polygon system made in three-week period were lost. Some information (statements, etc) is stored in the database, so accessible.\u003c/p\u003e\u003cp\u003eThis night I urgently implemented the special link \u0026quot;Scraps\u0026quot; to download the archive with the available data. If a problem has been used in the Codeforces infrastructure, the packages remain in its cache of the judging system, they are available in archive.\u003c/p\u003e\u003cp\u003eI feel lousy realizing that my lack of attention to detail has led to such consequences. I distinctly remember the black day of Codeforces â€” and as a result many things have been much revised (everywhere mirrored disk arrays, replicas and backups). Unfortunately, this time after moving to new hardware I did not return all scripts and here is the result. Problem writers please accept my deepest apologies for my mistake.\u003c/p\u003e\u003c/div\u003e","tags":["polygon","black day"]}}