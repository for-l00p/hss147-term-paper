{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1411672212,"rating":3,"authorHandle":"HolkinPV","modificationTimeSeconds":1411672715,"id":13966,"title":"\u003cp\u003eРазбор задач Тренировки №1\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201322/problem/A\"\u003eA. Камни на столе\u003c/a\u003e\u003c/p\u003e\u003cp\u003eВ этой задаче нужно было посчитать количество пар подряд идущих одинаковых букв. Это можно сделать в один цикл за время \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e)\u003c/span\u003e, сравнив \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e-ый символ и \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e + 1\u003c/span\u003e для всех \u003cspan class\u003d\"tex-span\"\u003e1 ≤ \u003ci\u003ei\u003c/i\u003e ≤ \u003ci\u003en\u003c/i\u003e - 1\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201322/problem/B\"\u003eB. Красивая матрица\u003c/a\u003e\u003c/p\u003e\u003cp\u003eНужно было найти единственную единицу, если она стоит на пересечении r-ой строки и c-го столбца (в 1-индексации), то ответ: \u003cspan class\u003d\"tex-span\"\u003e|3  -  \u003ci\u003er\u003c/i\u003e|  +  |3  -  \u003ci\u003ec\u003c/i\u003e|\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201322/problem/C\"\u003eC. Суперцентральная точка\u003c/a\u003e\u003c/p\u003e\u003cp\u003eВ этой задаче нужно было реализовать то, что написано в условии. Для каждой точки отдельно проверим, является ли она суперцентральной. Для этого переберем все остальные точки и проверим, что у неё нашелся бы один сосед с каждой из сторон. Решение можно реализовать за время \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003eN\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e2\u003c/sup\u003e)\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201322/problem/D\"\u003eD. Прекрасная рандомизированная сумма\u003c/a\u003e\u003c/p\u003e\u003cp\u003eЗадача решается за линейное время следующим образом:\u003c/p\u003e\u003cp\u003e1) Если искомые префикс и суффикс пересекаются, то общая их часть остается с искомым знаком, и следовательно этот случай эквивалентен случаю когда взяты те же суффикс и префикс, но без общей части, например: (s1 [s2 )s3 ] эквивалентно (s1)s2[s3] (s1,s2,s3 — некоторые подпоследовательности).\u003c/p\u003e\u003cp\u003e2) Пусть сумма последовательности элементов \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e, \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e, ...\u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e равна \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e\u003c/span\u003e. Тогда при инвертации знаков получаем \u003cspan class\u003d\"tex-span\"\u003e - \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e1\u003c/sub\u003e,  - \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e2\u003c/sub\u003e, ... - \u003ci\u003ea\u003c/i\u003e\u003csub class\u003d\"lower-index\"\u003e\u003ci\u003en\u003c/i\u003e\u003c/sub\u003e\u003c/span\u003e, а сумма соответственно изменяется на \u003cspan class\u003d\"tex-span\"\u003e - \u003ci\u003eS\u003c/i\u003e\u003c/span\u003e, то есть сумма чисел на отрезке при инвертации просто изменит свой знак.\u003c/p\u003e\u003cp\u003e3) Исходную задачу можно рассмотреть в таком ракурсе: нужно выбрать из последовательности непрерывную подпоследовательность (ту, что останется между префиксом и суффиксом), а вне ее инвертировать все числа. \u003c/p\u003e\u003cp\u003eТогда если сумма чисел всей последовательности равна \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e\u003c/span\u003e, а сумма выбранной подпоследовательности \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e1\u003c/span\u003e, то итоговая сумма даст \u003cspan class\u003d\"tex-span\"\u003e - (\u003ci\u003eS\u003c/i\u003e - \u003ci\u003eS\u003c/i\u003e1) + \u003ci\u003eS\u003c/i\u003e1 \u003d 2 * \u003ci\u003eS\u003c/i\u003e1 - \u003ci\u003eS\u003c/i\u003e\u003c/span\u003e — это и есть та самая величина, которую нужно максимизировать. \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e - \u003c/span\u003e постоянная, \u003d\u0026gt; нужно максимизировать \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eS\u003c/i\u003e1\u003c/span\u003e, т.е. найти в заданной последовательности непрерывную подпоследовательность с максимальной суммой, а это делается линейно:\u003c/p\u003e \u003cpre\u003emx \u003d 0;\nfor(i\u003d0;i\u0026lt;n;++i)\n{\n    sum +\u003d a[i];\n    if (sum \u0026lt; 0)\n        sum \u003d 0;\n    mx \u003d max(mx, sum);\n}\u003c/pre\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201322/problem/E\"\u003eE. Найти пару\u003c/a\u003e\u003c/p\u003e\u003cp\u003eПусть число \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e и массив a заданы в 0-нумерации, а сам массив отсортируем. Тогда если все числа различны, то очевидный ответ – это пара (a[k / n], a[k % n]), где операция % означает остаток по модулю. Однако, если в массиве есть повторяющиеся числа, то ситуация становится немного хитрее, рассмотрим пример: пусть дан массив \u003cspan class\u003d\"tex-span\"\u003e(1, 1, 2, 2)\u003c/span\u003e, тогда пары записаны следующим образом: \u003cspan class\u003d\"tex-span\"\u003e(1, 1), (1, 1), (1, 1), (1, 1), (1, 2), (1, 2), (1, 2), (1, 2), (2, 1), (2, 1), (2, 1), (2, 1), (2, 2), (2, 2), (2, 2), (2, 2)\u003c/span\u003e, каждая пара учитывается и никуда не девается, всегда рассматриваются ровно \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003en\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e2\u003c/sup\u003e\u003c/span\u003e пар чисел.\u003c/p\u003e\u003cp\u003eПо-прежнему верно, что первое число – это \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e[\u003ci\u003ek\u003c/i\u003e  /  \u003ci\u003en\u003c/i\u003e]\u003c/span\u003e. А второе число – это \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e[(\u003ci\u003ek\u003c/i\u003e–\u003ci\u003en\u003c/i\u003e·\u003ci\u003ecnt\u003c/i\u003e)  /  \u003ci\u003enum\u003c/i\u003e]\u003c/span\u003e, где \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ecnt\u003c/i\u003e\u003c/span\u003e – количество чисел в массиве строго меньших, чем \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e[\u003ci\u003ek\u003c/i\u003e  /  \u003ci\u003en\u003c/i\u003e]\u003c/span\u003e, а \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003enum\u003c/i\u003e\u003c/span\u003e – количество чисел в массиве, которые равны \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ea\u003c/i\u003e[\u003ci\u003ek\u003c/i\u003e  /  \u003ci\u003en\u003c/i\u003e]\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eВ этой формуле несложно убедиться, рассмотрев пару примеров с повторяющимися элементами. В крайнем случае, можно написать тривиальное решение за \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e\u003csup class\u003d\"upper-index\"\u003e2\u003c/sup\u003e·\u003ci\u003elog\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e))\u003c/span\u003e и убедиться, что вы правильно придумали формулу.\u003c/p\u003e\u003cp\u003eТест 3 имеет вид: в массиве \u003cspan class\u003d\"tex-span\"\u003e(1, 1, 2)\u003c/span\u003e нужно найти \u003cspan class\u003d\"tex-span\"\u003e3\u003c/span\u003e-ю по лексикографичности пару. Она равна \u003cspan class\u003d\"tex-span\"\u003e(1, 1)\u003c/span\u003e.\u003c/p\u003e\u003cp\u003e\u003ca href\u003d\"http://codeforces.ru/group/a4S4I425KW/contest/201322/problem/F\"\u003eF. Строковая задача\u003c/a\u003e\u003c/p\u003e\u003cp\u003eРешение предполагалось следующее: во первых, если длины строк не совпадали, то ответ очевидно -1. В противном случае для каждой позиции переберём букву, которую будем на нее ставить. Чтобы быстро узнать, в какую стоимость эта операция нам обойдется предподсчитаем матрицу размера \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eZ\u003c/i\u003e[26][26]\u003c/span\u003e, где в клетке \u003cspan class\u003d\"tex-span\"\u003e(\u003ci\u003ei\u003c/i\u003e, \u003ci\u003ej\u003c/i\u003e)\u003c/span\u003e будет записана минимальная цена перехода из \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ei\u003c/i\u003e\u003c/span\u003e-ой буквы алфавита в \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ej\u003c/i\u003e\u003c/span\u003e-ую. Для этого воспользуемся, например, алгоритмом Флойда. \u003c/p\u003e\u003cp\u003eЕсли по причине отсутствия переходов в какой то позиции в строке мы не найдем хотя бы одной подходящей буквы, то выводим -1. Иначе для каждой позиции находим самую дешевую по переходам букву, суммируем ответ и выводим получившуюся строку.\u003c/p\u003e\u003c/div\u003e","tags":["phtl","training1","editorial"]}}