{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1494191028,"rating":11,"authorHandle":"rodz","modificationTimeSeconds":1494191028,"id":51884,"title":"\u003cp\u003eWhy does this happen?\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eConsider the following C++ code:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003e#include \u0026lt;bits/stdc++.h\u0026gt;\nusing namespace std;\ntypedef long long ll;\ndouble f(ll x,ll y,ll p,ll q)\n{\n    double n \u003d ((1.0 * p) * (1.0*y)) / (1.0*q) - x;\n    double d \u003d (1.0 - (1.0*p)/(1.0*q));\n    return n/d;\n}\nint main()\n{\n\tll x \u003d 1, y \u003d 2, p \u003d 499999999 , q \u003d 500000000;\n\tcout \u0026lt;\u0026lt; fixed \u0026lt;\u0026lt; setprecision(6);\n\tcout \u0026lt;\u0026lt; f(x, y, p, q) \u0026lt;\u0026lt; endl;\n        cin \u0026gt;\u0026gt; x \u0026gt;\u0026gt; y \u0026gt;\u0026gt; p \u0026gt;\u0026gt; q;\n\tcout \u0026lt;\u0026lt; f(x, y, p, q) \u0026lt;\u0026lt; endl;\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWhen I run it on \u003ca href\u003d\"//codeforces.com/problemset/customtest\"\u003eCustom Invocation\u003c/a\u003e with input \u003ccode\u003e1 2 499999999 500000000\u003c/code\u003e it prints two different values. I know floating point calculations may have precision issues but why does it make a difference whether I read the input from stdin or hardcode it into the variables?\u003c/p\u003e\u003c/div\u003e","tags":["floating-point","precision","double","float"]}}