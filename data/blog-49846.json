{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":true,"creationTimeSeconds":1484739077,"rating":0,"authorHandle":"maximumSHOT","modificationTimeSeconds":1484739077,"id":49846,"title":"\u003cp\u003eРазбор задач. День 2.\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eЗадачи это контеста собраны из задач республиканских туров двух прошлых лет. (Сезон 2014-2015 и 2015-2016)\u003c/p\u003e\u003ch2\u003eСсылки на разборы!\u003c/h2\u003e\u003cp\u003e\u003ca href\u003d\"https://neerc.ifmo.ru/school/archive/2014-2015/ru-olymp-regional-2015-solutions.pdf\"\u003e2014-2015 г.\u003c/a\u003e \u003ca href\u003d\"https://neerc.ifmo.ru/school/archive/2015-2016/ru-olymp-regional-2016-editorial.pdf\"\u003e2015-2016 г.\u003c/a\u003e\u003c/p\u003e\u003cp\u003e[problem:101224A]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;math.h\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;fstream\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;map\u0026gt;\n#include \u0026lt;set\u0026gt;\n#include \u0026lt;queue\u0026gt;\n#include \u0026lt;stdio.h\u0026gt;\n\nusing namespace std;\n\n#define ALL(x) (x).begin(), (x).end()\n#define mp make_pair\n#define vec vector\n#define what(x) cerr \u0026lt;\u0026lt; #x \u0026lt;\u0026lt; \u0026quot; \u003d \u0026quot; \u0026lt;\u0026lt; x \u0026lt;\u0026lt; \u0027\\n\u0027;\n\ntypedef long long LL;\ntypedef long double LD;\n\nconst LL inf \u003d 1000000000ll;\nconst LL inf64 \u003d inf * inf;\n\nbool solve()\n{\n    freopen(\u0026quot;hall.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n    freopen(\u0026quot;hall.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n\n    LL a, b, c, d, ans \u003d 0;\n\n    cin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b \u0026gt;\u0026gt; c \u0026gt;\u0026gt; d;\n\n    LL l, r;\n    \n    vec\u0026lt; pair\u0026lt;LL, LL\u0026gt; \u0026gt; mat;\n    \n    for(LL i(1);i \u0026lt;\u003d 1000000ll;i++)\n    {\n        l \u003d c / 2 + c % 2 - i;\n        l \u003d max(l, a / i + (a % i !\u003d 0));\n        l \u003d max(l, i);\n        \n        r \u003d d / 2 - i;\n        r \u003d min(r, b / i);\n\n        while(a \u0026lt;\u003d i * l \u0026amp;\u0026amp; i * l \u0026lt;\u003d b \u0026amp;\u0026amp; c \u0026lt;\u003d 2 * (i + l) \u0026amp;\u0026amp; 2 * (i + l) \u0026lt;\u003d d \u0026amp;\u0026amp; l \u0026gt;\u003d i) l--;\n        while(a \u0026lt;\u003d i * r \u0026amp;\u0026amp; i * r \u0026lt;\u003d b \u0026amp;\u0026amp; c \u0026lt;\u003d 2 * (i + r) \u0026amp;\u0026amp; 2 * (i + r) \u0026lt;\u003d d) r++;\n        l++;\n        r--;\n\n        if(r \u0026lt; l) continue;\n        ans +\u003d r - l + 1;\n    }\n\n    cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0027\\n\u0027;\n\n    return true;\n}\n\nint main()\n{\n    //while(solve());\n    solve();\n\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:101224B]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;math.h\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;fstream\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;map\u0026gt;\n#include \u0026lt;set\u0026gt;\n#include \u0026lt;queue\u0026gt;\n#include \u0026lt;stdio.h\u0026gt;\n\nusing namespace std;\n\n#define ALL(x) (x).begin(), (x).end()\n#define mp make_pair\n#define vec vector\n\ntypedef long long LL;\ntypedef long double LD;\n\nconst LL inf \u003d 1000000000ll;\nconst LL inf64 \u003d inf * inf;\n\nbool solve()\n{\n    freopen(\u0026quot;prizes.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n    freopen(\u0026quot;prizes.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n\n    int n, k;\n\n    cin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; k;\n\n    vec\u0026lt;LL\u0026gt; a(n + 1), l(n + 1), r(n + 1);\n\n    for(int i(1);i \u0026lt;\u003d n;i++) cin \u0026gt;\u0026gt; a[i];\n\n    LL s \u003d 0;\n\n    for(int i(1);i \u0026lt;\u003d k;i++) s +\u003d a[i];\n\n    l[k] \u003d s;\n\n    for(int i(k + 1);i \u0026lt;\u003d n;i++)\n    {\n        s \u003d s - a[i - k] + a[i];\n        l[i] \u003d max(l[i - 1], s);\n    }\n\n    s \u003d 0;\n    \n    for(int i(n);i \u0026gt;\u003d n - k + 1;i--) s +\u003d a[i];\n\n    r[n - k + 1] \u003d s;\n\n    for(int i(n - k);i \u0026gt;\u003d 1;i--)\n    {\n        s \u003d s - a[i + k] + a[i];\n        r[i] \u003d max(r[i + 1], s);\n    }\n\n    LL ans \u003d min(r[k + 1], l[n - k]);\n\n    for(int i(1);i + k \u0026lt;\u003d n;i++)\n    {\n        // [i .. i + k - 1]\n\n        s \u003d max(l[i - 1], r[i + k]);\n        ans \u003d min(ans, s);\n    }\n\n    cout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0027\\n\u0027;\n\n    return true;\n}\n    \nint main()\n{\n    //while(solve());\n    solve();\n\n    return 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:101224C]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#define INFILE \u0026quot;circle.in\u0026quot;\n#define OUTFILE \u0026quot;circle.out\u0026quot;\n\n#include \u0026lt;stdio.h\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;utility\u0026gt;\n#include \u0026lt;stack\u0026gt;\n#include \u0026lt;queue\u0026gt;\n#include \u0026lt;deque\u0026gt;\n#include \u0026lt;set\u0026gt;\n#include \u0026lt;map\u0026gt;\n\nusing namespace std;\n\nint main ()\n{\n\tios_base::sync_with_stdio(0);\n\n\tfreopen(INFILE, \u0026quot;r\u0026quot;, stdin);\n\tfreopen(OUTFILE, \u0026quot;w\u0026quot;, stdout);\n\n\tint n;\n\tcin \u0026gt;\u0026gt; n;\n\tif (n % 2 !\u003d 0)\n\t\tcout \u0026lt;\u0026lt; n * (n - 1) \u0026lt;\u0026lt; endl;\n\telse\n\t\tcout \u0026lt;\u0026lt; n * (n - 1) - n \u0026lt;\u0026lt; endl;\n\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:101224D]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#define INFILE \u0026quot;forest.in\u0026quot;\n#define OUTFILE \u0026quot;forest.out\u0026quot; \n\n#include \u0026lt;stdio.h\u0026gt;\n#include \u0026lt;cstdlib\u0026gt;\n#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;string\u0026gt;\n#include \u0026lt;cmath\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;utility\u0026gt;\n#include \u0026lt;stack\u0026gt;\n#include \u0026lt;queue\u0026gt;\n#include \u0026lt;deque\u0026gt;\n#include \u0026lt;set\u0026gt;\n#include \u0026lt;map\u0026gt;\n\nusing namespace std;\n\ntypedef vector\u0026lt;long long\u0026gt; LongNumber;\n\nlong long a, k, b, m, x, res;\nconst long long max_v \u003d 2e+18;\n\nlong long bin_search (long long L, long long R)\n{\n\tif (R - L \u0026lt;\u003d 1)\n\t{\n\t\tif (a * (L - L / k) + b * (L - L / m) \u0026gt;\u003d x)\n\t\t\treturn L;\n\t\telse\n\t\t\treturn R;\n\t}\n\n\tlong long M \u003d (L + R) / 2;\n\tlong long d1 \u003d M - M / k;\n\tlong long d2 \u003d M - M / m;\n\t\n\tbool success \u003d true;\n\tlong long k1, k2;\n\tif (max_v / d1 \u0026gt; a)\n\t\tk1 \u003d a * d1;\n\telse\n\t\tsuccess \u003d false;\n\n\tif (max_v / d2 \u0026gt; b)\n\t\tk2 \u003d b * d2;\n\telse\n\t\tsuccess \u003d false;\n\n\tif (success)\n\t{\n\t\tres \u003d k1 + k2;\n\n\t\tif (res \u0026gt;\u003d x)\n\t\t\treturn bin_search(L, M);\n\t\telse\n\t\t\treturn bin_search(M + 1, R);\n\t}\n\telse\n\t\treturn bin_search(L, M);\n}\n\nint main ()\n{\n\tios_base::sync_with_stdio(0);\n\n\tfreopen(INFILE, \u0026quot;r\u0026quot;, stdin);\n\tfreopen(OUTFILE, \u0026quot;w\u0026quot;, stdout);\n\n\tcin \u0026gt;\u0026gt; a \u0026gt;\u0026gt; k \u0026gt;\u0026gt; b \u0026gt;\u0026gt; m \u0026gt;\u0026gt; x;\n\n\tcout \u0026lt;\u0026lt; bin_search(0, x + 1) \u0026lt;\u0026lt; endl;\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:101224E]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;stdio.h\u0026gt;\n\nusing namespace std;\n\n#define vec vector\n\nbool solve() {\n\n\tfreopen(\u0026quot;prizes.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n\tfreopen(\u0026quot;prizes.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n\n\tint n;\n\t\n\tscanf(\u0026quot;%d\u0026quot;, \u0026amp;n);\n\n\tint mx1, mx2;\n\tmx1 \u003d mx2 \u003d -1;\n\n\tfor(int x, i \u003d 1;i \u0026lt;\u003d n;i++) {\n\t\tscanf(\u0026quot;%d\u0026quot;, \u0026amp;x);\n\t\tif(x \u0026gt; mx1) {\n\t\t\tmx2 \u003d mx1;\n\t\t\tmx1 \u003d x;\n\t\t}else if(x \u0026gt; mx2) {\n\t\t\tmx2 \u003d x;\n\t\t}\n\t\tif(i \u0026gt;\u003d 2) printf(\u0026quot;%d \u0026quot;, mx2);\n\t}\n\t\n\tputs(\u0026quot;\u0026quot;);\n\n\treturn true;\n}\n\nint main() {\n\n\t//while(solve());\n\tsolve();\n\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:101224F]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;stdio.h\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\ntypedef long double ld;\n\n#define vec vector\n\nconst int inf \u003d 1000000000;\nconst ll inf64 \u003d 1ll * inf * inf;\n\nll n, a, b, w, h;\n\nbool check(ll d) {\n\tll t1 \u003d w / (a + 2ll * d);\n\tll t2 \u003d h / (b + 2ll * d);\n\tld k1 \u003d t1;\n\tld k2 \u003d t2;\n\tld k3 \u003d n;\n\tif(k1 * k2 \u0026gt;\u003d k3) return 1;\n\tt1 \u003d w / (b + 2ll * d);\n\tt2 \u003d h / (a + 2ll * d);\n\tk1 \u003d t1;\n\tk2 \u003d t2;\n\tk3 \u003d n;\n\treturn (k1 * k2 \u0026gt;\u003d k3);\n}\n\nbool solve() {\n\n\tfreopen(\u0026quot;space.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n\tfreopen(\u0026quot;space.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n\n\tcin \u0026gt;\u0026gt; n \u0026gt;\u0026gt; a \u0026gt;\u0026gt; b \u0026gt;\u0026gt; w \u0026gt;\u0026gt; h;\n\n\tll l, r, m;\n\n\tl \u003d 0, r \u003d inf64;\n\n\twhile(r - l \u0026gt; 1) {\n\t\tm \u003d (l + r) / 2;\n\t\tif(check(m)) l \u003d m;\n\t\telse r \u003d m - 1;\n\t}\n\t\n\tcout \u0026lt;\u0026lt; (check(r)?r : l) \u0026lt;\u0026lt; \u0027\\n\u0027;\n\t\t \n\treturn true;\n}\n\nint main() {\n\n\t//while(solve());\n\tsolve();\n\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:101224G]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\n\nll sqr(int x) {\n\treturn 1ll * x * x;\n}\n\nconst int inf \u003d 1000000000;\nconst ll inf64 \u003d 1ll * inf * inf;\n\nbool solve() {\n\n\tfreopen(\u0026quot;division.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n\tfreopen(\u0026quot;division.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n\n\tint n;\n\tcin \u0026gt;\u0026gt; n;\n\n\tll ans;\n\tint a, b, c;\n\tans \u003d 4ll * inf64;\n\n\tfor(int x \u003d n / 3 - 2000;x \u0026lt;\u003d n / 3 + 2000;x++) {\n\t\tfor(int y \u003d n / 3 - 2000;y \u0026lt;\u003d n / 3 + 2000;y++) {\n\t\t\tint z \u003d n - x - y;\n\t\t\tif(x \u0026gt;\u003d 1 \u0026amp;\u0026amp; y \u0026gt;\u003d 1 \u0026amp;\u0026amp; z \u0026gt;\u003d 1 \u0026amp;\u0026amp; x \u0026lt; y \u0026amp;\u0026amp; y \u0026lt; z) {\n\t\t\t\tll tmp \u003d sqr(x) + sqr(y) + sqr(z);\n\t\t\t\tif(tmp \u0026lt; ans) {\n\t\t\t\t\tans \u003d tmp;\n\t\t\t\t\ta \u003d x;\n\t\t\t\t\tb \u003d y;\n\t\t\t\t\tc \u003d z;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcout \u0026lt;\u0026lt; a \u0026lt;\u0026lt; \u0026quot; \u0026quot; \u0026lt;\u0026lt; b \u0026lt;\u0026lt; \u0026quot; \u0026quot; \u0026lt;\u0026lt; c \u0026lt;\u0026lt; \u0026quot;\\n\u0026quot;;\n\n\treturn true;\n}\n\nint main() {\n\n\t//while(solve());\n\tsolve();\n\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cp\u003e[problem:101224H]\u003c/p\u003e \u003cdiv class\u003d\"spoiler\"\u003e\u003cb class\u003d\"spoiler-title\"\u003eАвторское решение\u003c/b\u003e\u003cdiv class\u003d\"spoiler-content\" style\u003d\"display: none;\"\u003e\u003cpre\u003e\u003ccode\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;algorithm\u0026gt;\n#include \u0026lt;vector\u0026gt;\n#include \u0026lt;stdio.h\u0026gt;\n\nusing namespace std;\n\ntypedef long long ll;\n\n#define vec vector\n#define ALL(x) (x).begin(), (x).end()\n\nconst int inf \u003d 1000000000;\nconst ll inf64 \u003d 1ll * inf * inf;\n\nbool check(const vec\u0026lt; int \u0026gt; \u0026amp; a, int x) {\n\tif(a.empty()) return 0;\n\tint i \u003d lower_bound(ALL(a), x) - a.begin();\n\tif(i \u0026lt; (int)a.size() \u0026amp;\u0026amp; a[i] \u003d\u003d x) return 1;\n\telse return 0;\n}\n\nbool solve() {\n\n\tfreopen(\u0026quot;game.in\u0026quot;, \u0026quot;r\u0026quot;, stdin);\n\tfreopen(\u0026quot;game.out\u0026quot;, \u0026quot;w\u0026quot;, stdout);\n\n\tint n, k;\n\n\tscanf(\u0026quot;%d %d\u0026quot;, \u0026amp;n, \u0026amp;k);\n\n\tvec\u0026lt; int \u0026gt; a(n);\n\n\tfor(int i \u003d 0;i \u0026lt; n;i++) {\n\t\tscanf(\u0026quot;%d\u0026quot;, \u0026amp;a[i]);\n\t}\n\n\tsort(ALL(a));\n\n\tll ans \u003d 0;\n\n\tfor(int i \u003d 0;i \u0026lt; n;i++) {\n\t\tint j \u003d i;\n\t\twhile(j \u0026lt; n \u0026amp;\u0026amp; a[i] \u003d\u003d a[j]) j++; j--;\n\t\tif(j - i + 1 \u0026gt;\u003d 3) ans++;\n\t\ti \u003d j;\n\t}\n\n\tvec\u0026lt; int \u0026gt; b \u003d a;\n\n\tb.resize(unique(ALL(b)) - b.begin());\n\n\tint sz \u003d (int)b.size();\n\n\tfor(int i \u003d 0;i \u0026lt; sz;i++) {\n\t\tint l, r, m;\n\t\tl \u003d i;\n\t\tr \u003d sz - 1;\n\t\twhile(r - l \u0026gt; 1) {\n\t\t\tm \u003d (l + r) / 2;\n\t\t\tif(1ll * b[i] * k \u0026gt;\u003d b[m]) l \u003d m;\n\t\t\telse r \u003d m - 1;\n\t\t}\n\t\tll tmp \u003d (1ll * b[i] * k \u0026gt;\u003d b[r]?r : l) - i;\n\t\ttmp \u003d tmp * (tmp - 1) / 2;\n\t\ttmp *\u003d 6;\n\t\tans +\u003d tmp;\n\t}\n\n\tb.clear();\n\n\tfor(int i \u003d 0;i \u0026lt; n;i++) {\n\t\tint j \u003d i;\n\t\twhile(j \u0026lt; n \u0026amp;\u0026amp; a[i] \u003d\u003d a[j]) j++; j--;\n\t\tif(j - i + 1 \u0026gt;\u003d 2) b.push_back(a[i]);\n\t\ti \u003d j;\n\t}\n\n\tif(b.empty()) {\n\t\tcout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0027\\n\u0027;\n\t\treturn true;\n\t}\n\n\ta.resize(unique(ALL(a)) - a.begin());\n\n\tfor(int i \u003d 0;i \u0026lt; sz;i++) {\n\t\tint l, r, m;\n\t\tint L, R;\n\n\t\tl \u003d 0;\n\t\tr \u003d (int)b.size() - 1;\n\n\t\twhile(r - l \u0026gt; 1) {\n\t\t\tm \u003d (l + r) / 2;\n\t\t\tif(1ll * k * a[i] \u0026lt; b[m]) r \u003d m - 1;\n\t\t\telse l \u003d m;\n\t\t}\n\n\t\tR \u003d (1ll * k * a[i] \u0026gt;\u003d b[r]?r : (1ll * k * a[i] \u0026gt;\u003d b[l]?l : -1) );\n\n\t\tl \u003d 0;\n\t\tr \u003d (int)b.size() - 1;\n\n\t\twhile(r - l \u0026gt; 1) {\n\t\t\tm \u003d (l + r) / 2;\n\t\t\tif(1ll * k * b[m] \u0026gt;\u003d a[i]) r \u003d m;\n\t\t\telse l \u003d m + 1;\n\t\t}\n\n\t\tL \u003d (1ll * k * b[l] \u0026gt;\u003d a[i]?l : (1ll * k * b[r] \u0026gt;\u003d a[i]?r : -1));\n\n\t\tll tmp \u003d (L \u003d\u003d -1 || R \u003d\u003d -1?0 : max(0, R - L + 1));\n\t\t\n\t\tif(check(b, a[i])) tmp--;\n\n\t\tans +\u003d tmp * 3ll;\n\t}\n\n\tcout \u0026lt;\u0026lt; ans \u0026lt;\u0026lt; \u0027\\n\u0027;\n\n\treturn true;\n}\n\nint main() {\n\n\t//while(solve());\n\tsolve();\n\n\treturn 0;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e","tags":[]}}