{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1505249513,"rating":0,"authorHandle":"0day20hour","modificationTimeSeconds":1505249592,"id":54499,"title":"\u003cp\u003eHelp needed. Spoj — IQUERY — Interesting queries\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eProblem: \u003ca href\u003d\"http://www.spoj.com/problems/IQUERY/\"\u003ehttp://www.spoj.com/problems/IQUERY/\u003c/a\u003e\u003c/p\u003e\u003cp\u003eI think we can use segment tree for this problem. I figured out that the multiplication and addition part has the following property:\u003cbr /\u003e\u003ccode\u003emul(i, j) \u003d mul(i, k)+mul(k+1, j)+mul(i, k)*mul(k+1, j)\u003c/code\u003e where \u003ccode\u003ei \u0026lt;\u003d k \u0026lt;\u003d j\u003c/code\u003e.\u003cbr /\u003eSo, this is easy to do with range trees.\u003c/p\u003e\u003cp\u003eBut as \u003ccode\u003ebitwise and\u003c/code\u003e is not distributive over addition we can\u0027t define the second type of query as the previous one. Anyone approached the problem?\u003c/p\u003e\u003cp\u003eAny hint will be appreciated.\u003c/p\u003e\u003c/div\u003e","tags":["spoj","bitwise"]}}