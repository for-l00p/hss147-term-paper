{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1420896590,"rating":0,"authorHandle":"beched","modificationTimeSeconds":1420897422,"id":15696,"title":"\u003cp\u003eКол-во путей через вершину\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eПривет!\u003c/p\u003e\u003cp\u003eНе получается придумать оптимальное решение для следующей задачи: дан ориентированный граф (городов), вершины пронумерованы по DFS (pre-order).\u003c/p\u003e\u003cp\u003eГоворим, что город \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e снабжает город \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e, если все пути из корня (вершины \u003cspan class\u003d\"tex-span\"\u003e1\u003c/span\u003e) в \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e проходят через \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003cp\u003eДля каждого города нужно посчитать количество городов, которые он снабжает. Всего городов 1000, дорог (однонаправленных рёбер) 2000. Решить можно в лоб, перечисляя все пути через BFS или DFS, но это экспонента, не годится.\u003c/p\u003e\u003cp\u003eДумал о всяких рекурсивных методах, имея в виду такое наблюдение: если город \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ew\u003c/i\u003e\u003c/span\u003e не снабжает город \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e, то он не снабжает и всех потомков \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ev\u003c/i\u003e\u003c/span\u003e.\u003c/p\u003e\u003c/div\u003e","tags":["граф","dfs","путь"]}}