{"status":"OK","result":{"originalLocale":"en","allowViewHistory":false,"creationTimeSeconds":1409569613,"rating":17,"authorHandle":"johnchen902","modificationTimeSeconds":1409574412,"id":13650,"title":"\u003cp\u003eSuper Parentheses Matching Problem\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eI ran across this problem several months ago, but I can\u0027t think up with an algorithm fast enough:\u003c/p\u003e\u003cp\u003eYou\u0027re given a string \u003ccode\u003eS\u003c/code\u003e (\u003ccode\u003e|S| \u0026lt;\u003d 500000\u003c/code\u003e) consisting of \u003ccode\u003e\u0027(\u0027\u003c/code\u003e, \u003ccode\u003e\u0027)\u0027\u003c/code\u003e and \u003ccode\u003e\u0027?\u0027\u003c/code\u003e, where \u003ccode\u003e\u0027?\u0027\u003c/code\u003e can (and must) be changed to either \u003ccode\u003e(\u003c/code\u003e or \u003ccode\u003e)\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eIf the \u003ccode\u003ei\u003csup\u003eth\u003c/sup\u003e\u003c/code\u003e question mark is changed to \u003ccode\u003e\u0027(\u0027\u003c/code\u003e, you\u0027ll get a penalty of \u003ccode\u003eL[i]\u003c/code\u003e (\u003ccode\u003eL[i]\u003c/code\u003e is in the range of \u003ccode\u003eint\u003c/code\u003e).\u003c/p\u003e\u003cp\u003eIf the \u003ccode\u003ei\u003csup\u003eth\u003c/sup\u003e\u003c/code\u003e question mark is changed to \u003ccode\u003e\u0027)\u0027\u003c/code\u003e, you\u0027ll get a penalty of \u003ccode\u003eR[i]\u003c/code\u003e (\u003ccode\u003eR[i]\u003c/code\u003e is in the range of \u003ccode\u003eint\u003c/code\u003e).\u003c/p\u003e\u003cp\u003eGiven \u003ccode\u003eS\u003c/code\u003e, \u003ccode\u003eL\u003c/code\u003e and \u003ccode\u003eR\u003c/code\u003e, is it possible to produce a valid (matching) parentheses sequence? And if yes, what is minimum penalty you must pay?  \u003c/p\u003e\u003cp\u003eThe time limit is 0.2s and the memory limit is 64Mib.\u003c/p\u003e\u003cp\u003eSamples:\u003c/p\u003e \u003cpre\u003e\u003ccode\u003eS\u003d\u0026quot;(())\u0026quot;       L\u003d{}           R\u003d{}            -\u0026gt; result\u003d0\nS\u003d\u0026quot;(??)\u0026quot;       L\u003d{1,10}       R\u003d{10,100}      -\u0026gt; result\u003d20\nS\u003d\u0026quot;?????)))))\u0026quot; L\u003d{2,2,2,2,2}  R\u003d{1,1,1,1,1}   -\u0026gt; result\u003d10\nS\u003d\u0026quot;(((((?\u0026quot;     L\u003d{2147483647} R\u003d{-2147483648} -\u0026gt; result\u003dimpossible\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eWhen I first encountered this problem, I came up with a \u003ccode\u003eΘ(n\u003csup\u003e2\u003c/sup\u003e)\u003c/code\u003e dynamic programming solution. Of course, that leads to TLE. \u003ca href\u003d\"http://ideone.com/pSjcyH\"\u003eCode\u003c/a\u003e\u003c/p\u003e\u003cp\u003eLast week, I came up with a greedy solution. Unfortunately, it was still a \u003ccode\u003eΘ(n\u003csup\u003e2\u003c/sup\u003e)\u003c/code\u003e solution. \u003ca href\u003d\"http://ideone.com/s5Cj0L\"\u003eCode\u003c/a\u003e\u003c/p\u003e\u003cp\u003eAfter several months of struggle, I decided to ask you smart folks to help me. Can you came up with a solution?\u003c/p\u003e\u003c/div\u003e","tags":["problem","dynamic programming","greedy"]}}