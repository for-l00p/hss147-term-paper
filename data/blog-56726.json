{"status":"OK","result":{"originalLocale":"en","allowViewHistory":true,"creationTimeSeconds":1514583348,"rating":18,"authorHandle":"keymoon","modificationTimeSeconds":1514592087,"id":56726,"title":"\u003cp\u003e【C#】Sometime double.ToString() returns weird value\u003c/p\u003e","locale":"en","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eCode 1.\u003c/p\u003e \u003cpre\u003e\u003ccode\u003eusing System;\n\nclass P\n{\n    static void Main()\n    {\n        double d \u003d 1.23456;\n        Console.WriteLine(d);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eCode 2.\u003c/p\u003e \u003cpre\u003e\u003ccode\u003eusing System;\nclass P\n{\n    static void Main()\n    {\n        double d \u003d 1.23456;\n        Console.WriteLine(d);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eCan you find difference between two?\u003c/p\u003e\u003cp\u003eYes,It was JUST line feed. And,these two code lead to a different result.\u003c/p\u003e\u003cp\u003eResult 1.\u003ccode\u003e1,23456\u003c/code\u003e\u003c/p\u003e\u003cp\u003eResult 2.\u003ccode\u003e1.23456\u003c/code\u003e\u003c/p\u003e\u003cp\u003eIt seems \u0027.\u0027 replaced by \u0027,\u0027.\u003c/p\u003e\u003cp\u003eThe same problem occurs in Mono.\u003c/p\u003e\u003cp\u003eI highly recommend to use substitute methods like this: \u003c/p\u003e \u003cpre\u003e\u003ccode\u003estatic string doubleToString(double d)\n{\n    int s \u003d (int)d;\n    string a \u003d Convert.ToInt32((d - s) * 1000000000).ToString().PadLeft(9, \u00270\u0027);\n    return $\u0026quot;{s}.{a}\u0026quot;;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eedit. This issue is not a bug. Thank you for teaching me AlexDmitriev, Gassa.\u003c/p\u003e\u003cp\u003eThis is locale problem. I am using \u0026quot;Ja\u0026quot; locale, but I should use \u0026quot;en_US\u0026quot; locale.\u003c/p\u003e\u003cp\u003eProof: \u003ca href\u003d\"/contest/908/submission/33796322\" title\u003d\"Submission 33796322 by keymoon\"\u003e33796322\u003c/a\u003e \u003ca href\u003d\"/contest/908/submission/33796340\" title\u003d\"Submission 33796340 by keymoon\"\u003e33796340\u003c/a\u003e\u003c/p\u003e\u003c/div\u003e","tags":["c#","issues","locale","mono","ms"]}}