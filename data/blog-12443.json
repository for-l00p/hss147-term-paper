{"status":"OK","result":{"originalLocale":"ru","allowViewHistory":false,"creationTimeSeconds":1401281771,"rating":11,"authorHandle":"adamant","modificationTimeSeconds":1401282027,"id":12443,"title":"\u003cp\u003eПолучение предка на заданной высоте в дереве\u003c/p\u003e","locale":"ru","content":"\u003cdiv class\u003d\"ttypography\"\u003e\u003cp\u003eВсем привет! Недавно меня заинтересовала такая задача: дано дерево с корнем в вершине 0. Поступают запросы двух видов.\u003c/p\u003e \u003col\u003e   \u003cli\u003eДобавить к вершине \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e сына.\u003c/li\u003e   \u003cli\u003eВыдать номер предка вершины \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e, у которого высота равна \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eh\u003c/i\u003e\u003c/span\u003e.\u003c/li\u003e \u003c/ol\u003e\u003cp\u003eВершины пронумерованы в порядке добавления.\u003c/p\u003e\u003cp\u003eПока что я знаю только два метода решения:\u003c/p\u003e \u003col\u003e   \u003cli\u003eДвоичный подъём. Ну тут всё очевидно, \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/5d/1f/5d1f29f648247e77966a5b1703590aea2a6a75b6.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e времени и памяти.\u003c/li\u003e   \u003cli\u003eС помощью индексированного двоичного дерева поиска (например, неявная дерамида) поддерживаем эйлеров обход графа. Далее либо сводим к \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003ek\u003c/i\u003e\u003c/span\u003e-ой порядковой статистике на префиксе, либо храним для каждой высоты список вершин и находим нужную бинарным поиском. Это потребует \u003cspan class\u003d\"tex-span\"\u003e\u003ci\u003eO\u003c/i\u003e(\u003ci\u003en\u003c/i\u003e)\u003c/span\u003e памяти, но времени \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/59/8e/598e2c0b003131c01fb669b81327d7d47bebf547.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e (возможно, при грамотной реализации можно и \u003cimg align\u003d\"middle\" class\u003d\"tex-formula\" src\u003d\"/predownloaded/5d/1f/5d1f29f648247e77966a5b1703590aea2a6a75b6.png\" style\u003d\"max-width: 100.0%;max-height: 100.0%;\" /\u003e, но я точно не знаю), ещё и с большущей константой.\u003c/li\u003e \u003c/ol\u003e\u003cp\u003eИнтересно то, что оба метода подозрительно похожи на LCA. В связи с этим возникает вопрос — может, задачу можно как-то свести к LCA непосредственно? Ну и, конечно, интересно, какие ещё есть способы решения этой задачи, в том числе и в оффлайне.\u003c/p\u003e\u003c/div\u003e","tags":[]}}